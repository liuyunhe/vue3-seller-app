{"version":3,"sources":["webpack:///./src/components/AwardPopup/index.vue?26c7","webpack:///./src/components/ActTipsPopup/index.vue?cda3","webpack:///./src/components/ActTipsPopup/index.vue","webpack:///./src/components/ActTipsPopup/index.vue?6c7d","webpack:///./src/components/ActTipsPopup/index.vue?3ccf","webpack:///./src/components/AwardPopup/index.vue","webpack:///./src/components/AwardPopup/index.vue?7c2b","webpack:///./src/components/AwardPopup/index.vue?a521","webpack:///./src/views/seller/Acts/ScanFansRank.vue?8b70","webpack:///./src/hooks/useJumpBtn.ts","webpack:///./src/views/seller/Acts/ScanFansRank.vue","webpack:///./src/views/seller/Acts/ScanFansRank.vue?9c78","webpack:///./src/views/seller/Acts/ScanFansRank.vue?b992","webpack:///./src/plugins/hbsDraw.ts","webpack:///./src/views/seller/Acts/ScanFansRank.vue?df35"],"names":["class","show","lock-scroll","handleClickClose","defineComponent","name","props","type","Boolean","default","setup","prop","ctx","emit","render","__scopeId","handleClickJumpBtn","router","path","push","showTips","handleColseTips","actTips","showAwardPopup","handleCloseAwardPopup","src","drawData","awdPic","alt","awdName","showNoAwardPopup","handleCloseNoAwardPopup","handleClickGiftsBtn","showActTips","joinEtime","resultFlagType","actOnStatus","rankNum","finishFanNum","statisTime","scanFanNum","scanCodeNum","rankList","item","index","key","id","shopName","showNoList","actCode","String","components","ActTipsPopup","AwardPopup","ref","useRouter","getScanCodeRankList","http","post","then","res","code","value","data","console","log","length","getFinishRankList","resultFlag","Toast","duration","forbidClick","message","getActInfo","actOnGoingStatus","userAward","scanInfo","rankInfo","Dialog","alert","title","fail","msg","getActRules","rules","onMounted","handleReceive","Draw","params","Promise","resolve","getGift","cb","awdType","window","location","href","uaId","tipsObj","success","onClose","catch","awdStatus","awdJumpurl","actRuleDesc"],"mappings":"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","file":"js/SellerScanFansRank.0483c076.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=398be061&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=b4d1c714&lang=less&scoped=true\"","<template>\r\n  <van-overlay :show=\"show\" :lock-scroll=\"false\">\r\n    <div class=\"wrapper\">\r\n      <div class=\"content\">\r\n        <slot></slot>\r\n      </div>\r\n      <div class=\"close\" @click=\"handleClickClose\"></div>\r\n    </div>\r\n  </van-overlay>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n  name: 'ActTipsPopup',\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  setup(prop, ctx) {\r\n    const handleClickClose = () => {\r\n      ctx.emit('close')\r\n    }\r\n    return { handleClickClose }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '@/theme/common';\r\n.wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  margin-top: -30px;\r\n  .close {\r\n    .btn-popup-close();\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { defineComponent } from 'vue';\r\nexport default defineComponent({\r\n    name: 'ActTipsPopup',\r\n    props: {\r\n        show: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    setup(prop, ctx) {\r\n        const handleClickClose = () => {\r\n            ctx.emit('close');\r\n        };\r\n        return { handleClickClose };\r\n    }\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=b4d1c714&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b4d1c714&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b4d1c714\"\n\nexport default script","<template>\r\n  <van-overlay :show=\"show\">\r\n    <div class=\"wrapper\">\r\n      <div class=\"content\">\r\n        <slot></slot>\r\n      </div>\r\n      <div class=\"close\" @click=\"handleClickClose\"></div>\r\n    </div>\r\n  </van-overlay>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  setup(prop, ctx) {\r\n    const handleClickClose = () => {\r\n      ctx.emit('close')\r\n    }\r\n    return { handleClickClose }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '@/theme/common';\r\n.wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  margin-top: -30px;\r\n  .close {\r\n    .btn-popup-close();\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { defineComponent } from 'vue';\r\nexport default defineComponent({\r\n    props: {\r\n        show: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    setup(prop, ctx) {\r\n        const handleClickClose = () => {\r\n            ctx.emit('close');\r\n        };\r\n        return { handleClickClose };\r\n    }\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=398be061&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=398be061&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-398be061\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ScanFansRank.vue?vue&type=style&index=0&id=4fc0109a&lang=css\"","export const handleClickJumpBtn = (router, path) => {\r\n    router.push(path);\r\n};\r\n","<template>\r\n  <div class=\"fans-rank-container\">\r\n    <act-tips-popup :show=\"showTips\" @close=\"handleColseTips\">\r\n      <div class=\"tips-content\">\r\n        <div class=\"text\" v-html=\"actTips\"></div>\r\n      </div>\r\n    </act-tips-popup>\r\n    <award-popup :show=\"showAwardPopup\" @close=\"handleCloseAwardPopup\">\r\n      <div class=\"award-warp\">\r\n        <div class=\"title\"></div>\r\n        <img class=\"pic\" :src=\"drawData && drawData.awdPic\" alt=\"\" />\r\n        <div class=\"name\">{{ drawData && drawData.awdName }}</div>\r\n        <div\r\n          class=\"btn\"\r\n          @click=\"\r\n            handleReceive(drawData, () => {\r\n              showAwardPopup = false\r\n            })\r\n          \"\r\n        ></div>\r\n      </div>\r\n    </award-popup>\r\n    <award-popup :show=\"showNoAwardPopup\" @close=\"handleCloseNoAwardPopup\">\r\n      <div class=\"no-award-warp\">\r\n        <div class=\"name\">未中奖</div>\r\n        <div class=\"btn\" @click=\"handleCloseNoAwardPopup\"></div>\r\n      </div>\r\n    </award-popup>\r\n    <div class=\"bg\">\r\n      <div class=\"btn-tips\" @click=\"showTips = true\"></div>\r\n      <div class=\"btn-gift\" @click=\"handleClickGiftsBtn\"></div>\r\n      <div class=\"join-etime\" v-if=\"!showActTips\">\r\n        参与截止时间：{{ joinEtime }}\r\n      </div>\r\n      <div class=\"act-tips\" v-if=\"showActTips && resultFlagType == 2\">\r\n        参与时间已结束，未获得排名奖励，请下次再接再厉~\r\n      </div>\r\n      <div class=\"act-tips t\" v-if=\"showActTips && resultFlagType >= 4\">\r\n        参与时间已结束，恭喜获得排名奖励，奖励可前往“我的礼品”中查看，若已领取请忽略\r\n      </div>\r\n      <div class=\"rank-data1\">\r\n        <div class=\"rank-data-title\">本期荷芯粉丝活动零售户排名</div>\r\n        <div class=\"no-data\" v-if=\"actOnStatus == 1\">\r\n          <div class=\"icon\"></div>\r\n          <div class=\"tips\">参与截止后，统计展示符合条件的 零售户排名</div>\r\n        </div>\r\n        <div class=\"item left\" v-if=\"actOnStatus == 2\">\r\n          <div class=\"title\">零售户排名</div>\r\n          <div class=\"data\">\r\n            {{ rankNum == 0 ? '暂无' : `第${rankNum}名` }}\r\n          </div>\r\n        </div>\r\n        <div class=\"item right\" v-if=\"actOnStatus == 2\">\r\n          <div class=\"title\">荷芯粉丝数</div>\r\n          <div class=\"data\">\r\n            {{ finishFanNum == 0 ? '暂无' : `${finishFanNum}个` }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"rank-data2\" v-if=\"actOnStatus == 1\">\r\n        <div class=\"rank-data-title\">\r\n          <div class=\"top\" :class=\"{ noSt: !statisTime }\">昨日数据展示</div>\r\n          <div class=\"bottom\" v-if=\"statisTime\">截止到：{{ statisTime }}</div>\r\n        </div>\r\n        <div class=\"item left\">\r\n          <div class=\"title\">扫码粉丝数</div>\r\n          <div class=\"data\">\r\n            {{ scanFanNum == 0 ? '0个' : `${scanFanNum}个` }}\r\n          </div>\r\n        </div>\r\n        <div class=\"item right\">\r\n          <div class=\"title\">粉丝扫码总包数</div>\r\n          <div class=\"data\">\r\n            {{ scanCodeNum == 0 ? '0包' : `${scanCodeNum}包` }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"rank-list\" v-if=\"actOnStatus == 1\">\r\n        <ul>\r\n          <li v-for=\"(item, index) in rankList\" :key=\"item.id\">\r\n            <div class=\"icon first\" v-if=\"index == 0\"></div>\r\n            <div class=\"icon second\" v-if=\"index == 1\"></div>\r\n            <div class=\"icon third\" v-if=\"index == 2\"></div>\r\n            <div class=\"index\" v-if=\"index > 2\">{{ index }}</div>\r\n            <div class=\"shop-name\">{{ item.shopName }}</div>\r\n            <div class=\"fans\">{{ item.scanFanNum }}</div>\r\n          </li>\r\n          <div class=\"no-list\" v-if=\"showNoList\">\r\n            <div class=\"no-list-icon\"></div>\r\n            <div class=\"no-list-tips\">当前暂无统计数据</div>\r\n          </div>\r\n        </ul>\r\n      </div>\r\n      <div class=\"rank-list finish\" v-if=\"actOnStatus == 2\">\r\n        <ul>\r\n          <li v-for=\"(item, index) in rankList\" :key=\"item.id\">\r\n            <div class=\"icon first\" v-if=\"index == 0\"></div>\r\n            <div class=\"icon second\" v-if=\"index == 1\"></div>\r\n            <div class=\"icon third\" v-if=\"index == 2\"></div>\r\n            <div class=\"index\" v-if=\"index > 2\">{{ index }}</div>\r\n            <div class=\"shop-name\">{{ item.shopName }}</div>\r\n            <div class=\"fans\">{{ item.finishFanNum }}</div>\r\n          </li>\r\n          <div class=\"no-list\" v-if=\"showNoList\">\r\n            <div class=\"no-list-icon\"></div>\r\n            <div class=\"no-list-tips\">当前暂无统计数据</div>\r\n          </div>\r\n        </ul>\r\n      </div>\r\n      <div class=\"finish-tips\" v-if=\"actOnStatus == 2\">\r\n        <span class=\"icon-tips\"></span\r\n        >补充说明：未进入榜单的零售户则代表其店铺的粉丝均未达到活动要求的扫码天数。\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, onMounted, ref } from 'vue'\r\nimport { http } from '@/http'\r\nimport { Dialog, Toast } from 'vant'\r\nimport ActTipsPopup from '@/components/ActTipsPopup/index.vue'\r\nimport AwardPopup from '@/components/AwardPopup/index.vue'\r\nimport { DrawData, handleReceive, getActRules } from '@/plugins/hbsDraw'\r\nimport { handleClickJumpBtn } from '@/hooks/useJumpBtn'\r\nimport { useRouter } from 'vue-router'\r\n\r\ninterface RankItem {\r\n  id: number\r\n  sellerId: number\r\n  shopName: string //店铺名称\r\n  scanFanNum: number //扫码粉丝数\r\n  scanCodeNum: number //扫码烟包数\r\n  rankNum: number //排名\r\n  finishFanNum: number //达标粉丝数\r\n}\r\n\r\nexport default defineComponent({\r\n  name: 'ScanFansRank',\r\n  props: {\r\n    actCode: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  components: { ActTipsPopup, AwardPopup },\r\n  setup(props) {\r\n    const actOnStatus = ref<number>(1)\r\n    const resultFlagType = ref<number>(0)\r\n    const scanFanNum = ref<number>(0)\r\n    const scanCodeNum = ref<number>(0)\r\n    const rankNum = ref<number>(0)\r\n    const finishFanNum = ref<number>(0)\r\n    const joinEtime = ref<string | null>(null)\r\n    const statisTime = ref<string>('')\r\n    const rankList = ref<RankItem[]>([])\r\n    const showNoList = ref<boolean>(false)\r\n    const showActTips = ref<boolean>(false)\r\n    const showTips = ref<boolean>(false)\r\n    const drawData = ref<DrawData | null>(null)\r\n    const showAwardPopup = ref<boolean>(false)\r\n    const showNoAwardPopup = ref<boolean>(false)\r\n    const actTips = ref<string>('')\r\n    const router = useRouter()\r\n    const handleClickGiftsBtn = () => {\r\n      handleClickJumpBtn(router, '/common/myGifts')\r\n    }\r\n    const getScanCodeRankList = () => {\r\n      http\r\n        .post(\r\n          '/hbSeller/seller/corefanAct/scanCodeRankList',\r\n          { actCode: props.actCode },\r\n          false\r\n        )\r\n        .then((res) => {\r\n          if (res.code === '200') {\r\n            rankList.value = (res.data && res.data.data) || []\r\n          }\r\n          console.log(rankList.value)\r\n          if (rankList.value.length == 0) {\r\n            showNoList.value = true\r\n          }\r\n        })\r\n    }\r\n    const getFinishRankList = (resultFlag: number) => {\r\n      http\r\n        .post(\r\n          '/hbSeller/seller/corefanAct/finishRankList',\r\n          { actCode: props.actCode },\r\n          false\r\n        )\r\n        .then((res) => {\r\n          if (res.code === '200') {\r\n            rankList.value = (res.data && res.data.data) || []\r\n          }\r\n          if (rankList.value.length == 0) {\r\n            showNoList.value = true\r\n          }\r\n          switch (resultFlag) {\r\n            // 1: 参与时间已结束，请耐心等待统计排名…;\r\n            // 2: 统计数据已出,但没有排名;\r\n            // 3: 统计数据已出,等待开奖;\r\n            // 4: 统计数据已出,待领奖;\r\n            // 5: 统计数据已出,奖品已领;\r\n            // 6: 统计数据已出,奖品过期;\r\n            case 1:\r\n              Toast({\r\n                duration: 0,\r\n                forbidClick: true,\r\n                message:\r\n                  '参与时间已结束，系统正在统计零售户排名，请耐心等待…\\n可通过刷新页面，或者退出稍后重新进入查看排名结果'\r\n              })\r\n              break\r\n            case 2:\r\n              Toast({\r\n                duration: 3000,\r\n                forbidClick: true,\r\n                message:\r\n                  '本期排行榜活动已结束，未在排名奖励内，请下次再接再厉～'\r\n              })\r\n              break\r\n\r\n            default:\r\n              break\r\n          }\r\n        })\r\n    }\r\n    const getActInfo = () => {\r\n      http\r\n        .post(\r\n          '/hbSeller/seller/corefanAct/statisInfo',\r\n          { actCode: props.actCode },\r\n          false\r\n        )\r\n        .then((res) => {\r\n          if (res.code === '200') {\r\n            const { actOnGoingStatus, resultFlag = null } = res.data\r\n            const { userAward } = res.data\r\n            joinEtime.value = res.data.joinEtime || null\r\n            statisTime.value = res.data.statisTime || ''\r\n            actOnStatus.value = actOnGoingStatus\r\n            // 1. 活动进行中 2.参与已截止\r\n            if (actOnGoingStatus == 1) {\r\n              getScanCodeRankList()\r\n              if (res.data.scanInfo) {\r\n                scanFanNum.value = res.data.scanInfo.scanFanNum || 0\r\n                scanCodeNum.value = res.data.scanInfo.scanCodeNum || 0\r\n              }\r\n            }\r\n            if (actOnGoingStatus == 2) {\r\n              showActTips.value = true\r\n\r\n              if (res.data.rankInfo) {\r\n                rankNum.value = res.data.rankInfo.rankNum || 0\r\n                finishFanNum.value = res.data.rankInfo.finishFanNum || 0\r\n              }\r\n              resultFlagType.value = resultFlag\r\n              getFinishRankList(resultFlag)\r\n              switch (resultFlag) {\r\n                // 1: 参与时间已结束，请耐心等待统计排名…;\r\n                // 2: 统计数据已出,但没有排名;\r\n                // 3: 统计数据已出,等待开奖;\r\n                // 4: 统计数据已出,待领奖;\r\n                // 5: 统计数据已出,奖品已领;\r\n                // 6: 统计数据已出,奖品过期;\r\n\r\n                case 3:\r\n                  Dialog.alert({\r\n                    title: '提示',\r\n                    message: '统计数据已出,等待开奖'\r\n                  }).then(() => {\r\n                    // on close\r\n                  })\r\n                  break\r\n                case 4:\r\n                  if (userAward != null) {\r\n                    drawData.value = userAward\r\n                    showAwardPopup.value = true\r\n                  }\r\n                  break\r\n                case 5:\r\n                  Dialog.alert({\r\n                    title: '提示',\r\n                    message: '活动奖品已领取\\n请进入<我的礼品>中查看～'\r\n                  }).then(() => {\r\n                    // on close\r\n                  })\r\n                  break\r\n                case 6:\r\n                  Dialog.alert({\r\n                    title: '提示',\r\n                    message: '很遗憾，奖品一直未领取，已过期~'\r\n                  }).then(() => {\r\n                    // on close\r\n                  })\r\n                  break\r\n                default:\r\n                  break\r\n              }\r\n            }\r\n          } else {\r\n            Toast.fail(res.msg)\r\n          }\r\n        })\r\n    }\r\n    const handleColseTips = () => {\r\n      showTips.value = false\r\n    }\r\n    const handleCloseAwardPopup = () => {\r\n      showAwardPopup.value = false\r\n      Toast(`活动奖品，请进入<我的礼品>中查看～`)\r\n    }\r\n    const handleCloseNoAwardPopup = () => {\r\n      showNoAwardPopup.value = false\r\n    }\r\n\r\n    getActRules(props.actCode).then((rules) => {\r\n      actTips.value = rules\r\n    })\r\n\r\n    onMounted(() => {\r\n      getActInfo()\r\n    })\r\n    return {\r\n      actTips,\r\n      showTips,\r\n      showActTips,\r\n      showAwardPopup,\r\n      showNoAwardPopup,\r\n      actOnStatus,\r\n      scanFanNum,\r\n      rankList,\r\n      showNoList,\r\n      scanCodeNum,\r\n      statisTime,\r\n      drawData,\r\n      joinEtime,\r\n      rankNum,\r\n      finishFanNum,\r\n      resultFlagType,\r\n      handleColseTips,\r\n      handleCloseAwardPopup,\r\n      handleCloseNoAwardPopup,\r\n      handleReceive,\r\n      handleClickGiftsBtn\r\n    }\r\n  }\r\n})\r\n</script>\r\n<style>\r\n.tips-content .text p {\r\n  font-size: 14px;\r\n  color: #4c0404;\r\n  text-align: justify;\r\n  margin: 10px 0;\r\n  line-height: 1.3;\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n@import '@/theme/common';\r\n.fans-rank-container {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  height: 100%;\r\n  background-color: #2e50e5;\r\n  overflow: scroll;\r\n  .bg {\r\n    .bg-img(\r\n      375px,\r\n      800px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/bg.png'\r\n    );\r\n    padding-top: 310px;\r\n    .btn-tips {\r\n      .bg-img(\r\n        74px,\r\n        31px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/btn-tips.png'\r\n      );\r\n      position: absolute;\r\n      top: 12px;\r\n      right: 12px;\r\n    }\r\n    .btn-gift {\r\n      .bg-img(\r\n        74px,\r\n        31px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/btn-gift.png'\r\n      );\r\n      position: absolute;\r\n      top: 52px;\r\n      right: 12px;\r\n    }\r\n    .join-etime {\r\n      position: absolute;\r\n      width: 100%;\r\n      top: 248px;\r\n      left: 0;\r\n      text-align: center;\r\n      font-size: 14px;\r\n      line-height: 20px;\r\n      color: #fff;\r\n    }\r\n    .act-tips {\r\n      .bg-img(\r\n        318px,\r\n        48px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/act-tips-bg.png'\r\n      );\r\n      position: absolute;\r\n      top: 240px;\r\n      left: 34px;\r\n      text-align: center;\r\n      font-size: 12px;\r\n      font-weight: 400;\r\n      color: #fe522a;\r\n      line-height: 40px;\r\n      &.t {\r\n        padding-top: 5px;\r\n        line-height: 15px;\r\n      }\r\n    }\r\n    .btn-draw {\r\n      .bg-img(\r\n        326px,\r\n        51px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanCode/btn-start.png'\r\n      );\r\n      position: absolute;\r\n      top: 607px;\r\n      left: 26px;\r\n    }\r\n    .rank-data1 {\r\n      .bg-img(\r\n        366px,\r\n        155px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/box-m.png'\r\n      );\r\n      position: relative;\r\n      margin: 0 auto 30px;\r\n      padding: 44px 28px 23px 24px;\r\n      box-sizing: border-box;\r\n      .rank-data-title {\r\n        .bg-img(\r\n          313px,\r\n          50px,\r\n          'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/rank-data-title1.png'\r\n        );\r\n        position: absolute;\r\n        top: -19px;\r\n        left: 25px;\r\n        font-size: 19px;\r\n        font-weight: 400;\r\n        color: #ffffff;\r\n        line-height: 55px;\r\n        text-align: center;\r\n      }\r\n      .no-data {\r\n        display: flex;\r\n        width: 100%;\r\n        height: 100%;\r\n        align-items: center;\r\n        .icon {\r\n          .bg-img(\r\n            38px,\r\n            57px,\r\n            'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/no-data-icon.png'\r\n          );\r\n          margin-left: 28px;\r\n        }\r\n        .tips {\r\n          width: 200px;\r\n          height: 30px;\r\n          line-height: 15px;\r\n          font-size: 13px;\r\n          font-weight: 400;\r\n          color: #333333;\r\n          margin-left: 23px;\r\n        }\r\n      }\r\n      .item {\r\n        width: 150px;\r\n        overflow: hidden;\r\n        .title {\r\n          line-height: 34px;\r\n          font-size: 13px;\r\n          color: #333333;\r\n          text-align: center;\r\n        }\r\n        .data {\r\n          line-height: 26px;\r\n          font-size: 18px;\r\n          font-weight: bold;\r\n          color: #e48b00;\r\n          text-align: center;\r\n        }\r\n        &.left {\r\n          float: left;\r\n          padding-top: 12px;\r\n        }\r\n        &.right {\r\n          width: 150px;\r\n          float: right;\r\n          padding-top: 12px;\r\n        }\r\n      }\r\n    }\r\n    .rank-data2 {\r\n      .bg-img(\r\n        366px,\r\n        138px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/box-m1.png'\r\n      );\r\n      position: relative;\r\n      margin: 0 auto 10px;\r\n      padding: 44px 28px 23px 24px;\r\n      box-sizing: border-box;\r\n      .rank-data-title {\r\n        .bg-img(\r\n          309px,\r\n          61px,\r\n          'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/rank-data-title2.png'\r\n        );\r\n        position: absolute;\r\n        top: -34px;\r\n        left: 29px;\r\n        .top {\r\n          height: 30px;\r\n          line-height: 45px;\r\n          font-size: 18px;\r\n          text-align: center;\r\n          color: #ffffff;\r\n          &.noSt {\r\n            line-height: 63px;\r\n            height: 63px;\r\n          }\r\n        }\r\n        .bottom {\r\n          height: 30px;\r\n          font-size: 12px;\r\n          color: #ffffff;\r\n          line-height: 30px;\r\n          text-align: center;\r\n        }\r\n      }\r\n      .item {\r\n        width: 150px;\r\n        overflow: hidden;\r\n        .title {\r\n          line-height: 34px;\r\n          font-size: 13px;\r\n          color: #333333;\r\n          text-align: center;\r\n        }\r\n        .data {\r\n          line-height: 26px;\r\n          font-size: 18px;\r\n          font-weight: bold;\r\n          color: #e48b00;\r\n          text-align: center;\r\n        }\r\n        &.left {\r\n          float: left;\r\n        }\r\n        &.right {\r\n          width: 150px;\r\n          float: right;\r\n        }\r\n      }\r\n    }\r\n    .rank-list {\r\n      .bg-img(\r\n        366px,\r\n        354px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/box-l.png'\r\n      );\r\n      margin: 0 auto;\r\n      padding: 60px 28px 40px;\r\n      box-sizing: border-box;\r\n      &.finish {\r\n        background-image: url('https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/box-l1.png');\r\n      }\r\n      ul {\r\n        width: 310px;\r\n        height: 254px;\r\n        overflow-y: scroll;\r\n        li {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin: 0 13px;\r\n          height: 38px;\r\n          box-sizing: border-box;\r\n          border-bottom: 1px solid #eeeeee;\r\n          .icon {\r\n            &.first {\r\n              .bg-img(\r\n                30px,\r\n                30px,\r\n                'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/fansRank/star-1.png'\r\n              );\r\n            }\r\n            &.second {\r\n              .bg-img(\r\n                30px,\r\n                30px,\r\n                'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/fansRank/star-2.png'\r\n              );\r\n            }\r\n            &.third {\r\n              .bg-img(\r\n                30px,\r\n                30px,\r\n                'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/fansRank/star-3.png'\r\n              );\r\n            }\r\n          }\r\n          .index {\r\n            width: 30px;\r\n            line-height: 38px;\r\n            text-align: center;\r\n            font-size: 14px;\r\n            color: #f57f1f;\r\n          }\r\n          .shop-name {\r\n            width: 150px;\r\n            line-height: 38px;\r\n            text-align: center;\r\n            font-size: 14px;\r\n            color: #555555;\r\n            margin-left: 30px;\r\n            .text-overflow();\r\n          }\r\n          .fans {\r\n            width: 50px;\r\n            line-height: 38px;\r\n            text-align: center;\r\n            font-size: 14px;\r\n            color: #ff9c00;\r\n          }\r\n        }\r\n        .no-list {\r\n          padding-top: 88px;\r\n          .no-list-icon {\r\n            .bg-img(\r\n              53px,\r\n              53px,\r\n              'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/show-no-list-icon.png'\r\n            );\r\n            margin: 0 auto;\r\n          }\r\n          .no-list-tips {\r\n            line-height: 60px;\r\n            text-align: center;\r\n            font-size: 14px;\r\n            font-weight: 500;\r\n            color: #e48b00;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .finish-tips {\r\n      width: 345px;\r\n      height: 50px;\r\n      margin: 0 auto;\r\n      background: #2420ff;\r\n      color: #fff;\r\n      padding: 12px 15px 10px;\r\n      box-sizing: border-box;\r\n      line-height: 14px;\r\n      font-size: 12px;\r\n      border-radius: 8px;\r\n      .icon-tips {\r\n        .bg-img(\r\n          13px,\r\n          13px,\r\n          'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanFansRank/icon-tips.png'\r\n        );\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        margin-bottom: 2px;\r\n        margin-right: 2px;\r\n      }\r\n    }\r\n  }\r\n  .tips-content {\r\n    .bg-img(\r\n      312px,\r\n      412px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/fansRank/tips-bg.png'\r\n    );\r\n    padding: 160px 20px 20px;\r\n    box-sizing: border-box;\r\n    .text {\r\n      width: 100%;\r\n      height: 200px;\r\n      overflow-x: scroll;\r\n      p {\r\n        font-size: 14px;\r\n        color: #4c0404;\r\n        text-align: justify;\r\n        margin: 10px 0;\r\n        line-height: 1.3;\r\n        &.title {\r\n          text-align: center;\r\n          font-size: 20px;\r\n          color: #4c0404;\r\n          font-weight: bolder;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .award-warp {\r\n    .bg-img(\r\n      310px,\r\n      280px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/fansRank/award-bg.png'\r\n    );\r\n    .title {\r\n      text-align: center;\r\n      font-size: 22px;\r\n      line-height: 30px;\r\n      height: 50px;\r\n      font-weight: bolder;\r\n    }\r\n    .pic {\r\n      display: block;\r\n      width: 100px;\r\n      height: 100px;\r\n      margin: 10px auto 20px;\r\n    }\r\n    .name {\r\n      text-align: center;\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      margin-bottom: 10px;\r\n      font-weight: bolder;\r\n      color: #ad4423;\r\n    }\r\n    .btn {\r\n      .bg-img(\r\n        255px,\r\n        50px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/fansRank/btn-get-award.png'\r\n      );\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n  .no-award-warp {\r\n    .bg-img(\r\n      310px,\r\n      280px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/fansRank/no-award-bg.png'\r\n    );\r\n    .name {\r\n      position: relative;\r\n      top: 180px;\r\n      text-align: center;\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      margin-bottom: 10px;\r\n      font-weight: bolder;\r\n      color: #ad4423;\r\n    }\r\n    .btn {\r\n      .bg-img(\r\n        255px,\r\n        50px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/fansRank/btn-ok.png'\r\n      );\r\n      position: relative;\r\n      top: 180px;\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { defineComponent, onMounted, ref } from 'vue';\r\nimport { http } from '@/http';\r\nimport Dialog from \"vant/es/dialog\";\r\nimport \"vant/es/dialog/style/less\";\r\nimport Toast from \"vant/es/toast\";\r\nimport \"vant/es/toast/style/less\";\r\nimport ActTipsPopup from '@/components/ActTipsPopup/index.vue';\r\nimport AwardPopup from '@/components/AwardPopup/index.vue';\r\nimport { handleReceive, getActRules } from '@/plugins/hbsDraw';\r\nimport { handleClickJumpBtn } from '@/hooks/useJumpBtn';\r\nimport { useRouter } from 'vue-router';\r\nexport default defineComponent({\r\n    name: 'ScanFansRank',\r\n    props: {\r\n        actCode: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    components: { ActTipsPopup, AwardPopup },\r\n    setup(props) {\r\n        const actOnStatus = ref(1);\r\n        const resultFlagType = ref(0);\r\n        const scanFanNum = ref(0);\r\n        const scanCodeNum = ref(0);\r\n        const rankNum = ref(0);\r\n        const finishFanNum = ref(0);\r\n        const joinEtime = ref(null);\r\n        const statisTime = ref('');\r\n        const rankList = ref([]);\r\n        const showNoList = ref(false);\r\n        const showActTips = ref(false);\r\n        const showTips = ref(false);\r\n        const drawData = ref(null);\r\n        const showAwardPopup = ref(false);\r\n        const showNoAwardPopup = ref(false);\r\n        const actTips = ref('');\r\n        const router = useRouter();\r\n        const handleClickGiftsBtn = () => {\r\n            handleClickJumpBtn(router, '/common/myGifts');\r\n        };\r\n        const getScanCodeRankList = () => {\r\n            http\r\n                .post('/hbSeller/seller/corefanAct/scanCodeRankList', { actCode: props.actCode }, false)\r\n                .then((res) => {\r\n                if (res.code === '200') {\r\n                    rankList.value = (res.data && res.data.data) || [];\r\n                }\r\n                console.log(rankList.value);\r\n                if (rankList.value.length == 0) {\r\n                    showNoList.value = true;\r\n                }\r\n            });\r\n        };\r\n        const getFinishRankList = (resultFlag) => {\r\n            http\r\n                .post('/hbSeller/seller/corefanAct/finishRankList', { actCode: props.actCode }, false)\r\n                .then((res) => {\r\n                if (res.code === '200') {\r\n                    rankList.value = (res.data && res.data.data) || [];\r\n                }\r\n                if (rankList.value.length == 0) {\r\n                    showNoList.value = true;\r\n                }\r\n                switch (resultFlag) {\r\n                    // 1: 参与时间已结束，请耐心等待统计排名…;\r\n                    // 2: 统计数据已出,但没有排名;\r\n                    // 3: 统计数据已出,等待开奖;\r\n                    // 4: 统计数据已出,待领奖;\r\n                    // 5: 统计数据已出,奖品已领;\r\n                    // 6: 统计数据已出,奖品过期;\r\n                    case 1:\r\n                        Toast({\r\n                            duration: 0,\r\n                            forbidClick: true,\r\n                            message: '参与时间已结束，系统正在统计零售户排名，请耐心等待…\\n可通过刷新页面，或者退出稍后重新进入查看排名结果'\r\n                        });\r\n                        break;\r\n                    case 2:\r\n                        Toast({\r\n                            duration: 3000,\r\n                            forbidClick: true,\r\n                            message: '本期排行榜活动已结束，未在排名奖励内，请下次再接再厉～'\r\n                        });\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            });\r\n        };\r\n        const getActInfo = () => {\r\n            http\r\n                .post('/hbSeller/seller/corefanAct/statisInfo', { actCode: props.actCode }, false)\r\n                .then((res) => {\r\n                if (res.code === '200') {\r\n                    const { actOnGoingStatus, resultFlag = null } = res.data;\r\n                    const { userAward } = res.data;\r\n                    joinEtime.value = res.data.joinEtime || null;\r\n                    statisTime.value = res.data.statisTime || '';\r\n                    actOnStatus.value = actOnGoingStatus;\r\n                    // 1. 活动进行中 2.参与已截止\r\n                    if (actOnGoingStatus == 1) {\r\n                        getScanCodeRankList();\r\n                        if (res.data.scanInfo) {\r\n                            scanFanNum.value = res.data.scanInfo.scanFanNum || 0;\r\n                            scanCodeNum.value = res.data.scanInfo.scanCodeNum || 0;\r\n                        }\r\n                    }\r\n                    if (actOnGoingStatus == 2) {\r\n                        showActTips.value = true;\r\n                        if (res.data.rankInfo) {\r\n                            rankNum.value = res.data.rankInfo.rankNum || 0;\r\n                            finishFanNum.value = res.data.rankInfo.finishFanNum || 0;\r\n                        }\r\n                        resultFlagType.value = resultFlag;\r\n                        getFinishRankList(resultFlag);\r\n                        switch (resultFlag) {\r\n                            // 1: 参与时间已结束，请耐心等待统计排名…;\r\n                            // 2: 统计数据已出,但没有排名;\r\n                            // 3: 统计数据已出,等待开奖;\r\n                            // 4: 统计数据已出,待领奖;\r\n                            // 5: 统计数据已出,奖品已领;\r\n                            // 6: 统计数据已出,奖品过期;\r\n                            case 3:\r\n                                Dialog.alert({\r\n                                    title: '提示',\r\n                                    message: '统计数据已出,等待开奖'\r\n                                }).then(() => {\r\n                                    // on close\r\n                                });\r\n                                break;\r\n                            case 4:\r\n                                if (userAward != null) {\r\n                                    drawData.value = userAward;\r\n                                    showAwardPopup.value = true;\r\n                                }\r\n                                break;\r\n                            case 5:\r\n                                Dialog.alert({\r\n                                    title: '提示',\r\n                                    message: '活动奖品已领取\\n请进入<我的礼品>中查看～'\r\n                                }).then(() => {\r\n                                    // on close\r\n                                });\r\n                                break;\r\n                            case 6:\r\n                                Dialog.alert({\r\n                                    title: '提示',\r\n                                    message: '很遗憾，奖品一直未领取，已过期~'\r\n                                }).then(() => {\r\n                                    // on close\r\n                                });\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    Toast.fail(res.msg);\r\n                }\r\n            });\r\n        };\r\n        const handleColseTips = () => {\r\n            showTips.value = false;\r\n        };\r\n        const handleCloseAwardPopup = () => {\r\n            showAwardPopup.value = false;\r\n            Toast(`活动奖品，请进入<我的礼品>中查看～`);\r\n        };\r\n        const handleCloseNoAwardPopup = () => {\r\n            showNoAwardPopup.value = false;\r\n        };\r\n        getActRules(props.actCode).then((rules) => {\r\n            actTips.value = rules;\r\n        });\r\n        onMounted(() => {\r\n            getActInfo();\r\n        });\r\n        return {\r\n            actTips,\r\n            showTips,\r\n            showActTips,\r\n            showAwardPopup,\r\n            showNoAwardPopup,\r\n            actOnStatus,\r\n            scanFanNum,\r\n            rankList,\r\n            showNoList,\r\n            scanCodeNum,\r\n            statisTime,\r\n            drawData,\r\n            joinEtime,\r\n            rankNum,\r\n            finishFanNum,\r\n            resultFlagType,\r\n            handleColseTips,\r\n            handleCloseAwardPopup,\r\n            handleCloseNoAwardPopup,\r\n            handleReceive,\r\n            handleClickGiftsBtn\r\n        };\r\n    }\r\n});\r\n","import { render } from \"./ScanFansRank.vue?vue&type=template&id=4fc0109a&scoped=true\"\nimport script from \"./ScanFansRank.vue?vue&type=script&lang=ts\"\nexport * from \"./ScanFansRank.vue?vue&type=script&lang=ts\"\n\nimport \"./ScanFansRank.vue?vue&type=style&index=0&id=4fc0109a&lang=css\"\nimport \"./ScanFansRank.vue?vue&type=style&index=1&id=4fc0109a&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4fc0109a\"\n\nexport default script","import { http } from '@/http';\r\nimport Dialog from \"vant/es/dialog\";\r\nimport \"vant/es/dialog/style/less\";\r\nimport Toast from \"vant/es/toast\";\r\nimport \"vant/es/toast/style/less\";\r\nexport const Draw = (params) => {\r\n    return new Promise((resolve) => {\r\n        http.post('/hbSeller/act/hbsDraw', params, false).then((res) => {\r\n            if (res.code === '200') {\r\n                resolve(res.data);\r\n            }\r\n            else {\r\n                Dialog.alert({\r\n                    title: '提示',\r\n                    message: res.msg\r\n                }).then(() => {\r\n                    // on close\r\n                });\r\n            }\r\n        });\r\n    });\r\n};\r\nconst getGift = (params, cb) => {\r\n    if (params.awdType == 1) {\r\n        window.location.href = '/yx/views/general/order-preview.html';\r\n    }\r\n    else {\r\n        http\r\n            .post('/syx/awd/rcv/virtual', {\r\n            uaId: params.uaId\r\n        }, false)\r\n            .then((res) => {\r\n            //code 为701时需要绑定手机号\r\n            if (res.code === '701') {\r\n                return;\r\n            }\r\n            //code为700时需要关注公号\r\n            if (res.code === '700') {\r\n                Dialog.alert({\r\n                    title: '提示',\r\n                    message: '领取此奖励需要您绑定手机号，点击“立即绑定”按钮前往公众号-个人中心-会员权益中绑定，绑定后您重新进入私域平台-我的礼品中进行领取即可'\r\n                })\r\n                    .then(() => {\r\n                    // on confirm\r\n                    window.location.href = '/scoremall/html/member.html';\r\n                })\r\n                    .catch(() => {\r\n                    // on cancel\r\n                    cb();\r\n                });\r\n                return;\r\n            }\r\n            const tipsObj = {\r\n                '200': '领取成功',\r\n                '4001': '每日最多可领取\"10\"个红包，您已达到领取上限，次日0点之后可在个人中心->我的礼品中领取~<br />红包在中奖24小时之后过期。',\r\n                '4002': '您还未进行微信实名认证，请先进行微信实名认证再领取红包！<br />奖品可在个人中心->我的礼品中领取~<br />红包在中奖24小时之后过期。',\r\n                '4003': '系统异常，请稍后重试<br />领取失败可在个人中心->我的礼品中领取~<br />红包在中奖24小时之后过期。'\r\n            };\r\n            let msg = '';\r\n            switch (res.code) {\r\n                case '200':\r\n                    msg = tipsObj[res.code];\r\n                    Toast.success({\r\n                        message: msg,\r\n                        onClose: () => {\r\n                            cb(res.code);\r\n                        }\r\n                    });\r\n                    break;\r\n                case '4001':\r\n                    msg = tipsObj[res.code];\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: msg\r\n                    }).then(() => {\r\n                        // on close\r\n                        cb();\r\n                    });\r\n                    break;\r\n                case '4002':\r\n                    msg = tipsObj[res.code];\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: msg\r\n                    }).then(() => {\r\n                        // on close\r\n                        cb();\r\n                    });\r\n                    break;\r\n                case '4003':\r\n                    msg = tipsObj[res.code];\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: msg\r\n                    }).then(() => {\r\n                        // on close\r\n                        cb();\r\n                    });\r\n                    break;\r\n                default:\r\n                    msg = res.msg;\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: msg\r\n                    }).then(() => {\r\n                        // on close\r\n                        cb();\r\n                    });\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n};\r\nexport const handleReceive = (params, cb) => {\r\n    if (params == null)\r\n        return;\r\n    if (params.awdStatus === 0) {\r\n        if (params.awdType != 1) {\r\n            getGift(params, cb);\r\n        }\r\n        else {\r\n            // 私域跳转\r\n            window.location.href = `/yx/views/general/order-preview.html?uaId=${params.uaId}&hbSeller=1`;\r\n        }\r\n        return;\r\n    }\r\n    if (params.awdStatus === 1 || params.awdStatus === 0) {\r\n        if (params.awdType == 2 && params.awdJumpurl) {\r\n            window.location.href = params.awdJumpurl;\r\n            return;\r\n        }\r\n        window.location.href =\r\n            '/yx/views/general/gift-detail.html?uaId=' + params.uaId;\r\n        return;\r\n    }\r\n};\r\nexport const getActRules = (actCode) => {\r\n    return new Promise((resolve) => {\r\n        http.post('/hbSeller/act/ruleDesc', { actCode }, false).then((res) => {\r\n            if (res.code === '200') {\r\n                resolve(res.data.actRuleDesc || '');\r\n            }\r\n            else {\r\n                Dialog.alert({\r\n                    title: '提示',\r\n                    message: res.msg\r\n                }).then(() => {\r\n                    // on close\r\n                });\r\n            }\r\n        });\r\n    });\r\n};\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ScanFansRank.vue?vue&type=style&index=1&id=4fc0109a&lang=less&scoped=true\""],"sourceRoot":""}