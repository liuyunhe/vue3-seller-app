{"version":3,"sources":["webpack:///./src/plugins/Tmap.ts","webpack:///./src/components/AwardPopup/index.vue?26c7","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/views/seller/Register.vue","webpack:///./src/components/PolicyPage/index.vue","webpack:///./src/components/PolicyPage/index.vue?6268","webpack:///./src/components/PolicyPage/index.vue?4278","webpack:///./src/views/seller/Register.vue?3a43","webpack:///./src/views/seller/Register.vue?237b","webpack:///./src/views/customer/Acts/ScanCode.vue?31c0","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/components/ActTipsPopup/index.vue?cda3","webpack:///./src/components/ActTipsPopup/index.vue","webpack:///./src/components/ActTipsPopup/index.vue?6c7d","webpack:///./src/components/ActTipsPopup/index.vue?3ccf","webpack:///./src/views/customer/ActDetail.vue","webpack:///./src/views/customer/ActDetail.vue?7211","webpack:///./src/views/customer/ActDetail.vue?d620","webpack:///./src/components/PolicyPage/index.vue?094e","webpack:///./src/views/customer/Acts/ScanCode.vue?1bac","webpack:///./src/components/AwardPopup/index.vue","webpack:///./src/components/AwardPopup/index.vue?7c2b","webpack:///./src/components/AwardPopup/index.vue?a521","webpack:///./node_modules/compressorjs/dist/compressor.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/views/customer/Acts/Sign.vue?a730","webpack:///./src/hooks/useJumpBtn.ts","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/views/seller/Register.vue?5dd0","webpack:///./src/plugins/hbsDraw.ts","webpack:///./src/views/customer/ActDetail.vue?b370","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/views/customer/Acts/Sign.vue","webpack:///./src/views/customer/Acts/Sign.vue?e60a","webpack:///./src/views/customer/Acts/Sign.vue?6bce","webpack:///./src/views/customer/Acts/ScanCode.vue","webpack:///./src/views/customer/Acts/ScanCode.vue?f94e","webpack:///./src/views/customer/Acts/ScanCode.vue?3a8b","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./src/views/customer/Acts/Sign.vue?5f89"],"names":["MapKey","TMapGL","r","TMap","Promise","resolve","reject","script","document","createElement","type","src","onerror","onload","head","appendChild","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","class","alt","style","onSubmit","input-align","show-error-message","show-error","disabled","formDiabled","inset","shopName","name","label","placeholder","maxlength","error-message-align","rules","contactName","male","is-link","readonly","handleClickField","show","showMalePicker","position","columns","maleColumns","columns-field-names","maleCustomFieldName","default-index","maleIndex","onMaleConfirm","date","showDatetimePicker","currentDate","title","min-date","minDate","max-date","maxDate","onDatetimeConfirm","contactPhone","fieldValue","showRegionPopup","square","cascaderValue","options","onRegionChange","onRegionFinish","field-names","fieldNames","detailAddr","GPSValue","right-icon","input","deletable","shopImg","capture","max-count","before-read","asyncBeforeRead","after-read","file","afterRead","upload-text","max-size","onOversize","licenseImg","licenseNo","label-width","areaType","direction","saleZone","showSaleZonePicker","saleZoneCodeColumns","saleZoneCodeCustomFieldName","saleZoneIndex","onSaleZoneConfirm","salesman","block","native-type","isRegister","showForm","id","width","height","frameborder","iframeUrl","registerStatus","hasPhone","to","showBindPhone","onSubmitPhone","phoneCode","handleCodeChange","center","button","btnDisabled","size","handleGetCode","phoneCodeText","submitChecked","shape","icon-size","href","handleClickPolicy","auditMsg","plain","showPolicy","handleClosePolicy","policyBtn","defineComponent","setup","props","ctx","emit","render","__scopeId","components","PolicyPage","gender","saleZoneCode","option","provName","cityName","countyName","provCode","cityCode","countyCode","shopImgCode","licenseImgCode","shopLat","shopLng","store","useStore","lat","computed","state","lng","ref","password","Date","text","value","console","log","zoneName","zoneCode","d","getFullYear","getMonth","getDate","phonePattern","licenseNoPattern","phoneCodePattern","children","tabIndex","find","i","code","http","get","parentCode","then","res","data","map","items","Toast","fail","msg","catch","err","op","selectedOptions","index","join","Compressor","quality","maxWidth","success","error","message","status","formData","FormData","imgFile","window","File","append","axios","post","headers","rdmCode","url","filePath","flag","getSellerInfo","regiserInfo","maleColumn","item","birthday","split","year","Number","month","day","saleZoneColumn","params","codeCount","substring","test","countInter","setInterval","clearInterval","getRegion","level","getSaleZoneList","onMounted","sessionStorage","getItem","setItem","location","reload","process","addEventListener","event","loc","module","latlng","exports","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","replace","start","end","trim","isRegExp","it","TypeError","lock-scroll","handleClickClose","Boolean","default","prop","global","factory","_classCallCheck","instance","Constructor","_defineProperties","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","_extends","assign","source","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","createCommonjsModule","fn","basedir","path","require","base","commonjsRequire","Error","canvasToBlob","CanvasPrototype","HTMLCanvasElement","hasBlobConstructor","Blob","e","hasArrayBufferViewSupport","Uint8Array","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","dataURIPattern","dataURLtoBlob","atob","ArrayBuffer","dataURI","matches","mediaType","isBase64","dataString","byteString","arrayBuffer","intArray","bb","match","slice","decodeURIComponent","charCodeAt","getBlob","toBlob","mozGetAsFile","callback","self","setTimeout","toDataURL","msToBlob","isBlob","toString","DEFAULTS","strict","checkOrientation","Infinity","maxHeight","minWidth","minHeight","mimeType","convertSize","beforeDraw","drew","IS_BROWSER","WINDOW","Array","toArray","from","REGEXP_IMAGE_TYPE","isImageType","imageTypeToExtension","extension","substr","concat","fromCharCode","getStringFromCharCode","dataView","str","getUint8","btoa","arrayBufferToDataURL","chunks","chunkSize","uint8","subarray","resetAndGetOrientation","orientation","DataView","littleEndian","app1Start","ifdStart","byteLength","offset","exifIDCode","tiffOffset","endianness","getUint16","firstIFDOffset","getUint32","_offset","_length","setUint16","parseOrientation","rotate","scaleX","scaleY","REGEXP_DECIMALS","normalizeDecimalNumber","times","Math","round","ArrayBuffer$1","FileReader","URL","webkitURL","REGEXP_EXTENSION","AnotherCompressor","image","Image","aborted","result","init","_this","load","createObjectURL","reader","_ref","onabort","onloadend","readAsArrayBuffer","readAsDataURL","_this2","draw","naturalWidth","naturalHeight","navigator","userAgent","crossOrigin","_ref2","_this3","_ref2$rotate","_ref2$scaleX","_ref2$scaleY","canvas","context","getContext","aspectRatio","is90DegreesRotated","abs","max","_ref3","_ref4","_ref5","floor","min","destX","destY","destWidth","destHeight","_ref6","fillStyle","fillRect","save","translate","PI","scale","drawImage","restore","done","_ref7","revokeObjectURL","lastModified","getTime","lastModifiedDate","abort","complete","$find","addToUnscopables","FIND","SKIPS_HOLES","callbackfn","handleClickJumpBtn","router","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","separator","DESCRIPTORS","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","NaN","parseInt","NumberWrapper","dummy","valueOf","j","constructor","wellKnownSymbol","MATCH","METHOD_NAME","regexp","error1","error2","Draw","Dialog","alert","getGift","cb","awdType","uaId","tipsObj","onClose","handleReceive","awdStatus","awdJumpurl","getActRules","actCode","actRuleDesc","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","border","showTips","handleColseTips","actTips","showDrawNotes","drawHis","note","ctime","showGetChancePopup","nextStep","getDrawTicket","showAwardPopup","drawData","awdPic","awdName","showSignPopup","handleCloseSignPopup","signPointsList","handleGetSignedAward","showNoAwardPopup","handleClickGiftsBtn","showYear","showMonth","contSignFlag","contDay","isMaxContDay","nextSignInfo","contSignDays","points","isSignToday","handleClickSign","drawFlag","ljSignDay","canDraw","handleClickSignNotes","ljSignStatus","drawContDays","canDrawNum","ActTipsPopup","AwardPopup","ljSignDrawChance","useRouter","getActInfo","signRecords","actConf","ticket","award","handleCloseAwardPopup","handleCloseNoAwardPopup","handleCloseGetChancePopup","con","getElementsByClassName","setCalender","innerHTML","records","nowyear","nowmonth","nowdate","setFullYear","dayCount","Firstweek","getDay","list","yindex","td","tr","initAct","pointsList","wxScanQRCode","isObject","isArray","toAbsoluteIndex","toLength","createProperty","SPECIES","nativeSlice","n","O","k","fin"],"mappings":"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","file":"js/Register.71f9d582.js","sourcesContent":["export const MapKey = 'LMLBZ-V4CCP-OJEDJ-LETNS-PT7IS-HDFR6';\r\nexport function TMapGL() {\r\n    let r;\r\n    try {\r\n        if (TMap)\r\n            r = Promise.resolve();\r\n    }\r\n    catch {\r\n        r = new Promise(function (resolve, reject) {\r\n            const script = document.createElement('script');\r\n            script.type = 'text/javascript';\r\n            script.src =\r\n                'https://map.qq.com/api/gljs?v=1.exp&libraries=tools&key=' + MapKey;\r\n            script.onerror = () => reject();\r\n            script.onload = () => resolve();\r\n            document.head.appendChild(script);\r\n        });\r\n    }\r\n    return r;\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=398be061&lang=less&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\r\n  <div class=\"register-container\" v-show=\"!isRegister && showForm\">\r\n    <div class=\"banner\">\r\n      <img\r\n        src=\"https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/register-banner.png\"\r\n        alt=\"\"\r\n      />\r\n    </div>\r\n    <van-form\r\n      @submit=\"onSubmit\"\r\n      input-align=\"right\"\r\n      :show-error-message=\"true\"\r\n      :show-error=\"false\"\r\n      :disabled=\"formDiabled\"\r\n    >\r\n      <van-cell-group inset style=\"margin:0\">\r\n        <van-field\r\n          v-model=\"shopName\"\r\n          name=\"shopName\"\r\n          label=\"门店名称\"\r\n          placeholder=\"请输入门店名称\"\r\n          maxlength=\"10\"\r\n          error-message-align=\"right\"\r\n          :rules=\"[{ required: true, message: '门店名称不能为空' }]\"\r\n        />\r\n        <van-field\r\n          v-model=\"contactName\"\r\n          name=\"contactName\"\r\n          label=\"经营人姓名\"\r\n          placeholder=\"请输入姓名\"\r\n          maxlength=\"10\"\r\n          error-message-align=\"right\"\r\n          :rules=\"[{ required: true, message: '经营人姓名不能为空' }]\"\r\n        />\r\n        <van-field\r\n          v-model=\"male\"\r\n          :is-link=\"!formDiabled\"\r\n          readonly\r\n          name=\"male\"\r\n          label=\"性别\"\r\n          placeholder=\"点击选择性别\"\r\n          error-message-align=\"right\"\r\n          @click=\"handleClickField('showMalePicker')\"\r\n          :rules=\"[{ required: true, message: '性别不能为空' }]\"\r\n        />\r\n        <van-popup v-model:show=\"showMalePicker\" position=\"bottom\">\r\n          <van-picker\r\n            :columns=\"maleColumns\"\r\n            :columns-field-names=\"maleCustomFieldName\"\r\n            :default-index=\"maleIndex\"\r\n            @confirm=\"onMaleConfirm\"\r\n            @cancel=\"showMalePicker = false\"\r\n          />\r\n        </van-popup>\r\n        <van-field\r\n          v-model=\"date\"\r\n          :is-link=\"!formDiabled\"\r\n          readonly\r\n          name=\"date\"\r\n          label=\"出生日期\"\r\n          placeholder=\"点击选择时间\"\r\n          error-message-align=\"right\"\r\n          @click=\"handleClickField('showDatetimePicker')\"\r\n          :rules=\"[{ required: true, message: '出生日期不能为空' }]\"\r\n        />\r\n        <van-popup v-model:show=\"showDatetimePicker\" position=\"bottom\">\r\n          <van-datetime-picker\r\n            v-model=\"currentDate\"\r\n            type=\"date\"\r\n            title=\"选择年月日\"\r\n            :min-date=\"minDate\"\r\n            :max-date=\"maxDate\"\r\n            @confirm=\"onDatetimeConfirm\"\r\n            @cancel=\"showDatetimePicker = false\"\r\n          />\r\n        </van-popup>\r\n\r\n        <van-field\r\n          v-if=\"contactPhone\"\r\n          v-model=\"contactPhone\"\r\n          name=\"contactPhone\"\r\n          label=\"电话\"\r\n          placeholder=\"请输入电话号码\"\r\n          error-message-align=\"right\"\r\n          :rules=\"[\r\n            {\r\n              required: true,\r\n              message: '电话号码不能为空'\r\n            },\r\n            {\r\n              required: true,\r\n              pattern: phonePattern,\r\n              message: '电话号码格式错误'\r\n            }\r\n          ]\"\r\n        />\r\n        <van-field\r\n          v-model=\"fieldValue\"\r\n          :is-link=\"!formDiabled\"\r\n          readonly\r\n          label=\"门店地址\"\r\n          placeholder=\"请选择门店地址\"\r\n          error-message-align=\"right\"\r\n          @click=\"handleClickField('showRegionPopup')\"\r\n          :rules=\"[{ required: true, message: '门店地址不能为空' }]\"\r\n        />\r\n        <van-popup v-model:show=\"showRegionPopup\" square position=\"bottom\">\r\n          <van-cascader\r\n            v-model=\"cascaderValue\"\r\n            title=\"请选择门店地址\"\r\n            :options=\"options\"\r\n            @close=\"showRegionPopup = false\"\r\n            @change=\"onRegionChange\"\r\n            @finish=\"onRegionFinish\"\r\n            :field-names=\"fieldNames\"\r\n          />\r\n        </van-popup>\r\n        <van-field\r\n          v-model=\"detailAddr\"\r\n          name=\"detailAddr\"\r\n          label=\"\"\r\n          input-align=\"left\"\r\n          maxlength=\"50\"\r\n          error-message-align=\"left\"\r\n          placeholder=\"请输入详细地址，精确到街道门牌号\"\r\n          :rules=\"[{ required: true, message: '详细地址不能为空' }]\"\r\n        />\r\n        <van-field\r\n          v-model=\"GPSValue\"\r\n          :is-link=\"!formDiabled\"\r\n          disabled\r\n          readonly\r\n          label=\"门店定位\"\r\n          placeholder=\"请定位门店地址\"\r\n          error-message-align=\"right\"\r\n          right-icon=\"https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/rs-location.png\"\r\n          @click=\"handleClickField('showForm')\"\r\n          :rules=\"[{ required: true, message: '请定位门店地址' }]\"\r\n        />\r\n        <van-field\r\n          name=\"uploader\"\r\n          label=\"门头照\"\r\n          error-message-align=\"right\"\r\n          :rules=\"[{ required: true, message: '请上传门头照' }]\"\r\n        >\r\n          <template #input>\r\n            <van-uploader\r\n              :deletable=\"!formDiabled\"\r\n              v-model=\"shopImg\"\r\n              capture=\"camera\"\r\n              max-count=\"1\"\r\n              :before-read=\"asyncBeforeRead\"\r\n              :after-read=\"(file) => afterRead(file, 'shopImg')\"\r\n              upload-text=\"上传门头照片\"\r\n              :max-size=\"6000 * 1024\"\r\n              @oversize=\"onOversize\"\r\n            />\r\n          </template>\r\n        </van-field>\r\n        <van-field\r\n          name=\"uploader\"\r\n          label=\"烟草证照\"\r\n          error-message-align=\"right\"\r\n          :rules=\"[{ required: true, message: '请上传烟草证照' }]\"\r\n        >\r\n          <template #input>\r\n            <van-uploader\r\n              :deletable=\"!formDiabled\"\r\n              v-model=\"licenseImg\"\r\n              capture=\"camera\"\r\n              max-count=\"1\"\r\n              :before-read=\"asyncBeforeRead\"\r\n              :after-read=\"(file) => afterRead(file, 'licenseImg')\"\r\n              upload-text=\"上传烟草证件\"\r\n              :max-size=\"6000 * 1024\"\r\n              @oversize=\"onOversize\"\r\n            />\r\n          </template>\r\n        </van-field>\r\n        <van-field\r\n          v-model=\"licenseNo\"\r\n          label-width=\"10.2em\"\r\n          name=\"licenseNo\"\r\n          label=\"烟草专卖许可证号\"\r\n          placeholder=\"请输入\"\r\n          error-message-align=\"right\"\r\n          :rules=\"[\r\n            {\r\n              required: true,\r\n              message: '烟草专卖许不能为空'\r\n            },\r\n            {\r\n              required: true,\r\n              pattern: licenseNoPattern,\r\n              message: '烟草专卖许可证号格式错误'\r\n            }\r\n          ]\"\r\n        />\r\n        <van-field name=\"radio\" label=\"区域\">\r\n          <template #input>\r\n            <van-radio-group\r\n              v-model=\"areaType\"\r\n              :disabled=\"formDiabled\"\r\n              direction=\"horizontal\"\r\n            >\r\n              <van-radio :name=\"1\">城镇</van-radio>\r\n              <van-radio :name=\"2\">乡村</van-radio>\r\n            </van-radio-group>\r\n          </template>\r\n        </van-field>\r\n        <van-field\r\n          v-model=\"saleZone\"\r\n          :is-link=\"!formDiabled\"\r\n          readonly\r\n          name=\"saleZone\"\r\n          label=\"所属销区\"\r\n          placeholder=\"点击选择所属销区\"\r\n          error-message-align=\"right\"\r\n          @click=\"handleClickField('showSaleZonePicker')\"\r\n          :rules=\"[{ required: true, message: '请选择所属销区' }]\"\r\n        />\r\n        <van-popup v-model:show=\"showSaleZonePicker\" position=\"bottom\">\r\n          <van-picker\r\n            :columns=\"saleZoneCodeColumns\"\r\n            :columns-field-names=\"saleZoneCodeCustomFieldName\"\r\n            :default-index=\"saleZoneIndex\"\r\n            @confirm=\"onSaleZoneConfirm\"\r\n            @cancel=\"showSaleZonePicker = false\"\r\n          />\r\n        </van-popup>\r\n        <van-field\r\n          v-model=\"salesman\"\r\n          name=\"salesman\"\r\n          label=\"业务员\"\r\n          placeholder=\"请输入业务员\"\r\n          maxlength=\"10\"\r\n        />\r\n      </van-cell-group>\r\n      <div style=\"margin: 16px;\" v-if=\"!formDiabled\">\r\n        <van-button block type=\"primary\" native-type=\"submit\">\r\n          提交\r\n        </van-button>\r\n      </div>\r\n      <div style=\"margin: 16px;\" v-else>\r\n        <van-button square block type=\"primary\">\r\n          返回\r\n        </van-button>\r\n      </div>\r\n    </van-form>\r\n  </div>\r\n  <!-- 定位 -->\r\n  <div class=\"register-location-container\" v-if=\"!isRegister && !showForm\">\r\n    <iframe\r\n      id=\"mapPage\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      frameborder=\"0\"\r\n      :src=\"iframeUrl\"\r\n    >\r\n    </iframe>\r\n  </div>\r\n  <!-- 审核状态 -->\r\n  <div class=\"is-register-container\" v-if=\"isRegister\">\r\n    <!-- 审核通过 -->\r\n    <template v-if=\"registerStatus === 1\">\r\n      <div class=\"icon\">\r\n        <img\r\n          src=\"https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/rs-ok.png\"\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <div class=\"status\">审核通过</div>\r\n      <div class=\"text\">恭喜您，成为专属零售户！拥有了专属二维码</div>\r\n      <div class=\"text\">可以邀请好友成为粉丝及参与平台活动，赶快去体验吧！</div>\r\n      <div class=\"btn\" v-if=\"hasPhone\">\r\n        <router-link to=\"/seller/sellerFans\">\r\n          <van-button type=\"primary\" style=\"width:8rem\">返回首页</van-button>\r\n        </router-link>\r\n      </div>\r\n      <div class=\"btn\" v-if=\"!hasPhone\">\r\n        <van-button\r\n          type=\"primary\"\r\n          style=\"width:8rem\"\r\n          @click=\"showBindPhone = true\"\r\n          >绑定手机号</van-button\r\n        >\r\n        <van-popup\r\n          v-model:show=\"showBindPhone\"\r\n          style=\"background-color: #f6f6f6;\"\r\n        >\r\n          <div class=\"form-bind\">\r\n            <div class=\"title\">绑定手机号</div>\r\n            <van-form\r\n              @submit=\"onSubmitPhone\"\r\n              :show-error-message=\"false\"\r\n              :show-error=\"true\"\r\n              input-align=\"left\"\r\n              label-width=\"3rem\"\r\n            >\r\n              <van-cell-group inset>\r\n                <van-field\r\n                  v-model=\"contactPhone\"\r\n                  name=\"contactPhone\"\r\n                  label=\"手机号\"\r\n                  placeholder=\"请输入手机号\"\r\n                  :rules=\"[\r\n                    {\r\n                      required: true,\r\n                      pattern: phonePattern,\r\n                      message: '请输入手机号'\r\n                    }\r\n                  ]\"\r\n                />\r\n                <van-field\r\n                  v-model=\"phoneCode\"\r\n                  name=\"phoneCode\"\r\n                  label=\"验证码\"\r\n                  placeholder=\"请输入验证码\"\r\n                  center\r\n                  @update:model-value=\"handleCodeChange\"\r\n                  :rules=\"[\r\n                    {\r\n                      required: true,\r\n                      pattern: phoneCodePattern,\r\n                      message: '请输入验证码'\r\n                    }\r\n                  ]\"\r\n                >\r\n                  <template #button>\r\n                    <van-button\r\n                      :disabled=\"btnDisabled\"\r\n                      size=\"small\"\r\n                      type=\"primary\"\r\n                      @click=\"handleGetCode\"\r\n                      >{{ phoneCodeText }}</van-button\r\n                    >\r\n                  </template>\r\n                </van-field>\r\n              </van-cell-group>\r\n              <div class=\"submit-phone-tips\">\r\n                <van-checkbox\r\n                  v-model=\"submitChecked\"\r\n                  shape=\"square\"\r\n                  icon-size=\"4.2vw\"\r\n                  style=\"justify-content: center;\"\r\n                  >我已阅读并同意“<a\r\n                    href=\"javascript:;\"\r\n                    style=\"color:#1989fa\"\r\n                    @click=\"handleClickPolicy\"\r\n                    >私域平台隐私政策</a\r\n                  >”</van-checkbox\r\n                >\r\n              </div>\r\n              <div style=\"margin: 0 16px 16px;\">\r\n                <van-button\r\n                  block\r\n                  type=\"primary\"\r\n                  size=\"small\"\r\n                  native-type=\"submit\"\r\n                  style=\"width: 7rem;margin: auto;\"\r\n                >\r\n                  提交\r\n                </van-button>\r\n              </div>\r\n            </van-form>\r\n          </div>\r\n        </van-popup>\r\n      </div>\r\n    </template>\r\n    <template v-if=\"registerStatus === 2\">\r\n      <div class=\"icon\">\r\n        <img\r\n          src=\"https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/rs-wait.png\"\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <div class=\"status\">已提交</div>\r\n      <div class=\"text\">注册信息已提交，请您耐心等候审核！</div>\r\n      <!-- <div class=\"btn\">\r\n        <van-button\r\n          square\r\n          plain\r\n          type=\"primary\"\r\n          style=\"width:8rem;background-color:#f6f6f6\"\r\n          >返回</van-button\r\n        >\r\n      </div> -->\r\n    </template>\r\n    <!-- 审核通过 -->\r\n    <template v-if=\"registerStatus === 3\">\r\n      <div class=\"icon\">\r\n        <img\r\n          src=\"https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/rs-failed.png\"\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <div class=\"status\">审核失败</div>\r\n      <div class=\"text\">很遗憾，审核失败，请核实信息后再来申请！</div>\r\n      <div class=\"text\" style=\"margin:1rem\">审核不通过原因:{{ auditMsg }}</div>\r\n      <div class=\"btn\">\r\n        <van-button\r\n          square\r\n          plain\r\n          type=\"primary\"\r\n          style=\"width:8rem;background-color:#f6f6f6\"\r\n          @click=\"isRegister = false\"\r\n          >返回</van-button\r\n        >\r\n      </div>\r\n    </template>\r\n    <PolicyPage v-if=\"showPolicy\" @policyClose=\"handleClosePolicy\" />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { computed, defineComponent, onMounted, ref } from 'vue'\r\nimport {\r\n  CascaderOption,\r\n  CascaderFieldNames,\r\n  UploaderFileListItem,\r\n  Toast,\r\n  PickerFieldNames,\r\n  PickerObjectOption\r\n} from 'vant'\r\nimport Compressor from 'compressorjs'\r\nimport axios, { http } from '@/http'\r\nimport { useStore } from 'vuex'\r\nimport { GlobalDataProps } from '@/store'\r\nimport { MapKey } from '@/plugins/Tmap'\r\nimport PolicyPage from '@/components/PolicyPage/index.vue'\r\nexport default defineComponent({\r\n  name: 'SellerRegister',\r\n  components: { PolicyPage },\r\n  setup() {\r\n    const store = useStore<GlobalDataProps>()\r\n    const lat = computed(() => store.state.lat)\r\n    const lng = computed(() => store.state.lng)\r\n    const iframeUrl = ref(\r\n      `https://apis.map.qq.com/tools/locpicker?search=1&type=1&key=${MapKey}&referer=hbseller`\r\n    )\r\n    const showPolicy = ref(false)\r\n    const submitChecked = ref(false)\r\n    const showBindPhone = ref(false)\r\n    const hasPhone = ref(false)\r\n    const contactPhone = ref('')\r\n    const phoneCode = ref('')\r\n    const phoneCodeText = ref('发送验证码')\r\n    const formDiabled = ref(false)\r\n    const showForm = ref(true)\r\n    const isRegister = ref(true) // 是否注册\r\n    const registerStatus = ref(0) // 注册的状态， 1: 审核通过, 2: 待审核, 3: 审核不通过\r\n    const shopName = ref('')\r\n    const contactName = ref('')\r\n    const detailAddr = ref('')\r\n    const salesman = ref('')\r\n    const licenseNo = ref('')\r\n    const password = ref('')\r\n    const male = ref('')\r\n    const maleIndex = ref(0)\r\n    const saleZoneIndex = ref(0)\r\n    const saleZone = ref('')\r\n    const date = ref('')\r\n    const auditMsg = ref('')\r\n    const GPSValue = ref('')\r\n    const showMalePicker = ref(false)\r\n    const showSaleZonePicker = ref(false)\r\n    const currentDate = ref(new Date())\r\n    const showDatetimePicker = ref(false)\r\n    const areaType = ref(1)\r\n    const shopImg = ref<UploaderFileListItem[]>([])\r\n    const licenseImg = ref<UploaderFileListItem[]>([])\r\n    const maleColumns = [\r\n      { name: '男', id: 1 },\r\n      { name: '女', id: 2 }\r\n    ]\r\n    const maleCustomFieldName: PickerFieldNames = {\r\n      text: 'name'\r\n    }\r\n    interface SaleZoneOption {\r\n      zoneName: string\r\n      zoneCode: string\r\n    }\r\n    const saleZoneCodeColumns = ref<SaleZoneOption[]>([])\r\n    const saleZoneCodeCustomFieldName: PickerFieldNames = {\r\n      text: 'zoneName'\r\n    }\r\n\r\n    let gender: string\r\n    const onMaleConfirm = (value: PickerObjectOption) => {\r\n      male.value = value.name\r\n      gender = value.id\r\n      showMalePicker.value = false\r\n      console.log(gender)\r\n    }\r\n\r\n    let saleZoneCode: string\r\n    const onSaleZoneConfirm = (value: PickerObjectOption) => {\r\n      saleZone.value = value.zoneName\r\n      saleZoneCode = value.zoneCode\r\n      showSaleZonePicker.value = false\r\n      console.log(saleZoneCode)\r\n    }\r\n    const onDatetimeConfirm = (value: Date) => {\r\n      const d = new Date(value)\r\n      date.value =\r\n        d.getFullYear() +\r\n        '-' +\r\n        (d.getMonth() + 1 < 10 ? '0' + (d.getMonth() + 1) : d.getMonth() + 1) +\r\n        '-' +\r\n        (d.getDate() - 0 < 10 ? '0' + d.getDate() : d.getDate())\r\n      showDatetimePicker.value = false\r\n      console.log(value)\r\n    }\r\n\r\n    const phonePattern = /^1[3456789]\\d{9}$/\r\n    const licenseNoPattern = /^\\d{12}$|^\\d{13}$/\r\n    const phoneCodePattern = /^\\d{6}$/\r\n\r\n    const showRegionPopup = ref(false)\r\n\r\n    const fieldValue = ref('') // 详细地址\r\n\r\n    const cascaderValue = ref('') //  省市区地址\r\n    const fieldNames: CascaderFieldNames = {\r\n      text: 'name',\r\n      value: 'code',\r\n      children: 'items'\r\n    }\r\n    const options = ref<CascaderOption>([])\r\n    let option: CascaderOption\r\n    let provName: string\r\n    let cityName: string\r\n    let countyName: string\r\n    let provCode: string\r\n    let cityCode: string\r\n    let countyCode: string\r\n    const onRegionChange = async ({ value, tabIndex }: CascaderOption) => {\r\n      if (tabIndex === 0) {\r\n        option = (options.value as CascaderOption[]).find(\r\n          (i) => i.code === value\r\n        ) as CascaderOption\r\n        http\r\n          .get('/syx/region/query/level', { parentCode: value })\r\n          .then((res) => {\r\n            if (res.code === '200') {\r\n              res.data.map((i: { items: never[] }) => {\r\n                i.items = []\r\n              })\r\n              option.items = res.data\r\n            } else {\r\n              Toast.fail(res.msg)\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n      }\r\n      if (tabIndex === 1) {\r\n        const op = (option.items as CascaderOption[]).find(\r\n          (i) => i.code === value\r\n        ) as CascaderOption\r\n        http\r\n          .get('/syx/region/query/level', { parentCode: value })\r\n          .then((res) => {\r\n            if (res.code === '200') {\r\n              op.items = res.data\r\n            } else {\r\n              Toast.fail(res.msg)\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n      }\r\n    }\r\n    const onRegionFinish = ({ selectedOptions }: CascaderOption) => {\r\n      console.log(selectedOptions)\r\n      showRegionPopup.value = false\r\n      fieldValue.value = selectedOptions\r\n        .map((option: { name: string; code: string }, index: number) => {\r\n          if (index == 0) {\r\n            provName = option.name\r\n            provCode = option.code\r\n          }\r\n          if (index == 1) {\r\n            cityName = option.name\r\n            cityCode = option.code\r\n          }\r\n          if (index == 2) {\r\n            countyName = option.name\r\n            countyCode = option.code\r\n          }\r\n          return option.name\r\n        })\r\n        .join('/')\r\n    }\r\n\r\n    const onOversize = (file: UploaderFileListItem) => {\r\n      console.log(file)\r\n      Toast('文件大小不能超过 6Mb')\r\n    }\r\n\r\n    let shopImgCode: string\r\n    let licenseImgCode: string\r\n    const asyncBeforeRead = (file: File) =>\r\n      new Promise((resolve, reject) => {\r\n        if (\r\n          file.type !== 'image/jpeg' &&\r\n          file.type !== 'image/jpg' &&\r\n          file.type !== 'image/png' &&\r\n          file.type !== 'image/bmp'\r\n        ) {\r\n          Toast('请上传 png/jpg/jpeg/bmp 格式图片')\r\n          reject()\r\n        } else {\r\n          new Compressor(file, {\r\n            quality: 0.6,\r\n            maxWidth: 1024,\r\n            success: resolve,\r\n            error(err) {\r\n              console.log(err.message)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    const afterRead = async (\r\n      file: UploaderFileListItem,\r\n      target: 'shopImg' | 'licenseImg'\r\n    ) => {\r\n      console.log(target, file.file)\r\n      file.status = 'uploading'\r\n      file.message = '上传中...'\r\n\r\n      const formData = new FormData()\r\n      const imgFile = new window.File(\r\n        [file.file as BlobPart],\r\n        file.file?.name as string,\r\n        {\r\n          type: file.file?.type\r\n        }\r\n      )\r\n      formData.append('file', imgFile)\r\n      formData.append('channel', 'hebei-sellerInfo')\r\n      console.log(formData, imgFile)\r\n      axios\r\n        .post('/hbact/ossCommon/uploadOne', formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        })\r\n        .then(({ data: res }) => {\r\n          console.log(res)\r\n          if (res.code === '200') {\r\n            file.status = 'done'\r\n            if (target === 'shopImg') {\r\n              shopImgCode = res.data.rdmCode\r\n              shopImg.value = [\r\n                {\r\n                  url: res.data.filePath\r\n                }\r\n              ]\r\n            }\r\n            if (target === 'licenseImg') {\r\n              licenseImgCode = res.data.rdmCode\r\n              licenseImg.value = [\r\n                {\r\n                  url: res.data.filePath\r\n                }\r\n              ]\r\n            }\r\n          }\r\n          console.log(shopImgCode, licenseImgCode)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n          file.status = 'failed'\r\n          file.message = '上传失败！'\r\n        })\r\n    }\r\n\r\n    const minDate = ref(new Date(1920, 0, 1))\r\n    const maxDate = ref(new Date())\r\n\r\n    let shopLat: number\r\n    let shopLng: number\r\n\r\n    type Flag =\r\n      | 'showSaleZonePicker'\r\n      | 'showForm'\r\n      | 'showRegionPopup'\r\n      | 'showDatetimePicker'\r\n      | 'showMalePicker'\r\n    const handleClickField = (flag: Flag) => {\r\n      if (formDiabled.value) return\r\n      if (flag === 'showSaleZonePicker') {\r\n        showSaleZonePicker.value = true\r\n      }\r\n      if (flag === 'showForm') {\r\n        if (lat.value && lng.value) {\r\n          iframeUrl.value = `https://apis.map.qq.com/tools/locpicker?search=1&type=1&key=${MapKey}&referer=webtest&coord=${lat.value},${lng.value}`\r\n        }\r\n        showForm.value = false\r\n      }\r\n      if (flag === 'showRegionPopup') {\r\n        showRegionPopup.value = true\r\n      }\r\n      if (flag === 'showDatetimePicker') {\r\n        showDatetimePicker.value = true\r\n      }\r\n      if (flag === 'showMalePicker') {\r\n        showMalePicker.value = true\r\n      }\r\n    }\r\n\r\n    const getSellerInfo = () => {\r\n      http\r\n        .get('/hbSeller/seller/isRegister', {})\r\n        .then((res) => {\r\n          if (res.code === '200') {\r\n            console.log(res.data)\r\n            hasPhone.value = res.data.hasPhone\r\n            isRegister.value = res.data.isRegister\r\n            if (res.data.isRegister) {\r\n              registerStatus.value = res.data.registerStatus\r\n              if (registerStatus.value === 3) {\r\n                const regiserInfo = res.data.regiserInfo\r\n                shopName.value = regiserInfo.shopName\r\n                contactName.value = regiserInfo.contactName\r\n                gender = regiserInfo.gender\r\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n                const maleColumn = maleColumns.find((item, index) => {\r\n                  if (item.id == regiserInfo.gender) {\r\n                    maleIndex.value = index\r\n                    return true\r\n                  }\r\n                })!\r\n                male.value = maleColumn.name\r\n                date.value = regiserInfo.birthday\r\n                const birthday = (regiserInfo.birthday as string).split('-')\r\n                const year = Number(birthday[0])\r\n                const month = Number(birthday[1]) - 1\r\n                const day = Number(birthday[2])\r\n                currentDate.value = new Date(year, month, day)\r\n                provName = regiserInfo.provName\r\n                cityName = regiserInfo.cityName\r\n                countyName = regiserInfo.countyName\r\n                fieldValue.value = provName + '/' + cityName + '/' + countyName\r\n                provCode = regiserInfo.provCode\r\n                cityCode = regiserInfo.cityCode\r\n                countyCode = regiserInfo.countyCode\r\n                detailAddr.value = regiserInfo.detailAddr\r\n                if (regiserInfo.shopLat && regiserInfo.shopLng) {\r\n                  GPSValue.value = '已定位'\r\n                  shopLat = regiserInfo.shopLat\r\n                  shopLng = regiserInfo.shopLng\r\n                }\r\n                licenseImgCode = regiserInfo.licenseImgCode\r\n                licenseImg.value = [\r\n                  {\r\n                    url: regiserInfo.licenseImg as string\r\n                  }\r\n                ]\r\n                shopImgCode = regiserInfo.shopImgCode\r\n                shopImg.value = [\r\n                  {\r\n                    url: regiserInfo.shopImg as string\r\n                  }\r\n                ]\r\n                licenseNo.value = regiserInfo.licenseNo\r\n                areaType.value = regiserInfo.areaType\r\n                saleZoneCode = regiserInfo.saleZoneCode\r\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n                const saleZoneColumn = saleZoneCodeColumns.value.find(\r\n                  (item, index) => {\r\n                    if (item.zoneCode == regiserInfo.saleZoneCode) {\r\n                      saleZoneIndex.value = index\r\n                      return true\r\n                    }\r\n                  }\r\n                )!\r\n                saleZone.value = saleZoneColumn.zoneName\r\n                salesman.value = regiserInfo.salesman || ''\r\n                auditMsg.value = regiserInfo.auditMsg || ''\r\n                if (regiserInfo.contactPhone != null) {\r\n                  contactPhone.value = regiserInfo.contactPhone\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            Toast.fail(res.msg)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    }\r\n\r\n    const onSubmit = () => {\r\n      const params = {\r\n        licenseNo: licenseNo.value,\r\n        licenseImgCode,\r\n        shopName: shopName.value,\r\n        shopImgCode,\r\n        contactName: contactName.value,\r\n        areaType: areaType.value,\r\n        provCode,\r\n        provName,\r\n        cityCode,\r\n        cityName,\r\n        countyCode,\r\n        countyName,\r\n        detailAddr: detailAddr.value,\r\n        saleZoneCode,\r\n        shopLat,\r\n        shopLng,\r\n        salesman: salesman.value,\r\n        gender,\r\n        birthday: date.value\r\n      }\r\n      console.log('submit', params)\r\n      http\r\n        .post('/hbSeller/seller/register', params, true)\r\n        .then((res) => {\r\n          if (res.code === '200') {\r\n            Toast.success(res.msg)\r\n            getSellerInfo()\r\n          } else {\r\n            Toast.fail(res.msg)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    }\r\n\r\n    const onSubmitPhone = () => {\r\n      if (!submitChecked.value) {\r\n        Toast.fail('请阅读并同意\"私域平台隐私政策\"')\r\n        return\r\n      }\r\n      const params = {\r\n        contactPhone: contactPhone.value,\r\n        phoneCode: phoneCode.value\r\n      }\r\n      console.log(params)\r\n      http\r\n        .post('/hbSeller/seller/phoneCodeCheck', params, false)\r\n        .then((res) => {\r\n          if (res.code === '200') {\r\n            Toast.success('绑定成功')\r\n            showBindPhone.value = false\r\n            getSellerInfo()\r\n          } else {\r\n            Toast.fail(res.msg)\r\n          }\r\n        })\r\n    }\r\n\r\n    const codeCount = ref(60)\r\n    const btnDisabled = ref(false)\r\n    const handleCodeChange = () => {\r\n      if (phoneCode.value.length > 6) {\r\n        phoneCode.value = phoneCode.value.substring(0, 6)\r\n      }\r\n    }\r\n    const handleGetCode = () => {\r\n      if (!phonePattern.test(contactPhone.value)) {\r\n        Toast.fail('请输入正确的手机号！')\r\n        return\r\n      }\r\n      if (!submitChecked.value) {\r\n        Toast.fail('请先阅读并同意本平台隐私政策说明后再使用，谢谢！')\r\n        return\r\n      }\r\n      http\r\n        .post(\r\n          ' /hbSeller/seller/phoneCodeSend',\r\n          { contactPhone: contactPhone.value },\r\n          false\r\n        )\r\n        .then((res) => {\r\n          if (res.code === '200') {\r\n            Toast.success('已发送！')\r\n            btnDisabled.value = true\r\n            phoneCodeText.value = `重新发送(${codeCount.value--})`\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            let countInter: any = setInterval(() => {\r\n              phoneCodeText.value = `重新发送(${codeCount.value--})`\r\n              if (codeCount.value < 0) {\r\n                clearInterval(countInter)\r\n                countInter = undefined\r\n                codeCount.value = 60\r\n                phoneCodeText.value = '发送验证码'\r\n                btnDisabled.value = false\r\n              }\r\n            }, 1000)\r\n          } else {\r\n            Toast.fail(res.msg)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    }\r\n\r\n    const getRegion = () => {\r\n      http\r\n        .get('/syx/region/query/level', { level: 1 })\r\n        .then((res) => {\r\n          if (res.code === '200') {\r\n            res.data.map((i: { items: never[] }) => {\r\n              i.items = []\r\n            })\r\n            options.value = res.data\r\n          } else {\r\n            Toast.fail(res.msg)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    }\r\n\r\n    const getSaleZoneList = () => {\r\n      http\r\n        .get('/hbSeller/saleZone/allList', {})\r\n        .then((res) => {\r\n          if (res) {\r\n            console.log(res)\r\n            saleZoneCodeColumns.value = res\r\n            getSellerInfo()\r\n          } else {\r\n            Toast.fail(res.msg)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    }\r\n\r\n    const handleClickPolicy = () => {\r\n      showPolicy.value = true\r\n    }\r\n\r\n    const handleClosePolicy = () => {\r\n      submitChecked.value = true\r\n      showPolicy.value = false\r\n    }\r\n\r\n    onMounted(async () => {\r\n      if (!sessionStorage.getItem('SellerRegister')) {\r\n        sessionStorage.setItem('SellerRegister', '1')\r\n        window.location.reload()\r\n        return\r\n      }\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        store.commit('setLng', 116.70602)\r\n        store.commit('setLat', 39.860464)\r\n      }\r\n      getRegion()\r\n      getSaleZoneList()\r\n      window.addEventListener(\r\n        'message',\r\n        function(event) {\r\n          // 接收位置信息，用户选择确认位置点后选点组件会触发该事件，回传用户的位置信息\r\n          const loc = event.data\r\n          if (loc && loc.module == 'locationPicker') {\r\n            //防止其他应用也会向该页面post信息，需判断module是否为'locationPicker'\r\n            console.log('location', loc)\r\n            GPSValue.value = '已定位'\r\n            shopLat = loc.latlng.lat\r\n            shopLng = loc.latlng.lng\r\n            showForm.value = true\r\n          }\r\n        },\r\n        false\r\n      )\r\n    })\r\n    return {\r\n      iframeUrl,\r\n      formDiabled,\r\n      isRegister,\r\n      registerStatus,\r\n      showForm,\r\n      shopName,\r\n      hasPhone,\r\n      contactName,\r\n      licenseNo,\r\n      contactPhone,\r\n      phoneCode,\r\n      detailAddr,\r\n      salesman,\r\n      password,\r\n      maleColumns,\r\n      maleCustomFieldName,\r\n      saleZoneCodeColumns,\r\n      saleZoneCodeCustomFieldName,\r\n      showMalePicker,\r\n      showSaleZonePicker,\r\n      currentDate,\r\n      showDatetimePicker,\r\n      areaType,\r\n      onMaleConfirm,\r\n      onSaleZoneConfirm,\r\n      onDatetimeConfirm,\r\n      male,\r\n      maleIndex,\r\n      saleZoneIndex,\r\n      saleZone,\r\n      GPSValue,\r\n      date,\r\n      shopImg,\r\n      licenseImg,\r\n      phonePattern,\r\n      licenseNoPattern,\r\n      phoneCodePattern,\r\n      handleClickField,\r\n      onSubmit,\r\n      onSubmitPhone,\r\n      minDate,\r\n      maxDate,\r\n      showRegionPopup,\r\n      options,\r\n      onRegionChange,\r\n      onRegionFinish,\r\n      fieldValue,\r\n      fieldNames,\r\n      cascaderValue,\r\n      asyncBeforeRead,\r\n      afterRead,\r\n      onOversize,\r\n      showBindPhone,\r\n      phoneCodeText,\r\n      handleGetCode,\r\n      btnDisabled,\r\n      handleCodeChange,\r\n      auditMsg,\r\n      submitChecked,\r\n      showPolicy,\r\n      handleClickPolicy,\r\n      handleClosePolicy\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.register-container {\r\n  background-color: #f6f6f6;\r\n  padding-bottom: 25px;\r\n  .banner {\r\n    margin-bottom: 11px;\r\n    img {\r\n      display: block;\r\n      width: 100%;\r\n      height: 105px;\r\n    }\r\n  }\r\n}\r\n.submit-phone-tips {\r\n  margin: 10px 0;\r\n  font-size: 12px;\r\n  color: #b1b1b1;\r\n}\r\n.is-register-container {\r\n  background-color: #f6f6f6;\r\n  height: 100vh;\r\n  padding-top: 81px;\r\n  box-sizing: border-box;\r\n  .icon {\r\n    margin-bottom: 28px;\r\n    img {\r\n      width: 70px;\r\n      height: 70px;\r\n      display: block;\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n  .status {\r\n    font-size: 16px;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    text-align: center;\r\n    color: #2b333b;\r\n    margin-bottom: 8px;\r\n  }\r\n  .text {\r\n    font-size: 14px;\r\n    height: 20px;\r\n    line-height: 20px;\r\n    text-align: center;\r\n    color: #b1b1b1;\r\n  }\r\n  .btn {\r\n    margin-top: 36px;\r\n    text-align: center;\r\n  }\r\n}\r\n#mapPage {\r\n  height: 100vh;\r\n}\r\n.form-bind {\r\n  width: 20rem;\r\n  box-sizing: border-box;\r\n  .title {\r\n    height: 40px;\r\n    line-height: 40px;\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"root\">\r\n    <div class=\"policy-close\" @click=\"policyBtn\"></div>\r\n    <div id=\"policy\">\r\n      <h2>隐私政策设置说明</h2>\r\n\r\n      <h3>一、法律声明</h3>\r\n      <ol>\r\n        <li>\r\n          在使用本平台各项服务前，请您务必仔细阅读并透彻理解本声明。如对本声明内容有任何疑问，您可向咨询。阅读本声明的过程中，如果您不同意本声明或其中任何内容，您应立即停止使用手机号码验证服务。如果您继续使用本平台服务，即意味着您认可本声明全部内容。\r\n        </li>\r\n        <li>\r\n          本平台各项电子服务的知识产权所有权和运作权归属河北中烟工业有限责任公司（以下简称本公司）所有。本协议构成您与本平台之间就您使用系统达成的协议，具有法律效力。本协议的最终解释权归河北中烟所有。\r\n        </li>\r\n      </ol>\r\n\r\n      <h3>二、用户的权利和义务</h3>\r\n      <p>\r\n        所有用户必须遵循：\r\n      </p>\r\n      <ol>\r\n        <li>\r\n          • 遵守所有使用服务的协议、规定、程序和惯例；\r\n        </li>\r\n        <li>\r\n          • 不得使用本系统从事违法活动；\r\n        </li>\r\n        <li>\r\n          • 不得干扰或侵犯本系统的正常运行和其他用户的正常使用；\r\n        </li>\r\n        <li>\r\n          同时用户承诺：\r\n        </li>\r\n        <li>\r\n          •\r\n          不得传输任何非法的、骚扰性的、中伤他人的、辱骂性的、恐吓性的、伤害性的、庸俗的、淫秽的信息；\r\n        </li>\r\n        <li>\r\n          • 不得传输任何教唆他人进行违法犯罪行为的资料；\r\n        </li>\r\n        <li>\r\n          • 不得传输不利于国内团结和社会安定的资料；\r\n        </li>\r\n        <li>\r\n          • 不得传输任何不符合国家法律、法规规定的资料、信息；\r\n        </li>\r\n        <li>\r\n          • 不得未经书面许可，将系统所载信息进行复制及进行网络传播；\r\n        </li>\r\n        <li>\r\n          如果用户的行为违背上述条款规定，河北中烟可以做出独立判断并有权立即取消用户资格。用户应对自己在网上的违法行为承担全部法律责任。\r\n        </li>\r\n        <li>基于网络服务的特殊性，用户同意：</li>\r\n        <li>\r\n          •\r\n          在注册时按照注册提示提供准确的手机号及个人资料。用户注册时需要至少向我们提供用户本人的手机号码，我们将通过发送短信验证码的方式来验证用户的身份是否有效，用户的账户名默认为用户的微信默认昵称。\r\n        </li>\r\n        <li>\r\n          •\r\n          在个人的注册信息发生变化时，用户应及时更新自己的注册信息，保证其个人资料的详尽和准确。所有用户输入的个人信息将被视作准确表明了用户的身份，并作为本系统提供所有服务的有效身份依据。\r\n        </li>\r\n        <li>\r\n          •\r\n          用户一旦注册成功，成为系统的正式用户后，应当对自己的微信平台账号安全性负全部责任。对于用户因微信帐号泄露造成本系统平台的各种损失，河北中烟不承担任何责任。用户发现任何非法使用本系统账号的情况，应立即通知河北中烟。\r\n        </li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n      </ol>\r\n\r\n      <h3>三、隐私权政策</h3>\r\n      <p>\r\n        我们非常重视您的隐私和个人信息保护。在您使用我们的产品与/或服务时，我们将按照本隐私权政策收集、使用及共享您的个人信息。我们希望通过《平台隐私政策（“本隐私政策”）向您说明我们在您使用我们的产品与/或服务时如何收集、使用、保存这些信息，以及我们为您提供的访问、更新、删除和保护这些信息的方式。如果您不同意本隐私政策的任何内容，您应立即停止使用手机验证服务。如您继续使用我们提供的任一服务时，即表示您已同意我们按照本隐私政策照来合法收集、使用和分享您的相关信息。\r\n      </p>\r\n      <ol>\r\n        <li class=\"subTitle\">1、我们如何收集信息</li>\r\n        <li>我们收集信息是为了向您提供优质的服务，我们收集信息的方式如下：</li>\r\n        <li>\r\n          (1)您向我们提供的信息。当您注册账户及您在使用系统时提供的相关服务时填写及或提交的信息，包括但不限于手机号、您的姓名、性别、出生年月日、身份证号码、电话号码、电子邮箱、地址、邮编、银行账号等相关信息。\r\n        </li>\r\n        <li>\r\n          (2)在您使用服务过程中收集的信息。为了提供并优化您需要的服务，我们会收集您使用服务的相关信息，这类信息包括：在您使用移动设备访问系统服务时，可能会读取与您位置和移动设备相关的信息，包括但不限于定位位置信息、设备型号、操作系统、设备识别码、分辨率、电信运营商等。\r\n        </li>\r\n        <li>\r\n          (3)来自第三方的信息。为了给您提供更好、更优、更加个性化的服务，或共同为您提供服务，或为了预防互联网欺诈的目的，河北中烟的关联方、合作伙伴会依据法律的规定或与您的约定或征得您同意的前提下，分享您的个人信息。\r\n          您了解并同意，以下信息不适用本隐私权政策：\r\n          a）您在系统进行交易的有关数据，包括但不限于出价、成交信息及评价等数据；\r\n          b）您在使用系统提供的搜索服务时输入的关键字信息；\r\n          c）信用评价、违反法律规定或违反规则行为及已对您采取的措施； d)\r\n          应法律法规要求需公示的企业名称等相关工商注册信息以及自然人经营者的信息。\r\n        </li>\r\n        <li class=\"subTitle\">\r\n          2、我们如何使用信息\r\n        </li>\r\n        <li>\r\n          收集的有关您的信息和资料将保存在河北中烟及（或）关联公司的服务器上，是为了向您提供优质服务的目的，为了实现该目的，我们会把您的信息用于下列用途：\r\n        </li>\r\n        <li>(1)向您提供您使用的各项服务，并维护、改进这些服务。</li>\r\n        <li>\r\n          (2)我们可能使用您的个人信息以预防、发现、调查欺诈、危害安全、非法或违反与我们或其关联方协议、政策或规则的行为，以保护您、其他我们用户，或我们或其关联方的合法权益。\r\n        </li>\r\n        <li>\r\n          (3)我们可能会将来自某项服务的个人信息与来自其他服务的信息结合起来，用于为了给您提供更加个性化的服务使用，例如让您拥有更广泛的社交圈的需要而使用、共享或披露，或给您提供更便捷的消费者服务体验。\r\n        </li>\r\n        <li>(4)经您许可的其他用途。</li>\r\n        <li class=\"subTitle\">3、我们如何共享信息</li>\r\n        <li>\r\n          我们对您的信息承担保密义务，不会为满足第三方的营销目的而向其出售或出租您的任何信息，我们会在下列情况下才将您的信息与第三方共享：\r\n        </li>\r\n        <li>(1)事先获得您的同意或授权。</li>\r\n        <li>(2)根据法律法规的规定或行政或司法机构的要求。</li>\r\n        <li>(3)向关联方分享您的个人信息。</li>\r\n        <li>\r\n          (4)向可信赖的合作伙伴提供您的个人信息，让他们根据我们的指示并遵循我们的隐私权政策以及其他任何相应的保密和安全措施来为我们处理这些信息。\r\n        </li>\r\n        <li>\r\n          (5)如您出现违反中国有关法律、法规或者相关协议或相关规则的情况，需要向第三方披露。\r\n        </li>\r\n        <li>(6)为维护及其关联方或用户的合法权益。</li>\r\n      </ol>\r\n\r\n      <h3>四、公民个人信息保护</h3>\r\n      <p>\r\n        为保障您的信息安全，我们努力采取各种合理的安全措施来保护您的信息，以防信息的泄漏、毁损或者丢失，包括但不限于SSL、信息加密存储、数据中心的访问控制。我们对可能接触到您的信息的员工或外包人员也采取了严格管理，包括但不限于与他们签署保密协议，根据岗位的不同采取不同的权限控制，监控他们的操作情况等措施。请妥善保管您的账户及密码信息。河北中烟将通过向其它服务器备份、对用户身份信息进行加密等安全措施确保您的信息不丢失，不被滥用和变造。尽管有前述安全措施，但也请您理解，由于技术的限制以及可能存在的各种恶意行为，在互联网上不能保证百分之百的安全。请您妥善保护自己的个人信息，仅在必要的情形下向他人提供，并且对此行为产生的后果承担责任。在您使用我们的服务时所提供、上传、或发布的内容和信息（比如照片），可能会泄露您的敏感个人信息，请您慎重考虑是否在使用使披露。如您发现自己的个人信息泄密，尤其是你的微信平台账户发生泄露，请您立即联络河北中烟平台，以便采取相应措施。\r\n      </p>\r\n      <!--<div>\r\n            <button type=\"button\" id=\"back\" @click=\"policyClose\">返回</button>\r\n        </div>-->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n  setup(props, ctx) {\r\n    const policyBtn = () => {\r\n      ctx.emit('policyClose')\r\n    }\r\n    return {\r\n      policyBtn\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n* {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.root {\r\n  width: 325px;\r\n  height: 450px;\r\n  background: #fcf8f8;\r\n  padding: 15px;\r\n  transform: translateX(-50%) translateY(-50%);\r\n  border-radius: 0.26667rem;\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 47%;\r\n  z-index: 9999;\r\n  .policy-close {\r\n    width: 23px;\r\n    height: 23px;\r\n    position: absolute;\r\n    left: 50%;\r\n    bottom: -43px;\r\n    transform: translateX(-50%);\r\n    background: url('https://qrmkt.oss-cn-beijing.aliyuncs.com/common/phone/phone_close.png')\r\n      no-repeat center / contain;\r\n  }\r\n}\r\n\r\n#policy {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  h2 {\r\n    color: #0085da;\r\n    font-size: 20px;\r\n    margin-bottom: 15px;\r\n    text-align: center;\r\n  }\r\n  p,\r\n  h3,\r\n  li {\r\n    color: #141000;\r\n    font-size: 12px;\r\n    line-height: 30px;\r\n    text-indent: 2em;\r\n  }\r\n  h3 {\r\n    font-weight: bold;\r\n    margin-top: 5px;\r\n  }\r\n  #back {\r\n    width: 101px;\r\n    height: 32px;\r\n    background: none;\r\n    border: 1px solid #0085da;\r\n    color: #0085da;\r\n    font-size: 18px;\r\n    display: block;\r\n    letter-spacing: 10px;\r\n    text-indent: 10px;\r\n    margin: 25px auto 0;\r\n  }\r\n  .subTitle {\r\n    text-indent: 0;\r\n  }\r\n}\r\n</style>\r\n","import { defineComponent } from 'vue';\r\nexport default defineComponent({\r\n    setup(props, ctx) {\r\n        const policyBtn = () => {\r\n            ctx.emit('policyClose');\r\n        };\r\n        return {\r\n            policyBtn\r\n        };\r\n    }\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=6d0dc858&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=6d0dc858&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6d0dc858\"\n\nexport default script","import { computed, defineComponent, onMounted, ref } from 'vue';\r\nimport { CascaderOption } from \"vant\";\r\nimport { CascaderFieldNames } from \"vant\";\r\nimport { UploaderFileListItem } from \"vant\";\r\nimport Toast from \"vant/es/toast\";\r\nimport \"vant/es/toast/style/less\";\r\nimport { PickerFieldNames } from \"vant\";\r\nimport { PickerObjectOption } from \"vant\";\r\nimport Compressor from 'compressorjs';\r\nimport axios, { http } from '@/http';\r\nimport { useStore } from 'vuex';\r\nimport { MapKey } from '@/plugins/Tmap';\r\nimport PolicyPage from '@/components/PolicyPage/index.vue';\r\nexport default defineComponent({\r\n    name: 'SellerRegister',\r\n    components: { PolicyPage },\r\n    setup() {\r\n        const store = useStore();\r\n        const lat = computed(() => store.state.lat);\r\n        const lng = computed(() => store.state.lng);\r\n        const iframeUrl = ref(`https://apis.map.qq.com/tools/locpicker?search=1&type=1&key=${MapKey}&referer=hbseller`);\r\n        const showPolicy = ref(false);\r\n        const submitChecked = ref(false);\r\n        const showBindPhone = ref(false);\r\n        const hasPhone = ref(false);\r\n        const contactPhone = ref('');\r\n        const phoneCode = ref('');\r\n        const phoneCodeText = ref('发送验证码');\r\n        const formDiabled = ref(false);\r\n        const showForm = ref(true);\r\n        const isRegister = ref(true); // 是否注册\r\n        const registerStatus = ref(0); // 注册的状态， 1: 审核通过, 2: 待审核, 3: 审核不通过\r\n        const shopName = ref('');\r\n        const contactName = ref('');\r\n        const detailAddr = ref('');\r\n        const salesman = ref('');\r\n        const licenseNo = ref('');\r\n        const password = ref('');\r\n        const male = ref('');\r\n        const maleIndex = ref(0);\r\n        const saleZoneIndex = ref(0);\r\n        const saleZone = ref('');\r\n        const date = ref('');\r\n        const auditMsg = ref('');\r\n        const GPSValue = ref('');\r\n        const showMalePicker = ref(false);\r\n        const showSaleZonePicker = ref(false);\r\n        const currentDate = ref(new Date());\r\n        const showDatetimePicker = ref(false);\r\n        const areaType = ref(1);\r\n        const shopImg = ref([]);\r\n        const licenseImg = ref([]);\r\n        const maleColumns = [\r\n            { name: '男', id: 1 },\r\n            { name: '女', id: 2 }\r\n        ];\r\n        const maleCustomFieldName = {\r\n            text: 'name'\r\n        };\r\n        const saleZoneCodeColumns = ref([]);\r\n        const saleZoneCodeCustomFieldName = {\r\n            text: 'zoneName'\r\n        };\r\n        let gender;\r\n        const onMaleConfirm = (value) => {\r\n            male.value = value.name;\r\n            gender = value.id;\r\n            showMalePicker.value = false;\r\n            console.log(gender);\r\n        };\r\n        let saleZoneCode;\r\n        const onSaleZoneConfirm = (value) => {\r\n            saleZone.value = value.zoneName;\r\n            saleZoneCode = value.zoneCode;\r\n            showSaleZonePicker.value = false;\r\n            console.log(saleZoneCode);\r\n        };\r\n        const onDatetimeConfirm = (value) => {\r\n            const d = new Date(value);\r\n            date.value =\r\n                d.getFullYear() +\r\n                    '-' +\r\n                    (d.getMonth() + 1 < 10 ? '0' + (d.getMonth() + 1) : d.getMonth() + 1) +\r\n                    '-' +\r\n                    (d.getDate() - 0 < 10 ? '0' + d.getDate() : d.getDate());\r\n            showDatetimePicker.value = false;\r\n            console.log(value);\r\n        };\r\n        const phonePattern = /^1[3456789]\\d{9}$/;\r\n        const licenseNoPattern = /^\\d{12}$|^\\d{13}$/;\r\n        const phoneCodePattern = /^\\d{6}$/;\r\n        const showRegionPopup = ref(false);\r\n        const fieldValue = ref(''); // 详细地址\r\n        const cascaderValue = ref(''); //  省市区地址\r\n        const fieldNames = {\r\n            text: 'name',\r\n            value: 'code',\r\n            children: 'items'\r\n        };\r\n        const options = ref([]);\r\n        let option;\r\n        let provName;\r\n        let cityName;\r\n        let countyName;\r\n        let provCode;\r\n        let cityCode;\r\n        let countyCode;\r\n        const onRegionChange = async ({ value, tabIndex }) => {\r\n            if (tabIndex === 0) {\r\n                option = options.value.find((i) => i.code === value);\r\n                http\r\n                    .get('/syx/region/query/level', { parentCode: value })\r\n                    .then((res) => {\r\n                    if (res.code === '200') {\r\n                        res.data.map((i) => {\r\n                            i.items = [];\r\n                        });\r\n                        option.items = res.data;\r\n                    }\r\n                    else {\r\n                        Toast.fail(res.msg);\r\n                    }\r\n                })\r\n                    .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n            }\r\n            if (tabIndex === 1) {\r\n                const op = option.items.find((i) => i.code === value);\r\n                http\r\n                    .get('/syx/region/query/level', { parentCode: value })\r\n                    .then((res) => {\r\n                    if (res.code === '200') {\r\n                        op.items = res.data;\r\n                    }\r\n                    else {\r\n                        Toast.fail(res.msg);\r\n                    }\r\n                })\r\n                    .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n            }\r\n        };\r\n        const onRegionFinish = ({ selectedOptions }) => {\r\n            console.log(selectedOptions);\r\n            showRegionPopup.value = false;\r\n            fieldValue.value = selectedOptions\r\n                .map((option, index) => {\r\n                if (index == 0) {\r\n                    provName = option.name;\r\n                    provCode = option.code;\r\n                }\r\n                if (index == 1) {\r\n                    cityName = option.name;\r\n                    cityCode = option.code;\r\n                }\r\n                if (index == 2) {\r\n                    countyName = option.name;\r\n                    countyCode = option.code;\r\n                }\r\n                return option.name;\r\n            })\r\n                .join('/');\r\n        };\r\n        const onOversize = (file) => {\r\n            console.log(file);\r\n            Toast('文件大小不能超过 6Mb');\r\n        };\r\n        let shopImgCode;\r\n        let licenseImgCode;\r\n        const asyncBeforeRead = (file) => new Promise((resolve, reject) => {\r\n            if (file.type !== 'image/jpeg' &&\r\n                file.type !== 'image/jpg' &&\r\n                file.type !== 'image/png' &&\r\n                file.type !== 'image/bmp') {\r\n                Toast('请上传 png/jpg/jpeg/bmp 格式图片');\r\n                reject();\r\n            }\r\n            else {\r\n                new Compressor(file, {\r\n                    quality: 0.6,\r\n                    maxWidth: 1024,\r\n                    success: resolve,\r\n                    error(err) {\r\n                        console.log(err.message);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        const afterRead = async (file, target) => {\r\n            console.log(target, file.file);\r\n            file.status = 'uploading';\r\n            file.message = '上传中...';\r\n            const formData = new FormData();\r\n            const imgFile = new window.File([file.file], file.file?.name, {\r\n                type: file.file?.type\r\n            });\r\n            formData.append('file', imgFile);\r\n            formData.append('channel', 'hebei-sellerInfo');\r\n            console.log(formData, imgFile);\r\n            axios\r\n                .post('/hbact/ossCommon/uploadOne', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n                .then(({ data: res }) => {\r\n                console.log(res);\r\n                if (res.code === '200') {\r\n                    file.status = 'done';\r\n                    if (target === 'shopImg') {\r\n                        shopImgCode = res.data.rdmCode;\r\n                        shopImg.value = [\r\n                            {\r\n                                url: res.data.filePath\r\n                            }\r\n                        ];\r\n                    }\r\n                    if (target === 'licenseImg') {\r\n                        licenseImgCode = res.data.rdmCode;\r\n                        licenseImg.value = [\r\n                            {\r\n                                url: res.data.filePath\r\n                            }\r\n                        ];\r\n                    }\r\n                }\r\n                console.log(shopImgCode, licenseImgCode);\r\n            })\r\n                .catch((err) => {\r\n                console.log(err);\r\n                file.status = 'failed';\r\n                file.message = '上传失败！';\r\n            });\r\n        };\r\n        const minDate = ref(new Date(1920, 0, 1));\r\n        const maxDate = ref(new Date());\r\n        let shopLat;\r\n        let shopLng;\r\n        const handleClickField = (flag) => {\r\n            if (formDiabled.value)\r\n                return;\r\n            if (flag === 'showSaleZonePicker') {\r\n                showSaleZonePicker.value = true;\r\n            }\r\n            if (flag === 'showForm') {\r\n                if (lat.value && lng.value) {\r\n                    iframeUrl.value = `https://apis.map.qq.com/tools/locpicker?search=1&type=1&key=${MapKey}&referer=webtest&coord=${lat.value},${lng.value}`;\r\n                }\r\n                showForm.value = false;\r\n            }\r\n            if (flag === 'showRegionPopup') {\r\n                showRegionPopup.value = true;\r\n            }\r\n            if (flag === 'showDatetimePicker') {\r\n                showDatetimePicker.value = true;\r\n            }\r\n            if (flag === 'showMalePicker') {\r\n                showMalePicker.value = true;\r\n            }\r\n        };\r\n        const getSellerInfo = () => {\r\n            http\r\n                .get('/hbSeller/seller/isRegister', {})\r\n                .then((res) => {\r\n                if (res.code === '200') {\r\n                    console.log(res.data);\r\n                    hasPhone.value = res.data.hasPhone;\r\n                    isRegister.value = res.data.isRegister;\r\n                    if (res.data.isRegister) {\r\n                        registerStatus.value = res.data.registerStatus;\r\n                        if (registerStatus.value === 3) {\r\n                            const regiserInfo = res.data.regiserInfo;\r\n                            shopName.value = regiserInfo.shopName;\r\n                            contactName.value = regiserInfo.contactName;\r\n                            gender = regiserInfo.gender;\r\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n                            const maleColumn = maleColumns.find((item, index) => {\r\n                                if (item.id == regiserInfo.gender) {\r\n                                    maleIndex.value = index;\r\n                                    return true;\r\n                                }\r\n                            });\r\n                            male.value = maleColumn.name;\r\n                            date.value = regiserInfo.birthday;\r\n                            const birthday = regiserInfo.birthday.split('-');\r\n                            const year = Number(birthday[0]);\r\n                            const month = Number(birthday[1]) - 1;\r\n                            const day = Number(birthday[2]);\r\n                            currentDate.value = new Date(year, month, day);\r\n                            provName = regiserInfo.provName;\r\n                            cityName = regiserInfo.cityName;\r\n                            countyName = regiserInfo.countyName;\r\n                            fieldValue.value = provName + '/' + cityName + '/' + countyName;\r\n                            provCode = regiserInfo.provCode;\r\n                            cityCode = regiserInfo.cityCode;\r\n                            countyCode = regiserInfo.countyCode;\r\n                            detailAddr.value = regiserInfo.detailAddr;\r\n                            if (regiserInfo.shopLat && regiserInfo.shopLng) {\r\n                                GPSValue.value = '已定位';\r\n                                shopLat = regiserInfo.shopLat;\r\n                                shopLng = regiserInfo.shopLng;\r\n                            }\r\n                            licenseImgCode = regiserInfo.licenseImgCode;\r\n                            licenseImg.value = [\r\n                                {\r\n                                    url: regiserInfo.licenseImg\r\n                                }\r\n                            ];\r\n                            shopImgCode = regiserInfo.shopImgCode;\r\n                            shopImg.value = [\r\n                                {\r\n                                    url: regiserInfo.shopImg\r\n                                }\r\n                            ];\r\n                            licenseNo.value = regiserInfo.licenseNo;\r\n                            areaType.value = regiserInfo.areaType;\r\n                            saleZoneCode = regiserInfo.saleZoneCode;\r\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n                            const saleZoneColumn = saleZoneCodeColumns.value.find((item, index) => {\r\n                                if (item.zoneCode == regiserInfo.saleZoneCode) {\r\n                                    saleZoneIndex.value = index;\r\n                                    return true;\r\n                                }\r\n                            });\r\n                            saleZone.value = saleZoneColumn.zoneName;\r\n                            salesman.value = regiserInfo.salesman || '';\r\n                            auditMsg.value = regiserInfo.auditMsg || '';\r\n                            if (regiserInfo.contactPhone != null) {\r\n                                contactPhone.value = regiserInfo.contactPhone;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    Toast.fail(res.msg);\r\n                }\r\n            })\r\n                .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        };\r\n        const onSubmit = () => {\r\n            const params = {\r\n                licenseNo: licenseNo.value,\r\n                licenseImgCode,\r\n                shopName: shopName.value,\r\n                shopImgCode,\r\n                contactName: contactName.value,\r\n                areaType: areaType.value,\r\n                provCode,\r\n                provName,\r\n                cityCode,\r\n                cityName,\r\n                countyCode,\r\n                countyName,\r\n                detailAddr: detailAddr.value,\r\n                saleZoneCode,\r\n                shopLat,\r\n                shopLng,\r\n                salesman: salesman.value,\r\n                gender,\r\n                birthday: date.value\r\n            };\r\n            console.log('submit', params);\r\n            http\r\n                .post('/hbSeller/seller/register', params, true)\r\n                .then((res) => {\r\n                if (res.code === '200') {\r\n                    Toast.success(res.msg);\r\n                    getSellerInfo();\r\n                }\r\n                else {\r\n                    Toast.fail(res.msg);\r\n                }\r\n            })\r\n                .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        };\r\n        const onSubmitPhone = () => {\r\n            if (!submitChecked.value) {\r\n                Toast.fail('请阅读并同意\"私域平台隐私政策\"');\r\n                return;\r\n            }\r\n            const params = {\r\n                contactPhone: contactPhone.value,\r\n                phoneCode: phoneCode.value\r\n            };\r\n            console.log(params);\r\n            http\r\n                .post('/hbSeller/seller/phoneCodeCheck', params, false)\r\n                .then((res) => {\r\n                if (res.code === '200') {\r\n                    Toast.success('绑定成功');\r\n                    showBindPhone.value = false;\r\n                    getSellerInfo();\r\n                }\r\n                else {\r\n                    Toast.fail(res.msg);\r\n                }\r\n            });\r\n        };\r\n        const codeCount = ref(60);\r\n        const btnDisabled = ref(false);\r\n        const handleCodeChange = () => {\r\n            if (phoneCode.value.length > 6) {\r\n                phoneCode.value = phoneCode.value.substring(0, 6);\r\n            }\r\n        };\r\n        const handleGetCode = () => {\r\n            if (!phonePattern.test(contactPhone.value)) {\r\n                Toast.fail('请输入正确的手机号！');\r\n                return;\r\n            }\r\n            if (!submitChecked.value) {\r\n                Toast.fail('请先阅读并同意本平台隐私政策说明后再使用，谢谢！');\r\n                return;\r\n            }\r\n            http\r\n                .post(' /hbSeller/seller/phoneCodeSend', { contactPhone: contactPhone.value }, false)\r\n                .then((res) => {\r\n                if (res.code === '200') {\r\n                    Toast.success('已发送！');\r\n                    btnDisabled.value = true;\r\n                    phoneCodeText.value = `重新发送(${codeCount.value--})`;\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    let countInter = setInterval(() => {\r\n                        phoneCodeText.value = `重新发送(${codeCount.value--})`;\r\n                        if (codeCount.value < 0) {\r\n                            clearInterval(countInter);\r\n                            countInter = undefined;\r\n                            codeCount.value = 60;\r\n                            phoneCodeText.value = '发送验证码';\r\n                            btnDisabled.value = false;\r\n                        }\r\n                    }, 1000);\r\n                }\r\n                else {\r\n                    Toast.fail(res.msg);\r\n                }\r\n            })\r\n                .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        };\r\n        const getRegion = () => {\r\n            http\r\n                .get('/syx/region/query/level', { level: 1 })\r\n                .then((res) => {\r\n                if (res.code === '200') {\r\n                    res.data.map((i) => {\r\n                        i.items = [];\r\n                    });\r\n                    options.value = res.data;\r\n                }\r\n                else {\r\n                    Toast.fail(res.msg);\r\n                }\r\n            })\r\n                .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        };\r\n        const getSaleZoneList = () => {\r\n            http\r\n                .get('/hbSeller/saleZone/allList', {})\r\n                .then((res) => {\r\n                if (res) {\r\n                    console.log(res);\r\n                    saleZoneCodeColumns.value = res;\r\n                    getSellerInfo();\r\n                }\r\n                else {\r\n                    Toast.fail(res.msg);\r\n                }\r\n            })\r\n                .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        };\r\n        const handleClickPolicy = () => {\r\n            showPolicy.value = true;\r\n        };\r\n        const handleClosePolicy = () => {\r\n            submitChecked.value = true;\r\n            showPolicy.value = false;\r\n        };\r\n        onMounted(async () => {\r\n            if (!sessionStorage.getItem('SellerRegister')) {\r\n                sessionStorage.setItem('SellerRegister', '1');\r\n                window.location.reload();\r\n                return;\r\n            }\r\n            if (process.env.NODE_ENV !== 'production') {\r\n                store.commit('setLng', 116.70602);\r\n                store.commit('setLat', 39.860464);\r\n            }\r\n            getRegion();\r\n            getSaleZoneList();\r\n            window.addEventListener('message', function (event) {\r\n                // 接收位置信息，用户选择确认位置点后选点组件会触发该事件，回传用户的位置信息\r\n                const loc = event.data;\r\n                if (loc && loc.module == 'locationPicker') {\r\n                    //防止其他应用也会向该页面post信息，需判断module是否为'locationPicker'\r\n                    console.log('location', loc);\r\n                    GPSValue.value = '已定位';\r\n                    shopLat = loc.latlng.lat;\r\n                    shopLng = loc.latlng.lng;\r\n                    showForm.value = true;\r\n                }\r\n            }, false);\r\n        });\r\n        return {\r\n            iframeUrl,\r\n            formDiabled,\r\n            isRegister,\r\n            registerStatus,\r\n            showForm,\r\n            shopName,\r\n            hasPhone,\r\n            contactName,\r\n            licenseNo,\r\n            contactPhone,\r\n            phoneCode,\r\n            detailAddr,\r\n            salesman,\r\n            password,\r\n            maleColumns,\r\n            maleCustomFieldName,\r\n            saleZoneCodeColumns,\r\n            saleZoneCodeCustomFieldName,\r\n            showMalePicker,\r\n            showSaleZonePicker,\r\n            currentDate,\r\n            showDatetimePicker,\r\n            areaType,\r\n            onMaleConfirm,\r\n            onSaleZoneConfirm,\r\n            onDatetimeConfirm,\r\n            male,\r\n            maleIndex,\r\n            saleZoneIndex,\r\n            saleZone,\r\n            GPSValue,\r\n            date,\r\n            shopImg,\r\n            licenseImg,\r\n            phonePattern,\r\n            licenseNoPattern,\r\n            phoneCodePattern,\r\n            handleClickField,\r\n            onSubmit,\r\n            onSubmitPhone,\r\n            minDate,\r\n            maxDate,\r\n            showRegionPopup,\r\n            options,\r\n            onRegionChange,\r\n            onRegionFinish,\r\n            fieldValue,\r\n            fieldNames,\r\n            cascaderValue,\r\n            asyncBeforeRead,\r\n            afterRead,\r\n            onOversize,\r\n            showBindPhone,\r\n            phoneCodeText,\r\n            handleGetCode,\r\n            btnDisabled,\r\n            handleCodeChange,\r\n            auditMsg,\r\n            submitChecked,\r\n            showPolicy,\r\n            handleClickPolicy,\r\n            handleClosePolicy\r\n        };\r\n    }\r\n});\r\n","import { render } from \"./Register.vue?vue&type=template&id=38c195bb&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=ts\"\nexport * from \"./Register.vue?vue&type=script&lang=ts\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=38c195bb&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-38c195bb\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ScanCode.vue?vue&type=style&index=0&id=1e4a8464&lang=css\"","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=b4d1c714&lang=less&scoped=true\"","<template>\r\n  <van-overlay :show=\"show\" :lock-scroll=\"false\">\r\n    <div class=\"wrapper\">\r\n      <div class=\"content\">\r\n        <slot></slot>\r\n      </div>\r\n      <div class=\"close\" @click=\"handleClickClose\"></div>\r\n    </div>\r\n  </van-overlay>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n  name: 'ActTipsPopup',\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  setup(prop, ctx) {\r\n    const handleClickClose = () => {\r\n      ctx.emit('close')\r\n    }\r\n    return { handleClickClose }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '@/theme/common';\r\n.wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  margin-top: -30px;\r\n  .close {\r\n    .btn-popup-close();\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { defineComponent } from 'vue';\r\nexport default defineComponent({\r\n    name: 'ActTipsPopup',\r\n    props: {\r\n        show: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    setup(prop, ctx) {\r\n        const handleClickClose = () => {\r\n            ctx.emit('close');\r\n        };\r\n        return { handleClickClose };\r\n    }\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=b4d1c714&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b4d1c714&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b4d1c714\"\n\nexport default script","<template>\r\n  <div class=\"fans-act-detail-container\"></div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n  name: 'CustomerActDetail',\r\n  setup() {\r\n    return {}\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '@/theme/common';\r\n.fans-act-detail-container {\r\n  .bg-img(\r\n    375px,\r\n    875px,\r\n    'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/seller-bg-act-detail.jpg'\r\n  );\r\n}\r\n</style>\r\n","import { defineComponent } from 'vue';\r\nexport default defineComponent({\r\n    name: 'CustomerActDetail',\r\n    setup() {\r\n        return {};\r\n    }\r\n});\r\n","import { render } from \"./ActDetail.vue?vue&type=template&id=bc041d62&scoped=true\"\nimport script from \"./ActDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./ActDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./ActDetail.vue?vue&type=style&index=0&id=bc041d62&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-bc041d62\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=6d0dc858&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ScanCode.vue?vue&type=style&index=1&id=1e4a8464&lang=less&scoped=true\"","<template>\r\n  <van-overlay :show=\"show\">\r\n    <div class=\"wrapper\">\r\n      <div class=\"content\">\r\n        <slot></slot>\r\n      </div>\r\n      <div class=\"close\" @click=\"handleClickClose\"></div>\r\n    </div>\r\n  </van-overlay>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  setup(prop, ctx) {\r\n    const handleClickClose = () => {\r\n      ctx.emit('close')\r\n    }\r\n    return { handleClickClose }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '@/theme/common';\r\n.wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  margin-top: -30px;\r\n  .close {\r\n    .btn-popup-close();\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { defineComponent } from 'vue';\r\nexport default defineComponent({\r\n    props: {\r\n        show: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    setup(prop, ctx) {\r\n        const handleClickClose = () => {\r\n            ctx.emit('close');\r\n        };\r\n        return { handleClickClose };\r\n    }\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=398be061&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=398be061&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-398be061\"\n\nexport default script","/*!\n * Compressor.js v1.0.7\n * https://fengyuanchen.github.io/compressorjs\n *\n * Copyright 2018-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2020-11-28T07:13:17.754Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Compressor = factory());\n}(this, (function () { 'use strict';\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function createCommonjsModule(fn, basedir, module) {\n  \treturn module = {\n  \t\tpath: basedir,\n  \t\texports: {},\n  \t\trequire: function (path, base) {\n  \t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n  \t\t}\n  \t}, fn(module, module.exports), module.exports;\n  }\n\n  function commonjsRequire () {\n  \tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n  }\n\n  var canvasToBlob = createCommonjsModule(function (module) {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    (function (window) {\n\n      var CanvasPrototype = window.HTMLCanvasElement && window.HTMLCanvasElement.prototype;\n\n      var hasBlobConstructor = window.Blob && function () {\n        try {\n          return Boolean(new Blob());\n        } catch (e) {\n          return false;\n        }\n      }();\n\n      var hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array && function () {\n        try {\n          return new Blob([new Uint8Array(100)]).size === 100;\n        } catch (e) {\n          return false;\n        }\n      }();\n\n      var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n      var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;\n\n      var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob && window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n        var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i, bb; // Parse the dataURI components as per RFC 2397\n\n        matches = dataURI.match(dataURIPattern);\n\n        if (!matches) {\n          throw new Error('invalid data URI');\n        } // Default to text/plain;charset=US-ASCII\n\n\n        mediaType = matches[2] ? matches[1] : 'text/plain' + (matches[3] || ';charset=US-ASCII');\n        isBase64 = !!matches[4];\n        dataString = dataURI.slice(matches[0].length);\n\n        if (isBase64) {\n          // Convert base64 to raw binary data held in a string:\n          byteString = atob(dataString);\n        } else {\n          // Convert base64/URLEncoded data component to raw binary:\n          byteString = decodeURIComponent(dataString);\n        } // Write the bytes of the string to an ArrayBuffer:\n\n\n        arrayBuffer = new ArrayBuffer(byteString.length);\n        intArray = new Uint8Array(arrayBuffer);\n\n        for (i = 0; i < byteString.length; i += 1) {\n          intArray[i] = byteString.charCodeAt(i);\n        } // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n\n\n        if (hasBlobConstructor) {\n          return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n            type: mediaType\n          });\n        }\n\n        bb = new BlobBuilder();\n        bb.append(arrayBuffer);\n        return bb.getBlob(mediaType);\n      };\n\n      if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n        if (CanvasPrototype.mozGetAsFile) {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                callback(dataURLtoBlob(self.toDataURL(type, quality)));\n              } else {\n                callback(self.mozGetAsFile('blob', type));\n              }\n            });\n          };\n        } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n          if (CanvasPrototype.msToBlob) {\n            CanvasPrototype.toBlob = function (callback, type, quality) {\n              var self = this;\n              setTimeout(function () {\n                if ((type && type !== 'image/png' || quality) && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                  callback(dataURLtoBlob(self.toDataURL(type, quality)));\n                } else {\n                  callback(self.msToBlob(type));\n                }\n              });\n            };\n          } else {\n            CanvasPrototype.toBlob = function (callback, type, quality) {\n              var self = this;\n              setTimeout(function () {\n                callback(dataURLtoBlob(self.toDataURL(type, quality)));\n              });\n            };\n          }\n        }\n      }\n\n      if ( module.exports) {\n        module.exports = dataURLtoBlob;\n      } else {\n        window.dataURLtoBlob = dataURLtoBlob;\n      }\n    })(window);\n  });\n\n  var isBlob = function isBlob(value) {\n    if (typeof Blob === 'undefined') {\n      return false;\n    }\n\n    return value instanceof Blob || Object.prototype.toString.call(value) === '[object Blob]';\n  };\n\n  var DEFAULTS = {\n    /**\n     * Indicates if output the original image instead of the compressed one\n     * when the size of the compressed image is greater than the original one's\n     * @type {boolean}\n     */\n    strict: true,\n\n    /**\n     * Indicates if read the image's Exif Orientation information,\n     * and then rotate or flip the image automatically.\n     * @type {boolean}\n     */\n    checkOrientation: true,\n\n    /**\n     * The max width of the output image.\n     * @type {number}\n     */\n    maxWidth: Infinity,\n\n    /**\n     * The max height of the output image.\n     * @type {number}\n     */\n    maxHeight: Infinity,\n\n    /**\n     * The min width of the output image.\n     * @type {number}\n     */\n    minWidth: 0,\n\n    /**\n     * The min height of the output image.\n     * @type {number}\n     */\n    minHeight: 0,\n\n    /**\n     * The width of the output image.\n     * If not specified, the natural width of the source image will be used.\n     * @type {number}\n     */\n    width: undefined,\n\n    /**\n     * The height of the output image.\n     * If not specified, the natural height of the source image will be used.\n     * @type {number}\n     */\n    height: undefined,\n\n    /**\n     * The quality of the output image.\n     * It must be a number between `0` and `1`,\n     * and only available for `image/jpeg` and `image/webp` images.\n     * Check out {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob canvas.toBlob}.\n     * @type {number}\n     */\n    quality: 0.8,\n\n    /**\n     * The mime type of the output image.\n     * By default, the original mime type of the source image file will be used.\n     * @type {string}\n     */\n    mimeType: 'auto',\n\n    /**\n     * PNG files over this value (5 MB by default) will be converted to JPEGs.\n     * To disable this, just set the value to `Infinity`.\n     * @type {number}\n     */\n    convertSize: 5000000,\n\n    /**\n     * The hook function to execute before draw the image into the canvas for compression.\n     * @type {Function}\n     * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n     * @param {HTMLCanvasElement} canvas - The canvas for compression.\n     * @example\n     * function (context, canvas) {\n     *   context.fillStyle = '#fff';\n     * }\n     */\n    beforeDraw: null,\n\n    /**\n     * The hook function to execute after drew the image into the canvas for compression.\n     * @type {Function}\n     * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n     * @param {HTMLCanvasElement} canvas - The canvas for compression.\n     * @example\n     * function (context, canvas) {\n     *   context.filter = 'grayscale(100%)';\n     * }\n     */\n    drew: null,\n\n    /**\n     * The hook function to execute when success to compress the image.\n     * @type {Function}\n     * @param {File} file - The compressed image File object.\n     * @example\n     * function (file) {\n     *   console.log(file);\n     * }\n     */\n    success: null,\n\n    /**\n     * The hook function to execute when fail to compress the image.\n     * @type {Function}\n     * @param {Error} err - An Error object.\n     * @example\n     * function (err) {\n     *   console.log(err.message);\n     * }\n     */\n    error: null\n  };\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n\n  var slice = Array.prototype.slice;\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n  var REGEXP_IMAGE_TYPE = /^image\\/.+$/;\n  /**\n   * Check if the given value is a mime type of image.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given is a mime type of image, else `false`.\n   */\n\n  function isImageType(value) {\n    return REGEXP_IMAGE_TYPE.test(value);\n  }\n  /**\n   * Convert image type to extension.\n   * @param {string} value - The image type to convert.\n   * @returns {boolean} Returns the image extension.\n   */\n\n  function imageTypeToExtension(value) {\n    var extension = isImageType(value) ? value.substr(6) : '';\n\n    if (extension === 'jpeg') {\n      extension = 'jpg';\n    }\n\n    return \".\".concat(extension);\n  }\n  var fromCharCode = String.fromCharCode;\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    var i;\n    length += start;\n\n    for (i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n\n    return str;\n  }\n  var btoa = WINDOW.btoa;\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = [];\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation; // Ignores range error when the image does not have correct Exif information\n\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart; // Only handle JPEG image (start by 0xFFD8)\n\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n\n          offset += 1;\n        }\n      }\n\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n\n          if (littleEndian || endianness === 0x4D4D\n          /* bigEndian */\n          ) {\n              if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n                var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n                if (firstIFDOffset >= 0x00000008) {\n                  ifdStart = tiffOffset + firstIFDOffset;\n                }\n              }\n            }\n        }\n      }\n\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n\n        var _offset;\n\n        var i;\n\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112\n          /* Orientation */\n          ) {\n              // 8 is the offset of the current tag's value\n              _offset += 8; // Get the original orientation value\n\n              orientation = dataView.getUint16(_offset, littleEndian); // Override the orientation with its default value\n\n              dataView.setUint16(_offset, 1, littleEndian);\n              break;\n            }\n        }\n      }\n    } catch (e) {\n      orientation = 1;\n    }\n\n    return orientation;\n  }\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n      // Rotate left 180°\n\n      case 3:\n        rotate = -180;\n        break;\n      // Flip vertical\n\n      case 4:\n        scaleY = -1;\n        break;\n      // Flip vertical and rotate right 90°\n\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n      // Rotate right 90°\n\n      case 6:\n        rotate = 90;\n        break;\n      // Flip horizontal and rotate right 90°\n\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n      // Rotate left 90°\n\n      case 8:\n        rotate = -90;\n        break;\n    }\n\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n  /**\n   * Normalize decimal number.\n   * Check out {@link https://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n\n  var ArrayBuffer$1 = WINDOW.ArrayBuffer,\n      FileReader = WINDOW.FileReader;\n  var URL = WINDOW.URL || WINDOW.webkitURL;\n  var REGEXP_EXTENSION = /\\.\\w+$/;\n  var AnotherCompressor = WINDOW.Compressor;\n  /**\n   * Creates a new image compressor.\n   * @class\n   */\n\n  var Compressor = /*#__PURE__*/function () {\n    /**\n     * The constructor of Compressor.\n     * @param {File|Blob} file - The target image file for compressing.\n     * @param {Object} [options] - The options for compressing.\n     */\n    function Compressor(file, options) {\n      _classCallCheck(this, Compressor);\n\n      this.file = file;\n      this.image = new Image();\n      this.options = _objectSpread2(_objectSpread2({}, DEFAULTS), options);\n      this.aborted = false;\n      this.result = null;\n      this.init();\n    }\n\n    _createClass(Compressor, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n\n        var file = this.file,\n            options = this.options;\n\n        if (!isBlob(file)) {\n          this.fail(new Error('The first argument must be a File or Blob object.'));\n          return;\n        }\n\n        var mimeType = file.type;\n\n        if (!isImageType(mimeType)) {\n          this.fail(new Error('The first argument must be an image File or Blob object.'));\n          return;\n        }\n\n        if (!URL || !FileReader) {\n          this.fail(new Error('The current browser does not support image compression.'));\n          return;\n        }\n\n        if (!ArrayBuffer$1) {\n          options.checkOrientation = false;\n        }\n\n        if (URL && !options.checkOrientation) {\n          this.load({\n            url: URL.createObjectURL(file)\n          });\n        } else {\n          var reader = new FileReader();\n          var checkOrientation = options.checkOrientation && mimeType === 'image/jpeg';\n          this.reader = reader;\n\n          reader.onload = function (_ref) {\n            var target = _ref.target;\n            var result = target.result;\n            var data = {};\n\n            if (checkOrientation) {\n              // Reset the orientation value to its default value 1\n              // as some iOS browsers will render image with its orientation\n              var orientation = resetAndGetOrientation(result);\n\n              if (orientation > 1 || !URL) {\n                // Generate a new URL which has the default orientation value\n                data.url = arrayBufferToDataURL(result, mimeType);\n\n                if (orientation > 1) {\n                  _extends(data, parseOrientation(orientation));\n                }\n              } else {\n                data.url = URL.createObjectURL(file);\n              }\n            } else {\n              data.url = result;\n            }\n\n            _this.load(data);\n          };\n\n          reader.onabort = function () {\n            _this.fail(new Error('Aborted to read the image with FileReader.'));\n          };\n\n          reader.onerror = function () {\n            _this.fail(new Error('Failed to read the image with FileReader.'));\n          };\n\n          reader.onloadend = function () {\n            _this.reader = null;\n          };\n\n          if (checkOrientation) {\n            reader.readAsArrayBuffer(file);\n          } else {\n            reader.readAsDataURL(file);\n          }\n        }\n      }\n    }, {\n      key: \"load\",\n      value: function load(data) {\n        var _this2 = this;\n\n        var file = this.file,\n            image = this.image;\n\n        image.onload = function () {\n          _this2.draw(_objectSpread2(_objectSpread2({}, data), {}, {\n            naturalWidth: image.naturalWidth,\n            naturalHeight: image.naturalHeight\n          }));\n        };\n\n        image.onabort = function () {\n          _this2.fail(new Error('Aborted to load the image.'));\n        };\n\n        image.onerror = function () {\n          _this2.fail(new Error('Failed to load the image.'));\n        }; // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n\n\n        if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {\n          // Fix the `The operation is insecure` error (#57)\n          image.crossOrigin = 'anonymous';\n        }\n\n        image.alt = file.name;\n        image.src = data.url;\n      }\n    }, {\n      key: \"draw\",\n      value: function draw(_ref2) {\n        var _this3 = this;\n\n        var naturalWidth = _ref2.naturalWidth,\n            naturalHeight = _ref2.naturalHeight,\n            _ref2$rotate = _ref2.rotate,\n            rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate,\n            _ref2$scaleX = _ref2.scaleX,\n            scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX,\n            _ref2$scaleY = _ref2.scaleY,\n            scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;\n        var file = this.file,\n            image = this.image,\n            options = this.options;\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n        var aspectRatio = naturalWidth / naturalHeight;\n        var is90DegreesRotated = Math.abs(rotate) % 180 === 90;\n        var maxWidth = Math.max(options.maxWidth, 0) || Infinity;\n        var maxHeight = Math.max(options.maxHeight, 0) || Infinity;\n        var minWidth = Math.max(options.minWidth, 0) || 0;\n        var minHeight = Math.max(options.minHeight, 0) || 0;\n        var width = Math.max(options.width, 0) || naturalWidth;\n        var height = Math.max(options.height, 0) || naturalHeight;\n\n        if (is90DegreesRotated) {\n          var _ref3 = [maxHeight, maxWidth];\n          maxWidth = _ref3[0];\n          maxHeight = _ref3[1];\n          var _ref4 = [minHeight, minWidth];\n          minWidth = _ref4[0];\n          minHeight = _ref4[1];\n          var _ref5 = [height, width];\n          width = _ref5[0];\n          height = _ref5[1];\n        }\n\n        if (maxWidth < Infinity && maxHeight < Infinity) {\n          if (maxHeight * aspectRatio > maxWidth) {\n            maxHeight = maxWidth / aspectRatio;\n          } else {\n            maxWidth = maxHeight * aspectRatio;\n          }\n        } else if (maxWidth < Infinity) {\n          maxHeight = maxWidth / aspectRatio;\n        } else if (maxHeight < Infinity) {\n          maxWidth = maxHeight * aspectRatio;\n        }\n\n        if (minWidth > 0 && minHeight > 0) {\n          if (minHeight * aspectRatio > minWidth) {\n            minHeight = minWidth / aspectRatio;\n          } else {\n            minWidth = minHeight * aspectRatio;\n          }\n        } else if (minWidth > 0) {\n          minHeight = minWidth / aspectRatio;\n        } else if (minHeight > 0) {\n          minWidth = minHeight * aspectRatio;\n        }\n\n        if (height * aspectRatio > width) {\n          height = width / aspectRatio;\n        } else {\n          width = height * aspectRatio;\n        }\n\n        width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));\n        height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));\n        var destX = -width / 2;\n        var destY = -height / 2;\n        var destWidth = width;\n        var destHeight = height;\n\n        if (is90DegreesRotated) {\n          var _ref6 = [height, width];\n          width = _ref6[0];\n          height = _ref6[1];\n        }\n\n        canvas.width = width;\n        canvas.height = height;\n\n        if (!isImageType(options.mimeType)) {\n          options.mimeType = file.type;\n        }\n\n        var fillStyle = 'transparent'; // Converts PNG files over the `convertSize` to JPEGs.\n\n        if (file.size > options.convertSize && options.mimeType === 'image/png') {\n          fillStyle = '#fff';\n          options.mimeType = 'image/jpeg';\n        } // Override the default fill color (#000, black)\n\n\n        context.fillStyle = fillStyle;\n        context.fillRect(0, 0, width, height);\n\n        if (options.beforeDraw) {\n          options.beforeDraw.call(this, context, canvas);\n        }\n\n        if (this.aborted) {\n          return;\n        }\n\n        context.save();\n        context.translate(width / 2, height / 2);\n        context.rotate(rotate * Math.PI / 180);\n        context.scale(scaleX, scaleY);\n        context.drawImage(image, destX, destY, destWidth, destHeight);\n        context.restore();\n\n        if (options.drew) {\n          options.drew.call(this, context, canvas);\n        }\n\n        if (this.aborted) {\n          return;\n        }\n\n        var done = function done(result) {\n          if (!_this3.aborted) {\n            _this3.done({\n              naturalWidth: naturalWidth,\n              naturalHeight: naturalHeight,\n              result: result\n            });\n          }\n        };\n\n        if (canvas.toBlob) {\n          canvas.toBlob(done, options.mimeType, options.quality);\n        } else {\n          done(canvasToBlob(canvas.toDataURL(options.mimeType, options.quality)));\n        }\n      }\n    }, {\n      key: \"done\",\n      value: function done(_ref7) {\n        var naturalWidth = _ref7.naturalWidth,\n            naturalHeight = _ref7.naturalHeight,\n            result = _ref7.result;\n        var file = this.file,\n            image = this.image,\n            options = this.options;\n\n        if (URL && !options.checkOrientation) {\n          URL.revokeObjectURL(image.src);\n        }\n\n        if (result) {\n          // Returns original file if the result is greater than it and without size related options\n          if (options.strict && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight)) {\n            result = file;\n          } else {\n            var date = new Date();\n            result.lastModified = date.getTime();\n            result.lastModifiedDate = date;\n            result.name = file.name; // Convert the extension to match its type\n\n            if (result.name && result.type !== file.type) {\n              result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));\n            }\n          }\n        } else {\n          // Returns original file if the result is null in some cases.\n          result = file;\n        }\n\n        this.result = result;\n\n        if (options.success) {\n          options.success.call(this, result);\n        }\n      }\n    }, {\n      key: \"fail\",\n      value: function fail(err) {\n        var options = this.options;\n\n        if (options.error) {\n          options.error.call(this, err);\n        } else {\n          throw err;\n        }\n      }\n    }, {\n      key: \"abort\",\n      value: function abort() {\n        if (!this.aborted) {\n          this.aborted = true;\n\n          if (this.reader) {\n            this.reader.abort();\n          } else if (!this.image.complete) {\n            this.image.onload = null;\n            this.image.onabort();\n          } else {\n            this.fail(new Error('The compression process has been aborted.'));\n          }\n        }\n      }\n      /**\n       * Get the no conflict compressor class.\n       * @returns {Compressor} The compressor class.\n       */\n\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Compressor = AnotherCompressor;\n        return Compressor;\n      }\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        _extends(DEFAULTS, options);\n      }\n    }]);\n\n    return Compressor;\n  }();\n\n  return Compressor;\n\n})));\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Sign.vue?vue&type=style&index=0&id=b5dcb044&lang=css\"","export const handleClickJumpBtn = (router, path) => {\r\n    router.push(path);\r\n};\r\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=38c195bb&lang=less&scoped=true\"","import { http } from '@/http';\r\nimport Dialog from \"vant/es/dialog\";\r\nimport \"vant/es/dialog/style/less\";\r\nimport Toast from \"vant/es/toast\";\r\nimport \"vant/es/toast/style/less\";\r\nexport const Draw = (params) => {\r\n    return new Promise((resolve) => {\r\n        http.post('/hbSeller/act/hbsDraw', params, false).then((res) => {\r\n            if (res.code === '200') {\r\n                resolve(res.data);\r\n            }\r\n            else {\r\n                Dialog.alert({\r\n                    title: '提示',\r\n                    message: res.msg\r\n                }).then(() => {\r\n                    // on close\r\n                });\r\n            }\r\n        });\r\n    });\r\n};\r\nconst getGift = (params, cb) => {\r\n    if (params.awdType == 1) {\r\n        window.location.href = '/yx/views/general/order-preview.html';\r\n    }\r\n    else {\r\n        http\r\n            .post('/syx/awd/rcv/virtual', {\r\n            uaId: params.uaId\r\n        }, false)\r\n            .then((res) => {\r\n            //code 为701时需要绑定手机号\r\n            if (res.code === '701') {\r\n                return;\r\n            }\r\n            //code为700时需要关注公号\r\n            if (res.code === '700') {\r\n                Dialog.alert({\r\n                    title: '提示',\r\n                    message: '领取此奖励需要您绑定手机号，点击“立即绑定”按钮前往公众号-个人中心-会员权益中绑定，绑定后您重新进入私域平台-我的礼品中进行领取即可'\r\n                })\r\n                    .then(() => {\r\n                    // on confirm\r\n                    window.location.href = '/scoremall/html/member.html';\r\n                })\r\n                    .catch(() => {\r\n                    // on cancel\r\n                    cb();\r\n                });\r\n                return;\r\n            }\r\n            const tipsObj = {\r\n                '200': '领取成功',\r\n                '4001': '每日最多可领取\"10\"个红包，您已达到领取上限，次日0点之后可在个人中心->我的礼品中领取~<br />红包在中奖24小时之后过期。',\r\n                '4002': '您还未进行微信实名认证，请先进行微信实名认证再领取红包！<br />奖品可在个人中心->我的礼品中领取~<br />红包在中奖24小时之后过期。',\r\n                '4003': '系统异常，请稍后重试<br />领取失败可在个人中心->我的礼品中领取~<br />红包在中奖24小时之后过期。'\r\n            };\r\n            let msg = '';\r\n            switch (res.code) {\r\n                case '200':\r\n                    msg = tipsObj[res.code];\r\n                    Toast.success({\r\n                        message: msg,\r\n                        onClose: () => {\r\n                            cb(res.code);\r\n                        }\r\n                    });\r\n                    break;\r\n                case '4001':\r\n                    msg = tipsObj[res.code];\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: msg\r\n                    }).then(() => {\r\n                        // on close\r\n                        cb();\r\n                    });\r\n                    break;\r\n                case '4002':\r\n                    msg = tipsObj[res.code];\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: msg\r\n                    }).then(() => {\r\n                        // on close\r\n                        cb();\r\n                    });\r\n                    break;\r\n                case '4003':\r\n                    msg = tipsObj[res.code];\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: msg\r\n                    }).then(() => {\r\n                        // on close\r\n                        cb();\r\n                    });\r\n                    break;\r\n                default:\r\n                    msg = res.msg;\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: msg\r\n                    }).then(() => {\r\n                        // on close\r\n                        cb();\r\n                    });\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n};\r\nexport const handleReceive = (params, cb) => {\r\n    if (params == null)\r\n        return;\r\n    if (params.awdStatus === 0) {\r\n        if (params.awdType != 1) {\r\n            getGift(params, cb);\r\n        }\r\n        else {\r\n            // 私域跳转\r\n            window.location.href = `/yx/views/general/order-preview.html?uaId=${params.uaId}&hbSeller=1`;\r\n        }\r\n        return;\r\n    }\r\n    if (params.awdStatus === 1 || params.awdStatus === 0) {\r\n        if (params.awdType == 2 && params.awdJumpurl) {\r\n            window.location.href = params.awdJumpurl;\r\n            return;\r\n        }\r\n        window.location.href =\r\n            '/yx/views/general/gift-detail.html?uaId=' + params.uaId;\r\n        return;\r\n    }\r\n};\r\nexport const getActRules = (actCode) => {\r\n    return new Promise((resolve) => {\r\n        http.post('/hbSeller/act/ruleDesc', { actCode }, false).then((res) => {\r\n            if (res.code === '200') {\r\n                resolve(res.data.actRuleDesc || '');\r\n            }\r\n            else {\r\n                Dialog.alert({\r\n                    title: '提示',\r\n                    message: res.msg\r\n                }).then(() => {\r\n                    // on close\r\n                });\r\n            }\r\n        });\r\n    });\r\n};\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ActDetail.vue?vue&type=style&index=0&id=bc041d62&lang=less&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\r\n  <div class=\"customer-sign-container\">\r\n    <act-tips-popup :show=\"showTips\" @close=\"handleColseTips\">\r\n      <div class=\"tips-content\">\r\n        <div class=\"text\" v-html=\"actTips\"></div>\r\n      </div>\r\n    </act-tips-popup>\r\n    <act-tips-popup :show=\"showDrawNotes\" @close=\"showDrawNotes = false\">\r\n      <div class=\"draw-notes-content\">\r\n        <div class=\"text\">\r\n          <p v-for=\"item in drawHis\" :key=\"item.id\">\r\n            <span class=\"left\"> {{ item.note }} </span>\r\n            <span class=\"right\">{{ item.ctime }}</span>\r\n          </p>\r\n          <div class=\"no-notes\" v-if=\"drawHis.length == 0\">暂无记录</div>\r\n        </div>\r\n      </div>\r\n    </act-tips-popup>\r\n    <act-tips-popup :show=\"showGetChancePopup\" @close=\"nextStep\">\r\n      <div class=\"get-chance-content\">\r\n        <div class=\"title\">恭喜您！</div>\r\n        <div class=\"text\">累计签到活动获得1次抽奖机会，马上去抽奖吧～</div>\r\n        <div class=\"btn\" @click=\"getDrawTicket\"></div>\r\n        <div class=\"tips\">\r\n          提醒：活动结束，未消耗掉的抽奖机会 视为放弃哦～建议获得机会及时消耗!\r\n        </div>\r\n      </div>\r\n    </act-tips-popup>\r\n    <award-popup :show=\"showAwardPopup\" @close=\"nextStep\">\r\n      <div class=\"award-warp\">\r\n        <img class=\"pic\" :src=\"drawData && drawData.awdPic\" alt=\"\" />\r\n        <div class=\"name\">{{ drawData && drawData.awdName }}</div>\r\n        <div class=\"btn\" @click=\"handleReceive(drawData, nextStep)\"></div>\r\n      </div>\r\n    </award-popup>\r\n    <award-popup :show=\"showSignPopup\" @close=\"handleCloseSignPopup\">\r\n      <div class=\"sign-award-warp\">\r\n        <img\r\n          class=\"pic\"\r\n          src=\"https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/jf.png\"\r\n          alt=\"\"\r\n        />\r\n        <div class=\"name\">\r\n          {{\r\n            signPointsList.length == 2\r\n              ? `${signPointsList[0]}荷石璧+${signPointsList[1]}荷石璧`\r\n              : `${signPointsList[0]}荷石璧`\r\n          }}\r\n        </div>\r\n        <div class=\"btn\" @click=\"handleGetSignedAward\"></div>\r\n      </div>\r\n    </award-popup>\r\n    <award-popup :show=\"showNoAwardPopup\" @close=\"nextStep\">\r\n      <div class=\"no-award-warp\">\r\n        <div class=\"name\">未中奖</div>\r\n        <div class=\"btn\" @click=\"nextStep\"></div>\r\n      </div>\r\n    </award-popup>\r\n    <div class=\"bg\">\r\n      <div class=\"btn-tips\" @click=\"showTips = true\"></div>\r\n      <div class=\"btn-gift\" @click=\"handleClickGiftsBtn\"></div>\r\n      <!-- 日历 -->\r\n      <div class=\"content-box\">\r\n        <div class=\"title\">{{ showYear }}年{{ showMonth }}月</div>\r\n        <div class=\"calendar\">\r\n          <table border=\"1\">\r\n            <thead>\r\n              <tr>\r\n                <th>一</th>\r\n                <th>二</th>\r\n                <th>三</th>\r\n                <th>四</th>\r\n                <th>五</th>\r\n                <th>六</th>\r\n                <th>日</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"con\"></tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"bottom\">\r\n          <template v-if=\"contSignFlag\">\r\n            <div class=\"text\">\r\n              已连续签到<span style=\"color:#ED4C4A\">{{ contDay }}</span\r\n              >天\r\n            </div>\r\n            <div class=\"text2\" v-if=\"!isMaxContDay\">\r\n              连续签到{{ nextSignInfo.contSignDays }}天即可获得{{\r\n                nextSignInfo.points\r\n              }}荷石璧\r\n            </div>\r\n            <div class=\"text2\" v-if=\"isMaxContDay\">\r\n              已连签{{ contDay }}天,继续下一轮签到活动吧！\r\n            </div>\r\n          </template>\r\n          <div\r\n            class=\"btn-sign active\"\r\n            v-if=\"!isSignToday\"\r\n            @click=\"handleClickSign\"\r\n          ></div>\r\n          <div class=\"btn-sign \" v-if=\"isSignToday\"></div>\r\n        </div>\r\n      </div>\r\n      <!-- 抽奖 -->\r\n      <div class=\"draw-box\" v-if=\"drawFlag\">\r\n        <div class=\"title\">\r\n          <span style=\"float:left\">签到抽奖活动</span>\r\n          <span class=\"right\" style=\"float:right\"\r\n            >已累计签到{{ ljSignDay }}天</span\r\n          >\r\n        </div>\r\n        <div class=\"btn-draw \" v-if=\"!canDraw\"></div>\r\n        <div\r\n          class=\"btn-draw active\"\r\n          v-if=\"canDraw\"\r\n          @click=\"getDrawTicket\"\r\n        ></div>\r\n        <div class=\"draw-note\" @click=\"handleClickSignNotes\"></div>\r\n        <!-- 2: 累计签到未开始 4:累计签到已结束 -->\r\n        <template v-if=\"ljSignStatus == 1\">\r\n          <div class=\"draw-tips\" v-if=\"!canDraw\">\r\n            签到满{{ drawContDays }}天，可获得抽奖机会\r\n          </div>\r\n          <div class=\"draw-tips\" v-if=\"canDraw\">\r\n            抽奖机会剩余{{ canDrawNum }}次\r\n          </div>\r\n        </template>\r\n        <template v-if=\"ljSignStatus == 2\">\r\n          <div class=\"draw-tips\">活动未开始</div>\r\n        </template>\r\n        <template v-if=\"ljSignStatus == 4\">\r\n          <div class=\"draw-tips\">活动已结束，请关注下期活动～</div>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, onMounted, ref } from 'vue'\r\nimport { http } from '@/http'\r\nimport { Dialog, Toast } from 'vant'\r\nimport { Draw, DrawData, handleReceive, getActRules } from '@/plugins/hbsDraw'\r\nimport ActTipsPopup from '@/components/ActTipsPopup/index.vue'\r\nimport AwardPopup from '@/components/AwardPopup/index.vue'\r\nimport { handleClickJumpBtn } from '@/hooks/useJumpBtn'\r\nimport { useRouter } from 'vue-router'\r\n\r\ninterface SignRecord {\r\n  ctime: string\r\n  day: string\r\n}\r\ninterface DrawNote {\r\n  id: number\r\n  ctime: string //抽奖时间\r\n  note: string\r\n}\r\nexport default defineComponent({\r\n  name: 'Sign',\r\n  components: { ActTipsPopup, AwardPopup },\r\n  props: {\r\n    actCode: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  setup(props) {\r\n    const ljSignDay = ref<number>(0)\r\n    const contDay = ref<number>(0)\r\n    const drawContDays = ref<number>(0)\r\n    const canDrawNum = ref<number>(0)\r\n    const ljSignStatus = ref<number>(0) // 1: 累计签到进行中 2: 累计签到未开始 4:累计签到已结束\r\n    const showTips = ref<boolean>(false)\r\n    const showDrawNotes = ref<boolean>(false)\r\n    const showAwardPopup = ref<boolean>(false)\r\n    const showNoAwardPopup = ref<boolean>(false)\r\n    const showSignPopup = ref<boolean>(false)\r\n    const showGetChancePopup = ref<boolean>(false)\r\n    const actTips = ref<string>('')\r\n    const canDraw = ref(false)\r\n    const isMaxContDay = ref(false)\r\n    const contSignFlag = ref(false)\r\n    const drawFlag = ref(false)\r\n    const isSignToday = ref(false)\r\n    const ljSignDrawChance = ref(false)\r\n    const nextSignInfo = ref({\r\n      contSignDays: 0, //需要连续签到的天数\r\n      points: 0 //连续签到赠送的积分数量\r\n    })\r\n    const router = useRouter()\r\n    const handleClickGiftsBtn = () => {\r\n      handleClickJumpBtn(router, '/common/myGifts')\r\n    }\r\n    const drawData = ref<DrawData | null>(null)\r\n    const getActInfo = (): Promise<SignRecord[]> => {\r\n      return new Promise((resolve) => {\r\n        http.post(' /hbSeller/fansSign/actInfo', {}, false).then((res) => {\r\n          let signRecords: SignRecord[] = []\r\n          if (res.code === '200') {\r\n            drawFlag.value = res.data.actConf.drawFlag\r\n            contSignFlag.value = res.data.actConf.contSignFlag\r\n            isSignToday.value = res.data.isSignToday\r\n            ljSignStatus.value = res.data.ljSignStatus\r\n            if (drawFlag.value) {\r\n              canDraw.value = res.data.canDraw\r\n              canDrawNum.value = res.data.canDrawNum\r\n              drawContDays.value = res.data.actConf.drawContDays || 0\r\n              ljSignDay.value = res.data.ljSignDay || 0\r\n            }\r\n            if (contSignFlag.value) {\r\n              contDay.value = res.data.contDay || 0\r\n              isMaxContDay.value = res.data.isMaxContDay\r\n              nextSignInfo.value.contSignDays =\r\n                res.data.nextSignInfo.contSignDays\r\n              nextSignInfo.value.points = res.data.nextSignInfo.points\r\n            }\r\n            signRecords = res.data.signRecords || []\r\n          } else {\r\n            Toast.fail(res.msg)\r\n          }\r\n          resolve(signRecords)\r\n        })\r\n      })\r\n    }\r\n    const signPointsList = ref<number[]>([])\r\n\r\n    const drawHis = ref<DrawNote[]>([])\r\n    const handleClickSignNotes = () => {\r\n      http.post('/hbSeller/fansSign/drawHis', {}, false).then((res) => {\r\n        if (res.code === '200') {\r\n          drawHis.value = res.data || []\r\n          showDrawNotes.value = true\r\n        } else {\r\n          Dialog.alert({\r\n            title: '提示',\r\n            message: res.msg\r\n          }).then(() => {\r\n            // on close\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    const getDrawTicket = () => {\r\n      showGetChancePopup.value = false\r\n      http.post('/hbSeller/fansSign/drawTicket', {}, false).then((res) => {\r\n        if (res.code === '200') {\r\n          const { actCode, ticket } = res.data\r\n          Draw({ actCode, ticket }).then((award) => {\r\n            console.log(award)\r\n            drawData.value = award as DrawData | null\r\n            if (drawData.value) {\r\n              showAwardPopup.value = true\r\n            } else {\r\n              showNoAwardPopup.value = true\r\n            }\r\n          })\r\n        } else {\r\n          Dialog.alert({\r\n            title: '提示',\r\n            message: res.msg\r\n          }).then(() => {\r\n            // on close\r\n          })\r\n        }\r\n      })\r\n    }\r\n    const handleColseTips = () => {\r\n      showTips.value = false\r\n    }\r\n    const handleCloseAwardPopup = () => {\r\n      showAwardPopup.value = false\r\n    }\r\n    const handleCloseSignPopup = () => {\r\n      showSignPopup.value = false\r\n      if (ljSignDrawChance.value) {\r\n        showGetChancePopup.value = true\r\n        ljSignDrawChance.value = false\r\n      }\r\n    }\r\n    const handleCloseNoAwardPopup = () => {\r\n      showNoAwardPopup.value = false\r\n    }\r\n    const handleCloseGetChancePopup = () => {\r\n      showGetChancePopup.value = false\r\n    }\r\n    const handleGetSignedAward = () => {\r\n      Toast.success('领取成功!')\r\n      handleCloseSignPopup()\r\n    }\r\n    const con = document.getElementsByClassName('con')\r\n    const date = new Date()\r\n    const showYear = ref(date.getFullYear()) //展示在页面上的年份\r\n    const showMonth = ref(date.getMonth() + 1) //展示在页面上的月份\r\n    const setCalender = (\r\n      year: number,\r\n      month: number,\r\n      signRecords: SignRecord[]\r\n    ) => {\r\n      con[0].innerHTML = ''\r\n      const records = signRecords.map((item) => {\r\n        return Number(item.day.slice(6)) + ''\r\n      })\r\n      const date = new Date()\r\n      const nowyear = date.getFullYear() //保存当前时间，写在方法里是因为避免使用过程中超过了晚上12点而日期无变化\r\n      const nowmonth = date.getMonth()\r\n      const nowdate = date.getDate()\r\n      // date.setDate(1) //这里设置的是每个月的第一天，方便取到每个月第一天的星期数\r\n      date.setFullYear(year, month, 1)\r\n      const dayCount = new Date(year, month + 1, 0).getDate() //获取这个月一共有几天\r\n      const Firstweek = date.getDay() == 0 ? 7 : date.getDay() // 获取这个月的第一天是星期几\r\n      const list: (string | number)[][] = []\r\n      let yindex = 0 // 第几行\r\n      let index = 1 //日期\r\n      while (index <= dayCount) {\r\n        list[yindex] = []\r\n        if (yindex == 0) {\r\n          //第一行\r\n          for (let i = 0; i < 7; i++) {\r\n            if (i + 1 < Firstweek) {\r\n              //每个月1号有格子的话留空\r\n              list[yindex][i] = ''\r\n            } else {\r\n              list[yindex][i] = index\r\n              index++\r\n            }\r\n          }\r\n        } else {\r\n          //其余行\r\n          for (let i = 0; i < 7 && index <= dayCount; i++) {\r\n            list[yindex][i] = index\r\n            index++\r\n          }\r\n        }\r\n        yindex++\r\n      }\r\n      for (const i in list) {\r\n        let td = ''\r\n        const tr = document.createElement('tr')\r\n        for (const j in list[i]) {\r\n          if (year == nowyear && month == nowmonth && list[i][j] == nowdate) {\r\n            if (records.includes(list[i][j] + '')) {\r\n              list[i][\r\n                j\r\n              ] = `<td class=\"allday nowday\"><div class=\"signed\">${list[i][j]}</div></td>`\r\n            } else {\r\n              list[i][j] = `<td class=\"allday nowday\">${list[i][j]}</td>`\r\n            }\r\n          } else if (\r\n            year == nowyear &&\r\n            month == nowmonth &&\r\n            records.includes(list[i][j] + '')\r\n          ) {\r\n            list[i][\r\n              j\r\n            ] = `<td class=\"allday\"><div class=\"signed\">${list[i][j]}</div></td>`\r\n          } else {\r\n            list[i][j] = `<td class=\"allday \">${list[i][j]}</td>`\r\n          }\r\n          td += list[i][j]\r\n        }\r\n        tr.innerHTML = td\r\n        con[0].appendChild(tr)\r\n      }\r\n    }\r\n\r\n    //上个月\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    // const left = () => {\r\n    //   if (showMonth.value > 1) {\r\n    //     showMonth.value--\r\n    //     con[0].innerHTML = ''\r\n    //     setCalender(showYear.value, showMonth.value - 1)\r\n    //   } else {\r\n    //     showMonth.value = 12\r\n    //     showYear.value--\r\n    //     con[0].innerHTML = ''\r\n    //     setCalender(showYear.value, showMonth.value - 1)\r\n    //   }\r\n    // }\r\n    //下个月\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    // const right = () => {\r\n    //   if (showMonth.value < 12) {\r\n    //     showMonth.value++\r\n    //     con[0].innerHTML = ''\r\n    //     setCalender(showYear.value, showMonth.value - 1)\r\n    //   } else {\r\n    //     showMonth.value = 1\r\n    //     showYear.value++\r\n    //     con[0].innerHTML = ''\r\n    //     setCalender(showYear.value, 0)\r\n    //   }\r\n    // }\r\n    const initAct = () => {\r\n      getActInfo().then((signRecords) => {\r\n        setCalender(date.getFullYear(), date.getMonth(), signRecords)\r\n      })\r\n    }\r\n    const handleClickSign = () => {\r\n      http.post('/hbSeller/fansSign/doSign', {}, false).then((res) => {\r\n        if (res.code === '200') {\r\n          signPointsList.value = res.data.pointsList || []\r\n          if (res.data.ljSignDrawChance) ljSignDrawChance.value = true\r\n          if (signPointsList.value.length) {\r\n            showSignPopup.value = true\r\n          } else {\r\n            if (res.data.ljSignDrawChance) {\r\n              showGetChancePopup.value = true\r\n            } else {\r\n              Toast.success('恭喜您，签到成功!')\r\n            }\r\n          }\r\n          initAct()\r\n        } else {\r\n          Dialog.alert({\r\n            title: '提示',\r\n            message: res.msg\r\n          }).then(() => {\r\n            // on close\r\n          })\r\n        }\r\n      })\r\n    }\r\n    const nextStep = () => {\r\n      handleCloseAwardPopup()\r\n      handleCloseNoAwardPopup()\r\n      handleCloseGetChancePopup()\r\n      initAct()\r\n    }\r\n    getActRules(props.actCode).then((rules) => {\r\n      actTips.value = rules\r\n    })\r\n    onMounted(() => {\r\n      initAct()\r\n    })\r\n\r\n    return {\r\n      contSignFlag,\r\n      actTips,\r\n      showTips,\r\n      showDrawNotes,\r\n      showAwardPopup,\r\n      showNoAwardPopup,\r\n      showGetChancePopup,\r\n      showSignPopup,\r\n      ljSignDay,\r\n      contDay,\r\n      drawContDays,\r\n      showYear,\r\n      showMonth,\r\n      nextSignInfo,\r\n      canDraw,\r\n      isMaxContDay,\r\n      isSignToday,\r\n      drawFlag,\r\n      signPointsList,\r\n      drawHis,\r\n      drawData,\r\n      canDrawNum,\r\n      ljSignStatus,\r\n      getDrawTicket,\r\n      handleClickSign,\r\n      handleColseTips,\r\n      handleCloseAwardPopup,\r\n      handleCloseNoAwardPopup,\r\n      handleCloseSignPopup,\r\n      handleClickSignNotes,\r\n      handleGetSignedAward,\r\n      nextStep,\r\n      handleReceive,\r\n      handleClickGiftsBtn\r\n    }\r\n  }\r\n})\r\n</script>\r\n<style>\r\n.customer-sign-container td {\r\n  line-height: 34px;\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n.customer-sign-container td.nowday {\r\n  background-size: 34px;\r\n  background-image: url('https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/nowday.png');\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.customer-sign-container td .signed {\r\n  background-size: 15px;\r\n  background-image: url('https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/sign.png');\r\n  background-repeat: no-repeat;\r\n  background-position: 18px 16px;\r\n}\r\n.tips-content .text p {\r\n  font-size: 14px;\r\n  color: #a55600;\r\n  text-align: justify;\r\n  margin: 10px 0;\r\n  line-height: 1.3;\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n@import '@/theme/common';\r\n.customer-sign-container {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  height: 100%;\r\n  background-color: #d00004;\r\n  overflow: scroll;\r\n  .bg {\r\n    .bg-img(\r\n      375px,\r\n      860px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/bg.png'\r\n    );\r\n    .btn-tips {\r\n      .bg-img(\r\n        74px,\r\n        31px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanCode/btn-tips.png'\r\n      );\r\n      position: absolute;\r\n      top: 9px;\r\n      right: 91px;\r\n    }\r\n    .btn-gift {\r\n      .bg-img(\r\n        74px,\r\n        31px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/btn-gift.png'\r\n      );\r\n      position: absolute;\r\n      top: 9px;\r\n      right: 13px;\r\n    }\r\n    .content-box {\r\n      width: 346px;\r\n      height: 430px;\r\n      margin: 0 auto;\r\n      position: relative;\r\n      top: 150px;\r\n      background: #f8f6f0;\r\n      border-radius: 20px;\r\n      text-align: center;\r\n      .title {\r\n        height: 47px;\r\n        line-height: 47px;\r\n        font-weight: bold;\r\n        color: #333333;\r\n      }\r\n      .calendar {\r\n        height: 240px;\r\n        background: #fff;\r\n        table {\r\n          width: 325px;\r\n          height: 240px;\r\n          margin: 0 10px;\r\n          thead {\r\n            border-bottom: 1px solid #f3f3f6;\r\n          }\r\n          th {\r\n            height: 34px;\r\n            line-height: 34px;\r\n            font-size: 12px;\r\n            color: #333;\r\n          }\r\n        }\r\n      }\r\n\r\n      .bottom {\r\n        .text {\r\n          padding-top: 17px;\r\n          height: 18px;\r\n          font-size: 18px;\r\n          font-family: Source Han Sans SC;\r\n          font-weight: bold;\r\n          color: #323232;\r\n          margin-bottom: 11px;\r\n        }\r\n        .text2 {\r\n          height: 14px;\r\n          font-size: 14px;\r\n          color: #999999;\r\n          margin-bottom: 18px;\r\n        }\r\n        .btn-sign {\r\n          .bg-img(\r\n            320px,\r\n            45px,\r\n            'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/btn-sign.png'\r\n          );\r\n          margin: 0 auto;\r\n          &.active {\r\n            background-image: url('https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/btn-sign-active.png');\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .draw-box {\r\n      width: 346px;\r\n      height: 224px;\r\n      margin: 0 auto;\r\n      position: relative;\r\n      top: 160px;\r\n      background: #fff;\r\n      border-radius: 20px;\r\n      text-align: center;\r\n      .title {\r\n        margin: 0 22px;\r\n        padding-top: 16px;\r\n        height: 18px;\r\n        font-size: 18px;\r\n        color: #b83821;\r\n        font-weight: bold;\r\n        .right {\r\n          height: 14px;\r\n          font-size: 14px;\r\n          color: #ed4c4a;\r\n        }\r\n      }\r\n      .btn-draw {\r\n        .bg-img(\r\n          140px,\r\n          142px,\r\n          'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/btn-draw.png'\r\n        );\r\n        position: absolute;\r\n        top: 37px;\r\n        left: 100px;\r\n        &.active {\r\n          background-image: url('https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/btn-draw-active.png');\r\n        }\r\n      }\r\n      .draw-note {\r\n        .bg-img(\r\n          70px,\r\n          27px,\r\n          'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/draw-note.png'\r\n        );\r\n        position: absolute;\r\n        top: 42px;\r\n        right: 27px;\r\n      }\r\n      .draw-tips {\r\n        position: absolute;\r\n        left: 0;\r\n        bottom: 18px;\r\n        width: 100%;\r\n        height: 20px;\r\n        text-align: center;\r\n        line-height: 20px;\r\n        font-size: 14px;\r\n        color: #999;\r\n      }\r\n    }\r\n  }\r\n  .tips-content {\r\n    .bg-img(\r\n      374px,\r\n      433px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/tips-bg.png'\r\n    );\r\n    padding: 150px 70px 70px;\r\n    box-sizing: border-box;\r\n    .text {\r\n      width: 100%;\r\n      height: 250px;\r\n      overflow-x: scroll;\r\n      p {\r\n        font-size: 14px;\r\n        color: #a55600;\r\n        text-align: justify;\r\n        margin: 10px 0;\r\n        line-height: 1.3;\r\n        &.title {\r\n          text-align: center;\r\n          font-size: 20px;\r\n          color: #4c0404;\r\n          font-weight: bolder;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .draw-notes-content {\r\n    .bg-img(\r\n      330px,\r\n      322px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/draw-notes-bg.png'\r\n    );\r\n    padding: 60px 20px 20px;\r\n    box-sizing: border-box;\r\n    .text {\r\n      width: 100%;\r\n      height: 240px;\r\n      overflow-x: scroll;\r\n      p {\r\n        font-size: 12px;\r\n        color: #a55600;\r\n        text-align: justify;\r\n        line-height: 36px;\r\n        border-bottom: 1px solid #a55600;\r\n        height: 36px;\r\n        .left {\r\n          float: left;\r\n          width: 55%;\r\n          .text-overflow();\r\n        }\r\n        .right {\r\n          float: right;\r\n        }\r\n      }\r\n      .no-notes {\r\n        line-height: 240px;\r\n        text-align: center;\r\n        font-size: 14px;\r\n        color: #a55600;\r\n      }\r\n    }\r\n  }\r\n  .get-chance-content {\r\n    .bg-img(\r\n      330px,\r\n      320px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/get-chance-bg.png'\r\n    );\r\n    padding: 36px;\r\n    box-sizing: border-box;\r\n    text-align: center;\r\n    .title {\r\n      line-height: 25px;\r\n      height: 25px;\r\n      font-size: 25px;\r\n      color: #a55600;\r\n      margin-bottom: 34px;\r\n      font-weight: bolder;\r\n    }\r\n    .text {\r\n      font-size: 20px;\r\n      color: #a55600;\r\n      line-height: 31px;\r\n      margin-bottom: 25px;\r\n    }\r\n    .btn {\r\n      .bg-img(\r\n        210px,\r\n        50px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/get-chance-btn.png'\r\n      );\r\n      margin: 0 auto 20px;\r\n    }\r\n    .tips {\r\n      font-size: 14px;\r\n      color: #a55600;\r\n      line-height: 21px;\r\n    }\r\n  }\r\n  .award-warp {\r\n    .bg-img(\r\n      310px,\r\n      322px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/award-bg.png'\r\n    );\r\n    padding-top: 50px;\r\n    box-sizing: border-box;\r\n    .title {\r\n      text-align: center;\r\n      font-size: 22px;\r\n      line-height: 30px;\r\n      font-weight: bolder;\r\n    }\r\n    .pic {\r\n      display: block;\r\n      width: 100px;\r\n      height: 100px;\r\n      margin: 10px auto 20px;\r\n    }\r\n    .name {\r\n      text-align: center;\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      margin-bottom: 20px;\r\n      font-weight: bolder;\r\n      color: #a55600;\r\n    }\r\n    .btn {\r\n      .bg-img(\r\n        210px,\r\n        50px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/btn-get-award.png'\r\n      );\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n  .sign-award-warp {\r\n    .bg-img(\r\n      330px,\r\n      426px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/sign-award-bg.png'\r\n    );\r\n    padding-top: 180px;\r\n    box-sizing: border-box;\r\n    .title {\r\n      text-align: center;\r\n      font-size: 22px;\r\n      line-height: 30px;\r\n      font-weight: bolder;\r\n    }\r\n    .pic {\r\n      display: block;\r\n      width: 100px;\r\n      height: 100px;\r\n      margin: 10px auto 20px;\r\n    }\r\n    .name {\r\n      text-align: center;\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      margin-bottom: 20px;\r\n      font-weight: bolder;\r\n      color: #a55600;\r\n    }\r\n    .btn {\r\n      .bg-img(\r\n        210px,\r\n        50px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/btn-get-award.png'\r\n      );\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n  .no-award-warp {\r\n    .bg-img(\r\n      310px,\r\n      322px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/no-award-bg.png'\r\n    );\r\n    .name {\r\n      position: relative;\r\n      top: 180px;\r\n      text-align: center;\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      font-weight: bolder;\r\n      color: #a55600;\r\n    }\r\n    .btn {\r\n      .bg-img(\r\n        210px,\r\n        50px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/sign/btn-ok.png'\r\n      );\r\n      position: relative;\r\n      top: 200px;\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { defineComponent, onMounted, ref } from 'vue';\r\nimport { http } from '@/http';\r\nimport Dialog from \"vant/es/dialog\";\r\nimport \"vant/es/dialog/style/less\";\r\nimport Toast from \"vant/es/toast\";\r\nimport \"vant/es/toast/style/less\";\r\nimport { Draw, handleReceive, getActRules } from '@/plugins/hbsDraw';\r\nimport ActTipsPopup from '@/components/ActTipsPopup/index.vue';\r\nimport AwardPopup from '@/components/AwardPopup/index.vue';\r\nimport { handleClickJumpBtn } from '@/hooks/useJumpBtn';\r\nimport { useRouter } from 'vue-router';\r\nexport default defineComponent({\r\n    name: 'Sign',\r\n    components: { ActTipsPopup, AwardPopup },\r\n    props: {\r\n        actCode: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    setup(props) {\r\n        const ljSignDay = ref(0);\r\n        const contDay = ref(0);\r\n        const drawContDays = ref(0);\r\n        const canDrawNum = ref(0);\r\n        const ljSignStatus = ref(0); // 1: 累计签到进行中 2: 累计签到未开始 4:累计签到已结束\r\n        const showTips = ref(false);\r\n        const showDrawNotes = ref(false);\r\n        const showAwardPopup = ref(false);\r\n        const showNoAwardPopup = ref(false);\r\n        const showSignPopup = ref(false);\r\n        const showGetChancePopup = ref(false);\r\n        const actTips = ref('');\r\n        const canDraw = ref(false);\r\n        const isMaxContDay = ref(false);\r\n        const contSignFlag = ref(false);\r\n        const drawFlag = ref(false);\r\n        const isSignToday = ref(false);\r\n        const ljSignDrawChance = ref(false);\r\n        const nextSignInfo = ref({\r\n            contSignDays: 0,\r\n            points: 0 //连续签到赠送的积分数量\r\n        });\r\n        const router = useRouter();\r\n        const handleClickGiftsBtn = () => {\r\n            handleClickJumpBtn(router, '/common/myGifts');\r\n        };\r\n        const drawData = ref(null);\r\n        const getActInfo = () => {\r\n            return new Promise((resolve) => {\r\n                http.post(' /hbSeller/fansSign/actInfo', {}, false).then((res) => {\r\n                    let signRecords = [];\r\n                    if (res.code === '200') {\r\n                        drawFlag.value = res.data.actConf.drawFlag;\r\n                        contSignFlag.value = res.data.actConf.contSignFlag;\r\n                        isSignToday.value = res.data.isSignToday;\r\n                        ljSignStatus.value = res.data.ljSignStatus;\r\n                        if (drawFlag.value) {\r\n                            canDraw.value = res.data.canDraw;\r\n                            canDrawNum.value = res.data.canDrawNum;\r\n                            drawContDays.value = res.data.actConf.drawContDays || 0;\r\n                            ljSignDay.value = res.data.ljSignDay || 0;\r\n                        }\r\n                        if (contSignFlag.value) {\r\n                            contDay.value = res.data.contDay || 0;\r\n                            isMaxContDay.value = res.data.isMaxContDay;\r\n                            nextSignInfo.value.contSignDays =\r\n                                res.data.nextSignInfo.contSignDays;\r\n                            nextSignInfo.value.points = res.data.nextSignInfo.points;\r\n                        }\r\n                        signRecords = res.data.signRecords || [];\r\n                    }\r\n                    else {\r\n                        Toast.fail(res.msg);\r\n                    }\r\n                    resolve(signRecords);\r\n                });\r\n            });\r\n        };\r\n        const signPointsList = ref([]);\r\n        const drawHis = ref([]);\r\n        const handleClickSignNotes = () => {\r\n            http.post('/hbSeller/fansSign/drawHis', {}, false).then((res) => {\r\n                if (res.code === '200') {\r\n                    drawHis.value = res.data || [];\r\n                    showDrawNotes.value = true;\r\n                }\r\n                else {\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: res.msg\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        const getDrawTicket = () => {\r\n            showGetChancePopup.value = false;\r\n            http.post('/hbSeller/fansSign/drawTicket', {}, false).then((res) => {\r\n                if (res.code === '200') {\r\n                    const { actCode, ticket } = res.data;\r\n                    Draw({ actCode, ticket }).then((award) => {\r\n                        console.log(award);\r\n                        drawData.value = award;\r\n                        if (drawData.value) {\r\n                            showAwardPopup.value = true;\r\n                        }\r\n                        else {\r\n                            showNoAwardPopup.value = true;\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: res.msg\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        const handleColseTips = () => {\r\n            showTips.value = false;\r\n        };\r\n        const handleCloseAwardPopup = () => {\r\n            showAwardPopup.value = false;\r\n        };\r\n        const handleCloseSignPopup = () => {\r\n            showSignPopup.value = false;\r\n            if (ljSignDrawChance.value) {\r\n                showGetChancePopup.value = true;\r\n                ljSignDrawChance.value = false;\r\n            }\r\n        };\r\n        const handleCloseNoAwardPopup = () => {\r\n            showNoAwardPopup.value = false;\r\n        };\r\n        const handleCloseGetChancePopup = () => {\r\n            showGetChancePopup.value = false;\r\n        };\r\n        const handleGetSignedAward = () => {\r\n            Toast.success('领取成功!');\r\n            handleCloseSignPopup();\r\n        };\r\n        const con = document.getElementsByClassName('con');\r\n        const date = new Date();\r\n        const showYear = ref(date.getFullYear()); //展示在页面上的年份\r\n        const showMonth = ref(date.getMonth() + 1); //展示在页面上的月份\r\n        const setCalender = (year, month, signRecords) => {\r\n            con[0].innerHTML = '';\r\n            const records = signRecords.map((item) => {\r\n                return Number(item.day.slice(6)) + '';\r\n            });\r\n            const date = new Date();\r\n            const nowyear = date.getFullYear(); //保存当前时间，写在方法里是因为避免使用过程中超过了晚上12点而日期无变化\r\n            const nowmonth = date.getMonth();\r\n            const nowdate = date.getDate();\r\n            // date.setDate(1) //这里设置的是每个月的第一天，方便取到每个月第一天的星期数\r\n            date.setFullYear(year, month, 1);\r\n            const dayCount = new Date(year, month + 1, 0).getDate(); //获取这个月一共有几天\r\n            const Firstweek = date.getDay() == 0 ? 7 : date.getDay(); // 获取这个月的第一天是星期几\r\n            const list = [];\r\n            let yindex = 0; // 第几行\r\n            let index = 1; //日期\r\n            while (index <= dayCount) {\r\n                list[yindex] = [];\r\n                if (yindex == 0) {\r\n                    //第一行\r\n                    for (let i = 0; i < 7; i++) {\r\n                        if (i + 1 < Firstweek) {\r\n                            //每个月1号有格子的话留空\r\n                            list[yindex][i] = '';\r\n                        }\r\n                        else {\r\n                            list[yindex][i] = index;\r\n                            index++;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    //其余行\r\n                    for (let i = 0; i < 7 && index <= dayCount; i++) {\r\n                        list[yindex][i] = index;\r\n                        index++;\r\n                    }\r\n                }\r\n                yindex++;\r\n            }\r\n            for (const i in list) {\r\n                let td = '';\r\n                const tr = document.createElement('tr');\r\n                for (const j in list[i]) {\r\n                    if (year == nowyear && month == nowmonth && list[i][j] == nowdate) {\r\n                        if (records.includes(list[i][j] + '')) {\r\n                            list[i][j] = `<td class=\"allday nowday\"><div class=\"signed\">${list[i][j]}</div></td>`;\r\n                        }\r\n                        else {\r\n                            list[i][j] = `<td class=\"allday nowday\">${list[i][j]}</td>`;\r\n                        }\r\n                    }\r\n                    else if (year == nowyear &&\r\n                        month == nowmonth &&\r\n                        records.includes(list[i][j] + '')) {\r\n                        list[i][j] = `<td class=\"allday\"><div class=\"signed\">${list[i][j]}</div></td>`;\r\n                    }\r\n                    else {\r\n                        list[i][j] = `<td class=\"allday \">${list[i][j]}</td>`;\r\n                    }\r\n                    td += list[i][j];\r\n                }\r\n                tr.innerHTML = td;\r\n                con[0].appendChild(tr);\r\n            }\r\n        };\r\n        //上个月\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        // const left = () => {\r\n        //   if (showMonth.value > 1) {\r\n        //     showMonth.value--\r\n        //     con[0].innerHTML = ''\r\n        //     setCalender(showYear.value, showMonth.value - 1)\r\n        //   } else {\r\n        //     showMonth.value = 12\r\n        //     showYear.value--\r\n        //     con[0].innerHTML = ''\r\n        //     setCalender(showYear.value, showMonth.value - 1)\r\n        //   }\r\n        // }\r\n        //下个月\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        // const right = () => {\r\n        //   if (showMonth.value < 12) {\r\n        //     showMonth.value++\r\n        //     con[0].innerHTML = ''\r\n        //     setCalender(showYear.value, showMonth.value - 1)\r\n        //   } else {\r\n        //     showMonth.value = 1\r\n        //     showYear.value++\r\n        //     con[0].innerHTML = ''\r\n        //     setCalender(showYear.value, 0)\r\n        //   }\r\n        // }\r\n        const initAct = () => {\r\n            getActInfo().then((signRecords) => {\r\n                setCalender(date.getFullYear(), date.getMonth(), signRecords);\r\n            });\r\n        };\r\n        const handleClickSign = () => {\r\n            http.post('/hbSeller/fansSign/doSign', {}, false).then((res) => {\r\n                if (res.code === '200') {\r\n                    signPointsList.value = res.data.pointsList || [];\r\n                    if (res.data.ljSignDrawChance)\r\n                        ljSignDrawChance.value = true;\r\n                    if (signPointsList.value.length) {\r\n                        showSignPopup.value = true;\r\n                    }\r\n                    else {\r\n                        if (res.data.ljSignDrawChance) {\r\n                            showGetChancePopup.value = true;\r\n                        }\r\n                        else {\r\n                            Toast.success('恭喜您，签到成功!');\r\n                        }\r\n                    }\r\n                    initAct();\r\n                }\r\n                else {\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: res.msg\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        const nextStep = () => {\r\n            handleCloseAwardPopup();\r\n            handleCloseNoAwardPopup();\r\n            handleCloseGetChancePopup();\r\n            initAct();\r\n        };\r\n        getActRules(props.actCode).then((rules) => {\r\n            actTips.value = rules;\r\n        });\r\n        onMounted(() => {\r\n            initAct();\r\n        });\r\n        return {\r\n            contSignFlag,\r\n            actTips,\r\n            showTips,\r\n            showDrawNotes,\r\n            showAwardPopup,\r\n            showNoAwardPopup,\r\n            showGetChancePopup,\r\n            showSignPopup,\r\n            ljSignDay,\r\n            contDay,\r\n            drawContDays,\r\n            showYear,\r\n            showMonth,\r\n            nextSignInfo,\r\n            canDraw,\r\n            isMaxContDay,\r\n            isSignToday,\r\n            drawFlag,\r\n            signPointsList,\r\n            drawHis,\r\n            drawData,\r\n            canDrawNum,\r\n            ljSignStatus,\r\n            getDrawTicket,\r\n            handleClickSign,\r\n            handleColseTips,\r\n            handleCloseAwardPopup,\r\n            handleCloseNoAwardPopup,\r\n            handleCloseSignPopup,\r\n            handleClickSignNotes,\r\n            handleGetSignedAward,\r\n            nextStep,\r\n            handleReceive,\r\n            handleClickGiftsBtn\r\n        };\r\n    }\r\n});\r\n","import { render } from \"./Sign.vue?vue&type=template&id=b5dcb044&scoped=true\"\nimport script from \"./Sign.vue?vue&type=script&lang=ts\"\nexport * from \"./Sign.vue?vue&type=script&lang=ts\"\n\nimport \"./Sign.vue?vue&type=style&index=0&id=b5dcb044&lang=css\"\nimport \"./Sign.vue?vue&type=style&index=1&id=b5dcb044&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b5dcb044\"\n\nexport default script","<template>\r\n  <div class=\"customer-home-container\">\r\n    <act-tips-popup :show=\"showTips\" @close=\"handleColseTips\">\r\n      <div class=\"tips-content\">\r\n        <div class=\"text\">\r\n          <p class=\"title\">\r\n            活动规则\r\n          </p>\r\n          <div v-html=\"actTips\"></div>\r\n        </div>\r\n      </div>\r\n    </act-tips-popup>\r\n    <award-popup :show=\"showAwardPopup\" @close=\"nextStep\">\r\n      <div class=\"award-warp\">\r\n        <div class=\"title\">恭喜您获得</div>\r\n        <img class=\"pic\" :src=\"drawData && drawData.awdPic\" alt=\"\" />\r\n        <div class=\"name\">{{ drawData && drawData.awdName }}</div>\r\n        <div class=\"btn\" @click=\"handleReceive(drawData, nextStep)\">\r\n          立即领取\r\n        </div>\r\n      </div>\r\n    </award-popup>\r\n    <award-popup :show=\"showNoAwardPopup\" @close=\"nextStep\">\r\n      <div class=\"no-award-warp\">\r\n        <div class=\"title\">未中奖</div>\r\n        <div class=\"btn\" @click=\"nextStep\">我知道了</div>\r\n      </div>\r\n    </award-popup>\r\n    <div class=\"bg\">\r\n      <div class=\"btn-tips\" @click=\"showTips = true\"></div>\r\n      <div class=\"btn-gift\" @click=\"handleClickGiftsBtn\"></div>\r\n      <div class=\"btn-draw\" @click=\"getDrawTicket\"></div>\r\n      <div class=\"btn-scan\" @click=\"wxScanQRCode\"></div>\r\n      <div class=\"draw-tips\">\r\n        当前剩余 <span>{{ canDrawNum }}</span> 次抽奖机会\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, onMounted, ref } from 'vue'\r\nimport { http } from '@/http'\r\nimport { Dialog, Toast } from 'vant'\r\nimport { Draw, DrawData, handleReceive, getActRules } from '@/plugins/hbsDraw'\r\nimport ActTipsPopup from '@/components/ActTipsPopup/index.vue'\r\nimport AwardPopup from '@/components/AwardPopup/index.vue'\r\nimport { handleClickJumpBtn } from '@/hooks/useJumpBtn'\r\nimport { useRouter } from 'vue-router'\r\nimport { wxScanQRCode } from '@/plugins/Wx'\r\n\r\nexport default defineComponent({\r\n  name: 'ScanCode',\r\n  props: {\r\n    actCode: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  components: { ActTipsPopup, AwardPopup },\r\n  setup(props) {\r\n    const canDrawNum = ref<number>(0)\r\n    const showTips = ref<boolean>(false)\r\n    const showAwardPopup = ref<boolean>(false)\r\n    const showNoAwardPopup = ref<boolean>(false)\r\n    const actTips = ref<string>('')\r\n    const drawData = ref<DrawData | null>(null)\r\n    const router = useRouter()\r\n    const handleClickGiftsBtn = () => {\r\n      handleClickJumpBtn(router, '/common/myGifts')\r\n    }\r\n    const getActInfo = () => {\r\n      http.post('/hbSeller/scanCodeAct/userActInfo', {}, false).then((res) => {\r\n        if (res.code === '200') {\r\n          canDrawNum.value = res.data.canDrawNum || 0\r\n        } else {\r\n          Toast.fail(res.msg)\r\n        }\r\n      })\r\n    }\r\n    const getDrawTicket = () => {\r\n      http.post('/hbSeller/scanCodeAct/drawTicket', {}, false).then((res) => {\r\n        if (res.code === '200') {\r\n          const { actCode, ticket } = res.data\r\n          Draw({ actCode, ticket }).then((award) => {\r\n            console.log(award)\r\n            drawData.value = award as DrawData | null\r\n            if (drawData.value) {\r\n              showAwardPopup.value = true\r\n            } else {\r\n              showNoAwardPopup.value = true\r\n            }\r\n          })\r\n        } else {\r\n          Dialog.alert({\r\n            title: '提示',\r\n            message: res.msg\r\n          }).then(() => {\r\n            // on close\r\n          })\r\n        }\r\n      })\r\n    }\r\n    const handleColseTips = () => {\r\n      showTips.value = false\r\n    }\r\n    const handleCloseAwardPopup = () => {\r\n      showAwardPopup.value = false\r\n    }\r\n    const handleCloseNoAwardPopup = () => {\r\n      showNoAwardPopup.value = false\r\n    }\r\n    const nextStep = () => {\r\n      handleCloseAwardPopup()\r\n      handleCloseNoAwardPopup()\r\n      getActInfo()\r\n    }\r\n    getActRules(props.actCode).then((rules) => {\r\n      actTips.value = rules\r\n    })\r\n    onMounted(() => {\r\n      getActInfo()\r\n    })\r\n    return {\r\n      actTips,\r\n      showTips,\r\n      showAwardPopup,\r\n      showNoAwardPopup,\r\n      canDrawNum,\r\n      drawData,\r\n      getDrawTicket,\r\n      handleColseTips,\r\n      handleCloseAwardPopup,\r\n      handleCloseNoAwardPopup,\r\n      handleReceive,\r\n      nextStep,\r\n      handleClickGiftsBtn,\r\n      wxScanQRCode\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style>\r\n.tips-content .text p {\r\n  font-size: 14px;\r\n  color: #4c0404;\r\n  text-align: justify;\r\n  margin: 10px 0;\r\n  line-height: 1.3;\r\n}\r\n</style>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '@/theme/common';\r\n.customer-home-container {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  height: 100%;\r\n  background-color: #d00004;\r\n  overflow: scroll;\r\n  .bg {\r\n    .bg-img(\r\n      375px,\r\n      724px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanCode/bg.png'\r\n    );\r\n    .btn-tips {\r\n      .bg-img(\r\n        74px,\r\n        31px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanCode/btn-tips.png'\r\n      );\r\n      position: absolute;\r\n      top: 12px;\r\n      right: 12px;\r\n    }\r\n    .btn-gift {\r\n      .bg-img(\r\n        74px,\r\n        31px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanCode/btn-gift.png'\r\n      );\r\n      position: absolute;\r\n      top: 52px;\r\n      right: 12px;\r\n    }\r\n    .btn-draw {\r\n      .bg-img(\r\n        160px,\r\n        51px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanCode/btn-draw.png'\r\n      );\r\n      position: absolute;\r\n      top: 607px;\r\n      left: 23px;\r\n    }\r\n    .btn-scan {\r\n      .bg-img(\r\n        160px,\r\n        51px,\r\n        'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanCode/btn-scan.png'\r\n      );\r\n      position: absolute;\r\n      top: 607px;\r\n      right: 23px;\r\n    }\r\n    .draw-tips {\r\n      position: absolute;\r\n      top: 670px;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 20px;\r\n      text-align: center;\r\n      line-height: 20px;\r\n      font-size: 14px;\r\n      color: #fff;\r\n      span {\r\n        color: #ffa00b;\r\n        font-size: 17px;\r\n      }\r\n    }\r\n  }\r\n  .tips-content {\r\n    .bg-img(\r\n      374px,\r\n      433px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanCode/tips-content.png'\r\n    );\r\n    padding: 150px 50px 70px;\r\n    box-sizing: border-box;\r\n    .text {\r\n      width: 100%;\r\n      height: 250px;\r\n      overflow-x: scroll;\r\n      p {\r\n        font-size: 14px;\r\n        color: #4c0404;\r\n        text-align: justify;\r\n        margin: 10px 0;\r\n        line-height: 1.3;\r\n        &.title {\r\n          text-align: center;\r\n          font-size: 20px;\r\n          color: #4c0404;\r\n          font-weight: bolder;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .award-warp {\r\n    width: 310px;\r\n    height: 303px;\r\n    background: linear-gradient(0deg, #bb150a -30%, #ffc64c 50%);\r\n    border: 2px solid #ffcb90;\r\n    box-shadow: 0px 0px 10px 0px rgba(61, 68, 203, 0.3);\r\n    border-radius: 10px;\r\n    box-sizing: border-box;\r\n    padding-top: 23px;\r\n    color: #670404;\r\n    .title {\r\n      text-align: center;\r\n      font-size: 22px;\r\n      line-height: 30px;\r\n      font-weight: bolder;\r\n    }\r\n    .pic {\r\n      display: block;\r\n      width: 100px;\r\n      height: 100px;\r\n      margin: 10px auto 20px;\r\n    }\r\n    .name {\r\n      text-align: center;\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      margin-bottom: 30px;\r\n      font-weight: bolder;\r\n    }\r\n    .btn {\r\n      width: 240px;\r\n      height: 43px;\r\n      background: linear-gradient(0deg, #faf0b2, #ffa95d);\r\n      border: 2px solid #ffcb90;\r\n      border-radius: 21px;\r\n      margin: 0 auto;\r\n      line-height: 43px;\r\n      font-size: 20px;\r\n      font-weight: bolder;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .no-award-warp {\r\n    .bg-img(\r\n      330px,\r\n      322px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/act/scanCode/no-award-bg.png'\r\n    );\r\n    .title {\r\n      position: relative;\r\n      top: 180px;\r\n      text-align: center;\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      font-weight: bolder;\r\n      color: #a55600;\r\n    }\r\n    .btn {\r\n      position: relative;\r\n      width: 240px;\r\n      height: 43px;\r\n      top: 235px;\r\n      background: linear-gradient(0deg, #faf0b2, #ffa95d);\r\n      border: 2px solid #ffcb90;\r\n      border-radius: 21px;\r\n      margin: 0 auto;\r\n      color: #91210d;\r\n      line-height: 43px;\r\n      font-size: 20px;\r\n      font-weight: bolder;\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { defineComponent, onMounted, ref } from 'vue';\r\nimport { http } from '@/http';\r\nimport Dialog from \"vant/es/dialog\";\r\nimport \"vant/es/dialog/style/less\";\r\nimport Toast from \"vant/es/toast\";\r\nimport \"vant/es/toast/style/less\";\r\nimport { Draw, handleReceive, getActRules } from '@/plugins/hbsDraw';\r\nimport ActTipsPopup from '@/components/ActTipsPopup/index.vue';\r\nimport AwardPopup from '@/components/AwardPopup/index.vue';\r\nimport { handleClickJumpBtn } from '@/hooks/useJumpBtn';\r\nimport { useRouter } from 'vue-router';\r\nimport { wxScanQRCode } from '@/plugins/Wx';\r\nexport default defineComponent({\r\n    name: 'ScanCode',\r\n    props: {\r\n        actCode: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    components: { ActTipsPopup, AwardPopup },\r\n    setup(props) {\r\n        const canDrawNum = ref(0);\r\n        const showTips = ref(false);\r\n        const showAwardPopup = ref(false);\r\n        const showNoAwardPopup = ref(false);\r\n        const actTips = ref('');\r\n        const drawData = ref(null);\r\n        const router = useRouter();\r\n        const handleClickGiftsBtn = () => {\r\n            handleClickJumpBtn(router, '/common/myGifts');\r\n        };\r\n        const getActInfo = () => {\r\n            http.post('/hbSeller/scanCodeAct/userActInfo', {}, false).then((res) => {\r\n                if (res.code === '200') {\r\n                    canDrawNum.value = res.data.canDrawNum || 0;\r\n                }\r\n                else {\r\n                    Toast.fail(res.msg);\r\n                }\r\n            });\r\n        };\r\n        const getDrawTicket = () => {\r\n            http.post('/hbSeller/scanCodeAct/drawTicket', {}, false).then((res) => {\r\n                if (res.code === '200') {\r\n                    const { actCode, ticket } = res.data;\r\n                    Draw({ actCode, ticket }).then((award) => {\r\n                        console.log(award);\r\n                        drawData.value = award;\r\n                        if (drawData.value) {\r\n                            showAwardPopup.value = true;\r\n                        }\r\n                        else {\r\n                            showNoAwardPopup.value = true;\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    Dialog.alert({\r\n                        title: '提示',\r\n                        message: res.msg\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        const handleColseTips = () => {\r\n            showTips.value = false;\r\n        };\r\n        const handleCloseAwardPopup = () => {\r\n            showAwardPopup.value = false;\r\n        };\r\n        const handleCloseNoAwardPopup = () => {\r\n            showNoAwardPopup.value = false;\r\n        };\r\n        const nextStep = () => {\r\n            handleCloseAwardPopup();\r\n            handleCloseNoAwardPopup();\r\n            getActInfo();\r\n        };\r\n        getActRules(props.actCode).then((rules) => {\r\n            actTips.value = rules;\r\n        });\r\n        onMounted(() => {\r\n            getActInfo();\r\n        });\r\n        return {\r\n            actTips,\r\n            showTips,\r\n            showAwardPopup,\r\n            showNoAwardPopup,\r\n            canDrawNum,\r\n            drawData,\r\n            getDrawTicket,\r\n            handleColseTips,\r\n            handleCloseAwardPopup,\r\n            handleCloseNoAwardPopup,\r\n            handleReceive,\r\n            nextStep,\r\n            handleClickGiftsBtn,\r\n            wxScanQRCode\r\n        };\r\n    }\r\n});\r\n","import { render } from \"./ScanCode.vue?vue&type=template&id=1e4a8464&scoped=true\"\nimport script from \"./ScanCode.vue?vue&type=script&lang=ts\"\nexport * from \"./ScanCode.vue?vue&type=script&lang=ts\"\n\nimport \"./ScanCode.vue?vue&type=style&index=0&id=1e4a8464&lang=css\"\nimport \"./ScanCode.vue?vue&type=style&index=1&id=1e4a8464&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1e4a8464\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Sign.vue?vue&type=style&index=1&id=b5dcb044&lang=less&scoped=true\""],"sourceRoot":""}