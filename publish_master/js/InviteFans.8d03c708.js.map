{"version":3,"sources":["webpack:///./src/views/seller/InviteFans.vue?29f3","webpack:///./src/views/seller/InviteFans.vue","webpack:///./src/views/seller/InviteFans.vue?6ef2","webpack:///./src/views/seller/InviteFans.vue?97e5"],"names":["class","to","isiOS","test","navigator","userAgent","defineComponent","name","setup","store","useStore","wxUrl","computed","state","getQrcode","http","post","then","res","code","shopCode","data","commit","sessionStorage","setItem","url","value","location","href","split","initWxOnReady","wxShare","shareUrl","shareTitle","shareDesc","shareImg","Toast","fail","msg","catch","err","console","log","onMounted","getItem","window","reload","beforeRouteLeave","from","next","wxHideMenu","render","__scopeId"],"mappings":"qIAAA,W,wICCOA,MAAM,yB,GACJA,MAAM,M,EACT,eAAsC,OAAjCA,MAAM,cAAa,YAAQ,G,EAE9B,eAIM,OAJDA,MAAM,cAAY,CACrB,eAA2B,KAAxBA,MAAM,gBACT,eAA6B,OAAxBA,MAAM,QAAO,SAClB,eAAoB,KAAjBA,MAAM,W,KAGb,eAiBM,OAjBDA,MAAM,QAAM,CACf,eAGM,OAHDA,MAAM,SAAO,CAChB,eAAoB,KAAjBA,MAAM,SACT,eAA4B,OAAvBA,MAAM,QAAO,UAEpB,eAEI,SAFD,gDAGH,eAEI,SAFD,8CAGH,eAEI,SAFD,qEAGH,eAEI,SAFD,8B,+GAxBT,eA6BM,MA7BN,EA6BM,CA5BJ,eA2BM,MA3BN,EA2BM,CA1BJ,EACA,eAMc,GANDC,GAAG,0BAAwB,C,WACtC,iBAIM,CAJN,M,MAMF,S,kFCLAC,EAAQ,0BAA0BC,KAAKC,UAAUC,WACxCC,iBAAgB,CAC3BC,KAAM,aACNC,MAF2B,WAGvB,IAAMC,EAAQC,iBACRC,EAAQC,gBAAS,kBAAMH,EAAMI,MAAMF,SACnCG,EAAY,WACdC,OACKC,KAAK,oCAAqC,IAAI,GAC9CC,MAAK,SAACC,GACP,GAAiB,QAAbA,EAAIC,KAAgB,CACpB,IAAMC,EAAWF,EAAIG,KAAKD,SAC1BX,EAAMa,OAAO,cAAeF,GAC5BG,eAAeC,QAAQ,WAAYJ,GACnC,IAAMK,EAAMvB,EAEJS,EAAMe,MACRC,SAASC,KAAKC,MAAM,KAAK,GAC/BC,eAAcL,GAAK,WACfM,eAAQ,CACJC,SAAU,kDAAF,OAAoDZ,EAApD,kBACRa,WAAY,aACZC,UAAW,kCACXC,SAAU,qFAKlBC,OAAMC,KAAKnB,EAAIoB,QAGlBC,OAAM,SAACC,GACRC,QAAQC,IAAIF,OAYpB,OATAG,gBAAU,WAEN,IAAKpB,eAAeqB,QAAQ,mBAGxB,OAFArB,eAAeC,QAAQ,kBAAmB,UAC1CqB,OAAOlB,SAASmB,SAGpBhC,OAEG,IAEXiC,iBA7C2B,SA6CV9C,EAAI+C,EAAMC,GACvBC,iBACAD,O,UCjDR,EAAOE,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/InviteFans.8d03c708.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./InviteFans.vue?vue&type=style&index=0&id=8d5bd77a&lang=less&scoped=true\"","<template>\r\n  <div class=\"invite-fans-container\">\r\n    <div class=\"bg\">\r\n      <div class=\"invite-btn\">分享好友绑定粉丝</div>\r\n      <router-link to=\"/seller/bindFansQrcode\">\r\n        <div class=\"qrcode-bar\">\r\n          <i class=\"qrcode-icon\"></i>\r\n          <div class=\"text\">粉丝绑定码</div>\r\n          <i class=\"back\"></i>\r\n        </div>\r\n      </router-link>\r\n      <div class=\"note\">\r\n        <div class=\"title\">\r\n          <i class=\"icon\"></i>\r\n          <div class=\"text\">邀约规则</div>\r\n        </div>\r\n        <p>\r\n          1、点击分享按钮，将页面分享给您的微信好友，好友完成绑定操作，即可成为您的店铺粉丝；\r\n        </p>\r\n        <p>\r\n          2、绑定成为粉您的丝后，其可以参与私域平台内的相关活动，也可以了解您的店铺动态；\r\n        </p>\r\n        <p>\r\n          3、您的粉丝在平台参与相关扫码活动以及其他线上活动，有机会给您带来一定量的奖励，如荷石璧等（具体奖励规则详见后续的活动规则）；\r\n        </p>\r\n        <p>\r\n          4、一旦绑定您的店铺，暂时无法解绑，请知悉。\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { http } from '@/http'\r\nimport { initWxOnReady, wxHideMenu, wxShare } from '@/plugins/Wx'\r\nimport { GlobalDataProps } from '@/store'\r\nimport { Toast } from 'vant'\r\nimport { computed, defineComponent, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nconst isiOS = /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent) //ios终端\r\n\r\nexport default defineComponent({\r\n  name: 'InviteFans',\r\n  setup() {\r\n    const store = useStore<GlobalDataProps>()\r\n    const wxUrl = computed(() => store.state.wxUrl)\r\n    const getQrcode = () => {\r\n      http\r\n        .post('/hbSeller/sellerFans/shopBindCode', {}, false)\r\n        .then((res) => {\r\n          if (res.code === '200') {\r\n            const shopCode = res.data.shopCode\r\n            store.commit('setShopCode', shopCode)\r\n            sessionStorage.setItem('shopCode', shopCode)\r\n            const url: string = isiOS\r\n              ? // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n                wxUrl.value!\r\n              : location.href.split('#')[0]\r\n\r\n            initWxOnReady(url, () => {\r\n              wxShare({\r\n                shareUrl: `/orgmenu/auth?menuCode=sellerFansBind&shopCode=${shopCode}&bindChannel=2`,\r\n                shareTitle: '快绑定成我的粉丝吧！',\r\n                shareDesc:\r\n                  '点击链接完成绑定，即可成为我的粉丝，精彩活动丰厚奖励应有尽有！',\r\n                shareImg:\r\n                  'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/icon-share.png'\r\n              })\r\n            })\r\n          } else {\r\n            Toast.fail(res.msg)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    }\r\n\r\n    onMounted(() => {\r\n      // 分享时重新制定wxUrl\r\n      if (!sessionStorage.getItem('ShareInviteFans')) {\r\n        sessionStorage.setItem('ShareInviteFans', '1')\r\n        window.location.reload()\r\n        return\r\n      }\r\n      getQrcode()\r\n    })\r\n\r\n    return {}\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    wxHideMenu()\r\n    next()\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../theme/common.less';\r\n.invite-fans-container {\r\n  height: 100vh;\r\n  background-color: #527dfd;\r\n  .bg {\r\n    .bg-img(\r\n      375px,\r\n      603px,\r\n      'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/invite-fans-bg.png'\r\n    );\r\n    background-position-y: -64px;\r\n    background-size: cover;\r\n    padding-top: 292px;\r\n    box-sizing: border-box;\r\n    .invite-btn {\r\n      width: 182px;\r\n      height: 44px;\r\n      background: linear-gradient(180deg, #fff8d6 0%, #fead2c 100%);\r\n      box-shadow: 0px 6px 4px rgba(2, 113, 253, 0.42);\r\n      border-radius: 4px;\r\n      font-size: 17px;\r\n      margin: 0 auto 11px;\r\n      text-align: center;\r\n      line-height: 44px;\r\n      color: #ce5500;\r\n    }\r\n    .qrcode-bar {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      height: 20px;\r\n      margin: 0 135px 14px;\r\n      flex: 1;\r\n      .qrcode-icon {\r\n        .bg-img(\r\n          14px,\r\n          14px,\r\n          'https://qoss.qrmkt.cn/hbseller_client/invite-fans-qrcode.png'\r\n        );\r\n      }\r\n      .text {\r\n        font-size: 14px;\r\n        color: #ffffff;\r\n        line-height: 20px;\r\n      }\r\n      .back {\r\n        .bg-img(\r\n          5px,\r\n          11px,\r\n          'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/icon-back.png'\r\n        );\r\n        margin-top: 2px;\r\n      }\r\n    }\r\n    .note {\r\n      width: 345px;\r\n      height: 188px;\r\n      background: #ffffff;\r\n      box-shadow: 0px 10px 10px rgba(0, 61, 243, 0.4);\r\n      border-radius: 10px;\r\n      margin: 0 auto;\r\n      padding: 20px 15px;\r\n      box-sizing: border-box;\r\n      overflow-y: scroll;\r\n      .title {\r\n        height: 25px;\r\n        line-height: 25px;\r\n        .icon {\r\n          float: left;\r\n          width: 5px;\r\n          height: 17px;\r\n          margin-top: 4px;\r\n          background: #527dfd;\r\n          box-shadow: 0px 2px 3px rgba(2, 113, 253, 0.49);\r\n          border-radius: 3px;\r\n        }\r\n        .text {\r\n          float: left;\r\n          font-size: 16px;\r\n          margin-left: 8px;\r\n          color: #2b333b;\r\n        }\r\n      }\r\n      p {\r\n        font-size: 14px;\r\n        line-height: 28px;\r\n        color: #666666;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { http } from '@/http';\r\nimport { initWxOnReady, wxHideMenu, wxShare } from '@/plugins/Wx';\r\nimport Toast from \"vant/es/toast\";\r\nimport \"vant/es/toast/style/less\";\r\nimport { computed, defineComponent, onMounted } from 'vue';\r\nimport { useStore } from 'vuex';\r\nconst isiOS = /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent); //ios终端\r\nexport default defineComponent({\r\n    name: 'InviteFans',\r\n    setup() {\r\n        const store = useStore();\r\n        const wxUrl = computed(() => store.state.wxUrl);\r\n        const getQrcode = () => {\r\n            http\r\n                .post('/hbSeller/sellerFans/shopBindCode', {}, false)\r\n                .then((res) => {\r\n                if (res.code === '200') {\r\n                    const shopCode = res.data.shopCode;\r\n                    store.commit('setShopCode', shopCode);\r\n                    sessionStorage.setItem('shopCode', shopCode);\r\n                    const url = isiOS\r\n                        ? // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n                            wxUrl.value\r\n                        : location.href.split('#')[0];\r\n                    initWxOnReady(url, () => {\r\n                        wxShare({\r\n                            shareUrl: `/orgmenu/auth?menuCode=sellerFansBind&shopCode=${shopCode}&bindChannel=2`,\r\n                            shareTitle: '快绑定成我的粉丝吧！',\r\n                            shareDesc: '点击链接完成绑定，即可成为我的粉丝，精彩活动丰厚奖励应有尽有！',\r\n                            shareImg: 'https://qrmkt.oss-cn-beijing.aliyuncs.com/hbseller_client/icon-share.png'\r\n                        });\r\n                    });\r\n                }\r\n                else {\r\n                    Toast.fail(res.msg);\r\n                }\r\n            })\r\n                .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        };\r\n        onMounted(() => {\r\n            // 分享时重新制定wxUrl\r\n            if (!sessionStorage.getItem('ShareInviteFans')) {\r\n                sessionStorage.setItem('ShareInviteFans', '1');\r\n                window.location.reload();\r\n                return;\r\n            }\r\n            getQrcode();\r\n        });\r\n        return {};\r\n    },\r\n    beforeRouteLeave(to, from, next) {\r\n        wxHideMenu();\r\n        next();\r\n    }\r\n});\r\n","import { render } from \"./InviteFans.vue?vue&type=template&id=8d5bd77a&scoped=true\"\nimport script from \"./InviteFans.vue?vue&type=script&lang=ts\"\nexport * from \"./InviteFans.vue?vue&type=script&lang=ts\"\n\nimport \"./InviteFans.vue?vue&type=style&index=0&id=8d5bd77a&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-8d5bd77a\"\n\nexport default script"],"sourceRoot":""}