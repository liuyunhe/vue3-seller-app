(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CustomerUserInfo"],{"057f":function(e,t,n){var a=n("fc6a"),o=n("241c").f,r={}.toString,c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return o(e)}catch(t){return c.slice()}};e.exports.f=function(e){return c&&"[object Window]"==r.call(e)?i(e):o(a(e))}},"49fa":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),o=Object(a["S"])("data-v-09c193cc");Object(a["C"])("data-v-09c193cc");var r={class:"userInfo-container"},c=Object(a["k"])("div",{class:"mg10"},null,-1),i={class:"content"},l=Object(a["k"])("div",{class:"name"},"头像",-1),u={class:"value headimg"},s={class:"content"},f=Object(a["k"])("div",{class:"name"},"昵称",-1),d={class:"value"},b={key:0,class:"content"},m=Object(a["k"])("div",{class:"name"},"性别",-1),v={class:"value"},h={key:1,class:"content"},g=Object(a["k"])("div",{class:"name"},"生日",-1),p={class:"value"},O={key:2,class:"content"},j=Object(a["k"])("div",{class:"name"},"手机号",-1),y={class:"value"},k={key:1,class:"content",style:{margin:"0"}},w=Object(a["k"])("div",{class:"name"},"性别",-1),C={class:"value"},S={key:3,class:"content",style:{margin:"0"}},P=Object(a["k"])("div",{class:"name"},"生日",-1),D={class:"value"},x={key:5,class:"content",style:{margin:"0"}},E=Object(a["k"])("div",{class:"name"},"手机号",-1),M={class:"value"},I={style:{margin:"40px 16px"}},A=Object(a["j"])(" 提交 "),F=Object(a["k"])("div",{class:"name"},"我的地址",-1),V=Object(a["k"])("div",{class:"btn"},null,-1),z=Object(a["k"])("div",{class:"value"},"点击查看",-1);Object(a["A"])();var N=o((function(e,t,n,N,U,G){var H=Object(a["H"])("van-field"),T=Object(a["H"])("van-picker"),_=Object(a["H"])("van-popup"),L=Object(a["H"])("van-datetime-picker"),q=Object(a["H"])("van-button"),$=Object(a["H"])("van-cell-group"),J=Object(a["H"])("van-form");return Object(a["z"])(),Object(a["g"])("div",r,[c,Object(a["k"])("div",i,[l,Object(a["k"])("div",u,[Object(a["k"])("img",{src:e.fanHeadImg,alt:""},null,8,["src"])])]),Object(a["k"])("div",s,[f,Object(a["k"])("div",d,Object(a["L"])(e.fanNickName),1)]),e.needComplete?Object(a["h"])("",!0):(Object(a["z"])(),Object(a["g"])("div",b,[m,Object(a["k"])("div",v,Object(a["L"])(e.fanGender),1)])),e.needComplete?Object(a["h"])("",!0):(Object(a["z"])(),Object(a["g"])("div",h,[g,Object(a["k"])("div",p,Object(a["L"])(e.birthday),1)])),e.needComplete?Object(a["h"])("",!0):(Object(a["z"])(),Object(a["g"])("div",O,[j,Object(a["k"])("div",y,Object(a["L"])(e.fanMobile),1)])),e.needComplete?(Object(a["z"])(),Object(a["g"])(J,{key:3,onSubmit:e.onSubmit,"input-align":"right"},{default:o((function(){return[Object(a["k"])($,{inset:""},{default:o((function(){return[e.fanGenderFlag?Object(a["h"])("",!0):(Object(a["z"])(),Object(a["g"])(H,{key:0,modelValue:e.fanGender,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.fanGender=t}),readonly:"",name:"",label:"性别",placeholder:"请选择性别","error-message-align":"right",onClick:t[2]||(t[2]=function(t){return e.handleClickField("showMalePicker")}),rules:[{required:!0,message:"性别不能为空"}]},null,8,["modelValue"])),Object(a["k"])(_,{show:e.showMalePicker,"onUpdate:show":t[4]||(t[4]=function(t){return e.showMalePicker=t}),position:"bottom"},{default:o((function(){return[Object(a["k"])(T,{columns:e.maleColumns,"columns-field-names":e.maleCustomFieldName,"default-index":e.maleIndex,onConfirm:e.onMaleConfirm,onCancel:t[3]||(t[3]=function(t){return e.showMalePicker=!1})},null,8,["columns","columns-field-names","default-index","onConfirm"])]})),_:1},8,["show"]),e.fanGenderFlag?(Object(a["z"])(),Object(a["g"])("div",k,[w,Object(a["k"])("div",C,Object(a["L"])(e.fanGender),1)])):Object(a["h"])("",!0),e.birthdayFlag?Object(a["h"])("",!0):(Object(a["z"])(),Object(a["g"])(H,{key:2,modelValue:e.birthday,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.birthday=t}),name:"",label:"生日",readonly:"",placeholder:"点击选择时间","error-message-align":"right",onClick:t[6]||(t[6]=function(t){return e.handleClickField("showDatetimePicker")}),rules:[{required:!0,message:"生日不能为空"}]},null,8,["modelValue"])),Object(a["k"])(_,{show:e.showDatetimePicker,"onUpdate:show":t[9]||(t[9]=function(t){return e.showDatetimePicker=t}),position:"bottom"},{default:o((function(){return[Object(a["k"])(L,{modelValue:e.currentDate,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.currentDate=t}),type:"date",title:"选择年月日","min-date":e.minDate,"max-date":e.maxDate,onConfirm:e.onDatetimeConfirm,onCancel:t[8]||(t[8]=function(t){return e.showDatetimePicker=!1})},null,8,["modelValue","min-date","max-date","onConfirm"])]})),_:1},8,["show"]),e.birthdayFlag?(Object(a["z"])(),Object(a["g"])("div",S,[P,Object(a["k"])("div",D,Object(a["L"])(e.birthday),1)])):Object(a["h"])("",!0),e.fanMobileFlag?Object(a["h"])("",!0):(Object(a["z"])(),Object(a["g"])(H,{key:4,modelValue:e.fanMobile,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.fanMobile=t}),name:"",label:"手机号",placeholder:"请输入手机号","error-message-align":"right",rules:[{required:!0,message:"电话号码不能为空"},{required:!0,pattern:e.phonePattern,message:"电话号码格式错误"}]},null,8,["modelValue","rules"])),e.fanMobileFlag?(Object(a["z"])(),Object(a["g"])("div",x,[E,Object(a["k"])("div",M,Object(a["L"])(e.fanMobile),1)])):Object(a["h"])("",!0),e.fanMobileFlag?Object(a["h"])("",!0):(Object(a["z"])(),Object(a["g"])(H,{key:6,class:"phoneCode",modelValue:e.phoneCode,"onUpdate:modelValue":[t[11]||(t[11]=function(t){return e.phoneCode=t}),e.handleCodeChange],name:"phoneCode",label:"验证码",placeholder:"请输入验证码","error-message-align":"right",rules:[{required:!0,pattern:e.phoneCodePattern,message:"请输入验证码"}]},{button:o((function(){return[Object(a["k"])(q,{disabled:e.btnDisabled,size:"small",type:"primary",onClick:e.handleGetCode},{default:o((function(){return[Object(a["j"])(Object(a["L"])(e.phoneCodeText),1)]})),_:1},8,["disabled","onClick"])]})),_:1},8,["modelValue","onUpdate:modelValue","rules"]))]})),_:1}),Object(a["k"])("div",I,[Object(a["k"])(q,{round:"",block:"",type:"primary","native-type":"submit"},{default:o((function(){return[A]})),_:1})])]})),_:1},8,["onSubmit"])):Object(a["h"])("",!0),e.needComplete?Object(a["h"])("",!0):(Object(a["z"])(),Object(a["g"])("div",{key:4,class:"content",onClick:t[12]||(t[12]=function(){return e.jumpToAddr&&e.jumpToAddr.apply(e,arguments)})},[F,V,z]))])}));function U(e){if(Array.isArray(e))return e}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function G(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,o=!1,r=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done);a=!0)if(n.push(c.value),t&&n.length===t)break}catch(l){o=!0,r=l}finally{try{a||null==i["return"]||i["return"]()}finally{if(o)throw r}}return n}}n("fb6a"),n("b0c0"),n("a630");function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e,t){if(e){if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){return U(e)||G(e,t)||T(e,t)||_()}n("99af");var q=n("c947"),$=n("d399"),J=(n("433b"),n("5502")),Q=Object(a["l"])({name:"CustomerUserInfo",setup:function(){var e,t=Object(J["b"])(),n=Object(a["e"])((function(){return t.state.needComplete})),o=Object(a["E"])(""),r=Object(a["E"])(""),c=Object(a["E"])(""),i=Object(a["E"])(""),l=Object(a["E"])(""),u=/^1[3456789]\d{9}$/,s=/^\d{6}$/,f=Object(a["E"])(!1),d=Object(a["E"])(!1),b=Object(a["E"])(new Date),m=Object(a["E"])(new Date(1920,0,1)),v=Object(a["E"])(new Date),h=[{name:"男",id:"1"},{name:"女",id:"2"}],g={text:"name"},p=Object(a["E"])(0),O=Object(a["E"])(""),j=Object(a["E"])("发送验证码"),y=Object(a["E"])(60),k=Object(a["E"])(!1),w=Object(a["E"])(!1),C=Object(a["E"])(!1),S=Object(a["E"])(!1),P=function(){window.location.href="/yx/views/general/addr-mgr.html"},D=function(){q["b"].post("/hbSeller/fans/personalInfo/query",{},!1).then((function(e){"200"===e.code?(o.value=e.data.info.fanHeadImg,r.value=e.data.info.fanNickName,i.value=e.data.info.birthday||"",l.value=e.data.info.fanMobile,c.value=1==e.data.info.fanGender?"男":2==e.data.info.fanGender?"女":"",o.value=e.data.info.fanHeadImg,c.value&&(w.value=!0),i.value&&(C.value=!0),l.value&&(S.value=!0)):$["a"].fail(e.msg)})).catch((function(e){console.log(e)}))},x=function(e){"showDatetimePicker"===e&&(f.value=!0),"showMalePicker"===e&&(d.value=!0)},E=function(e){var t=new Date(e);i.value=t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()-0<10?"0"+t.getDate():t.getDate()),f.value=!1,console.log(e)},M=function(t){c.value=t.name,e=t.id,d.value=!1,console.log(e)},I=function(){O.value.length>6&&(O.value=O.value.substring(0,6))},A=function(){u.test(l.value)?q["b"].post("/syx/user/bind/svcode",{mobile:l.value},!1).then((function(e){if("200"===e.code){$["a"].success("已发送！"),k.value=!0,j.value="重新发送(".concat(y.value--,")");var t=setInterval((function(){j.value="重新发送(".concat(y.value--,")"),y.value<0&&(clearInterval(t),t=void 0,y.value=60,j.value="发送验证码",k.value=!1)}),1e3)}else $["a"].fail(e.msg)})).catch((function(e){console.log(e)})):$["a"].fail("请输入正确的手机号！")},F=function(e){return new Promise((function(t){q["b"].post("/spoint/member/completeUserInfo",e,!1).then((function(e){t(e)}))}))},V=function(e){return new Promise((function(t){q["b"].post("/syx/user/bind/mobile",e,!1).then((function(e){t(e)}))}))},z=function(){q["b"].post("/hbSeller/fans/syncUserInfo",{},!1).then((function(e){console.log(e),"200"===e.code&&(t.commit("setNeedComplete",!1),sessionStorage.setItem("needComplete","0"),$["a"].success("保存成功!"),setTimeout((function(){D()}),3e3))}))},N=function(){e||(e="男"===c.value?"1":"2");var t={img:null,nickname:null,birth:i.value,gender:e},n={mobile:l.value,vcode:O.value},a=[];w.value&&C.value||a.push(F(t)),S.value||a.push(V(n)),console.log(t,n),Promise.all(a).then((function(e){if(2===e.length){var t=L(e,2),n=t[0],a=t[1];if(200==n.code&&200==a.code)z();else{var o="".concat(n.msg?n.msg:"").concat(n.msg&&a.msg?",":"").concat(a.msg?a.msg:"");$["a"].fail(o)}}else{var r=L(e,1),c=r[0];200==c.code?z():$["a"].fail("".concat(c.msg))}}))};return Object(a["w"])((function(){D(),$["a"].success("保存成功!")})),{needComplete:n,fanHeadImg:o,fanNickName:r,birthday:i,fanMobile:l,fanGender:c,jumpToAddr:P,phonePattern:u,handleClickField:x,showDatetimePicker:f,showMalePicker:d,currentDate:b,minDate:m,maxDate:v,maleColumns:h,maleCustomFieldName:g,maleIndex:p,phoneCode:O,phoneCodePattern:s,phoneCodeText:j,codeCount:y,btnDisabled:k,fanGenderFlag:w,birthdayFlag:C,fanMobileFlag:S,handleGetCode:A,handleCodeChange:I,onDatetimeConfirm:E,onMaleConfirm:M,onSubmit:N}}});n("ea4c"),n("d4aa");Q.render=N,Q.__scopeId="data-v-09c193cc";t["default"]=Q},"4df4":function(e,t,n){"use strict";var a=n("0366"),o=n("7b0b"),r=n("9bdd"),c=n("e95a"),i=n("50c4"),l=n("8418"),u=n("35a1");e.exports=function(e){var t,n,s,f,d,b,m=o(e),v="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,p=void 0!==g,O=u(m),j=0;if(p&&(g=a(g,h>2?arguments[2]:void 0,2)),void 0==O||v==Array&&c(O))for(t=i(m.length),n=new v(t);t>j;j++)b=p?g(m[j],j):m[j],l(n,j,b);else for(f=O.call(m),d=f.next,n=new v;!(s=d.call(f)).done;j++)b=p?r(f,g,[s.value,j],!0):s.value,l(n,j,b);return n.length=j,n}},"746f":function(e,t,n){var a=n("428f"),o=n("5135"),r=n("e538"),c=n("9bf2").f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});o(t,e)||c(t,e,{value:r.f(e)})}},"9bdd":function(e,t,n){var a=n("825a"),o=n("2a62");e.exports=function(e,t,n,r){try{return r?t(a(n)[0],n[1]):t(n)}catch(c){throw o(e),c}}},"9ffd":function(e,t,n){},a4d3:function(e,t,n){"use strict";var a=n("23e7"),o=n("da84"),r=n("d066"),c=n("c430"),i=n("83ab"),l=n("4930"),u=n("fdbf"),s=n("d039"),f=n("5135"),d=n("e8b5"),b=n("861d"),m=n("825a"),v=n("7b0b"),h=n("fc6a"),g=n("c04e"),p=n("5c6c"),O=n("7c73"),j=n("df75"),y=n("241c"),k=n("057f"),w=n("7418"),C=n("06cf"),S=n("9bf2"),P=n("d1e7"),D=n("9112"),x=n("6eeb"),E=n("5692"),M=n("f772"),I=n("d012"),A=n("90e3"),F=n("b622"),V=n("e538"),z=n("746f"),N=n("d44e"),U=n("69f3"),G=n("b727").forEach,H=M("hidden"),T="Symbol",_="prototype",L=F("toPrimitive"),q=U.set,$=U.getterFor(T),J=Object[_],Q=o.Symbol,W=r("JSON","stringify"),Y=C.f,B=S.f,K=k.f,R=P.f,X=E("symbols"),Z=E("op-symbols"),ee=E("string-to-symbol-registry"),te=E("symbol-to-string-registry"),ne=E("wks"),ae=o.QObject,oe=!ae||!ae[_]||!ae[_].findChild,re=i&&s((function(){return 7!=O(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a}))?function(e,t,n){var a=Y(J,t);a&&delete J[t],B(e,t,n),a&&e!==J&&B(J,t,a)}:B,ce=function(e,t){var n=X[e]=O(Q[_]);return q(n,{type:T,tag:e,description:t}),i||(n.description=t),n},ie=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Q},le=function(e,t,n){e===J&&le(Z,t,n),m(e);var a=g(t,!0);return m(n),f(X,a)?(n.enumerable?(f(e,H)&&e[H][a]&&(e[H][a]=!1),n=O(n,{enumerable:p(0,!1)})):(f(e,H)||B(e,H,p(1,{})),e[H][a]=!0),re(e,a,n)):B(e,a,n)},ue=function(e,t){m(e);var n=h(t),a=j(n).concat(me(n));return G(a,(function(t){i&&!fe.call(n,t)||le(e,t,n[t])})),e},se=function(e,t){return void 0===t?O(e):ue(O(e),t)},fe=function(e){var t=g(e,!0),n=R.call(this,t);return!(this===J&&f(X,t)&&!f(Z,t))&&(!(n||!f(this,t)||!f(X,t)||f(this,H)&&this[H][t])||n)},de=function(e,t){var n=h(e),a=g(t,!0);if(n!==J||!f(X,a)||f(Z,a)){var o=Y(n,a);return!o||!f(X,a)||f(n,H)&&n[H][a]||(o.enumerable=!0),o}},be=function(e){var t=K(h(e)),n=[];return G(t,(function(e){f(X,e)||f(I,e)||n.push(e)})),n},me=function(e){var t=e===J,n=K(t?Z:h(e)),a=[];return G(n,(function(e){!f(X,e)||t&&!f(J,e)||a.push(X[e])})),a};if(l||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=A(e),n=function(e){this===J&&n.call(Z,e),f(this,H)&&f(this[H],t)&&(this[H][t]=!1),re(this,t,p(1,e))};return i&&oe&&re(J,t,{configurable:!0,set:n}),ce(t,e)},x(Q[_],"toString",(function(){return $(this).tag})),x(Q,"withoutSetter",(function(e){return ce(A(e),e)})),P.f=fe,S.f=le,C.f=de,y.f=k.f=be,w.f=me,V.f=function(e){return ce(F(e),e)},i&&(B(Q[_],"description",{configurable:!0,get:function(){return $(this).description}}),c||x(J,"propertyIsEnumerable",fe,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:Q}),G(j(ne),(function(e){z(e)})),a({target:T,stat:!0,forced:!l},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=Q(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),a({target:"Object",stat:!0,forced:!l,sham:!i},{create:se,defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:de}),a({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:be,getOwnPropertySymbols:me}),a({target:"Object",stat:!0,forced:s((function(){w.f(1)}))},{getOwnPropertySymbols:function(e){return w.f(v(e))}}),W){var ve=!l||s((function(){var e=Q();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}));a({target:"JSON",stat:!0,forced:ve},{stringify:function(e,t,n){var a,o=[e],r=1;while(arguments.length>r)o.push(arguments[r++]);if(a=t,(b(t)||void 0!==e)&&!ie(e))return d(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!ie(t))return t}),o[1]=t,W.apply(null,o)}})}Q[_][L]||D(Q[_],L,Q[_].valueOf),N(Q,T),I[H]=!0},a630:function(e,t,n){var a=n("23e7"),o=n("4df4"),r=n("1c7e"),c=!r((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:c},{from:o})},b58a:function(e,t,n){},d28b:function(e,t,n){var a=n("746f");a("iterator")},d4aa:function(e,t,n){"use strict";n("b58a")},e01a:function(e,t,n){"use strict";var a=n("23e7"),o=n("83ab"),r=n("da84"),c=n("5135"),i=n("861d"),l=n("9bf2").f,u=n("e893"),s=r.Symbol;if(o&&"function"==typeof s&&(!("description"in s.prototype)||void 0!==s().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new s(e):void 0===e?s():s(e);return""===e&&(f[t]=!0),t};u(d,s);var b=d.prototype=s.prototype;b.constructor=d;var m=b.toString,v="Symbol(test)"==String(s("test")),h=/^Symbol\((.*)\)[^)]+$/;l(b,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=m.call(e);if(c(f,e))return"";var n=v?t.slice(7,-1):t.replace(h,"$1");return""===n?void 0:n}}),a({global:!0,forced:!0},{Symbol:d})}},e538:function(e,t,n){var a=n("b622");t.f=a},ea4c:function(e,t,n){"use strict";n("9ffd")},fb6a:function(e,t,n){"use strict";var a=n("23e7"),o=n("861d"),r=n("e8b5"),c=n("23cb"),i=n("50c4"),l=n("fc6a"),u=n("8418"),s=n("b622"),f=n("1dde"),d=f("slice"),b=s("species"),m=[].slice,v=Math.max;a({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var n,a,s,f=l(this),d=i(f.length),h=c(e,d),g=c(void 0===t?d:t,d);if(r(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?o(n)&&(n=n[b],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(f,h,g);for(a=new(void 0===n?Array:n)(v(g-h,0)),s=0;h<g;h++,s++)h in f&&u(a,s,f[h]);return a.length=s,a}})}}]);
//# sourceMappingURL=CustomerUserInfo.4d85f8b4.js.map